import{p as Re,c as E,q as Ee,s as T,x as G,y as D,z as ke,A as v,j as c,B as Oe,C as _e,D as X,E as Y,G as ee,u as je,a as Pe,b as Ce,H as Ve,r as Ae,d as Le,o as w,e as R,f as x,g as te,w as ne,h as Se,i as L,v as z,F as C,I as A,t as k,J as Te,k as ze,m as Ie,n as Ne,_ as De,L as Fe}from"./index-60d5002e.js";function re(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?re(Object(t),!0).forEach(function(n){Ue(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ue(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function se(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,n)=>(r.includes(n)||(t[n]=c(e[n])),t),{})}function N(e){return typeof e=="function"}function Be(e){return Oe(e)||_e(e)}function ce(e,r,t){let n=e;const a=r.split(".");for(let u=0;u<a.length;u++){if(!n[a[u]])return t;n=n[a[u]]}return n}function M(e,r,t){return v(()=>e.some(n=>ce(r,n,{[t]:!1})[t]))}function ae(e,r,t){return v(()=>e.reduce((n,a)=>{const u=ce(r,a,{[t]:!1})[t]||[];return n.concat(u)},[]))}function de(e,r,t,n){return e.call(n,c(r),c(t),n)}function fe(e){return e.$valid!==void 0?!e.$valid:!e}function qe(e,r,t,n,a,u,g){let{$lazy:d,$rewardEarly:i}=a,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],m=arguments.length>8?arguments[8]:void 0,o=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const p=E(!!n.value),s=E(0);t.value=!1;const $=T([r,n].concat(l,h),()=>{if(d&&!n.value||i&&!o.value&&!t.value)return;let f;try{f=de(e,r,m,g)}catch(y){f=Promise.reject(y)}s.value++,t.value=!!s.value,p.value=!1,Promise.resolve(f).then(y=>{s.value--,t.value=!!s.value,u.value=y,p.value=fe(y)}).catch(y=>{s.value--,t.value=!!s.value,u.value=y,p.value=!0})},{immediate:!0,deep:typeof r=="object"});return{$invalid:p,$unwatch:$}}function Me(e,r,t,n,a,u,g,d){let{$lazy:i,$rewardEarly:l}=n;const m=()=>({}),o=v(()=>{if(i&&!t.value||l&&!d.value)return!1;let h=!0;try{const p=de(e,r,g,u);a.value=p,h=fe(p)}catch(p){a.value=p}return h});return{$unwatch:m,$invalid:o}}function Ge(e,r,t,n,a,u,g,d,i,l,m){const o=E(!1),h=e.$params||{},p=E(null);let s,$;e.$async?{$invalid:s,$unwatch:$}=qe(e.$validator,r,o,t,n,p,a,e.$watchTargets,i,l,m):{$invalid:s,$unwatch:$}=Me(e.$validator,r,t,n,p,a,i,l);const f=e.$message;return{$message:N(f)?v(()=>f(se({$pending:o,$invalid:s,$params:se(h),$model:r,$response:p,$validator:u,$propertyPath:d,$property:g}))):f||"",$params:h,$pending:o,$invalid:s,$response:p,$unwatch:$}}function He(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=c(e),t=Object.keys(r),n={},a={},u={};let g=null;return t.forEach(d=>{const i=r[d];switch(!0){case N(i.$validator):n[d]=i;break;case N(i):n[d]={$validator:i};break;case d==="$validationGroups":g=i;break;case d.startsWith("$"):u[d]=i;break;default:a[d]=i}}),{rules:n,nestedValidators:a,config:u,validationGroups:g}}const Je="__root";function We(e,r,t,n,a,u,g,d,i){const l=Object.keys(e),m=n.get(a,e),o=E(!1),h=E(!1),p=E(0);if(m){if(!m.$partial)return m;m.$unwatch(),o.value=m.$dirty.value}const s={$dirty:o,$path:a,$touch:()=>{o.value||(o.value=!0)},$reset:()=>{o.value&&(o.value=!1)},$commit:()=>{}};return l.length?(l.forEach($=>{s[$]=Ge(e[$],r,s.$dirty,u,g,$,t,a,i,h,p)}),s.$externalResults=v(()=>d.value?[].concat(d.value).map(($,f)=>({$propertyPath:a,$property:t,$validator:"$externalResults",$uid:`${a}-externalResult-${f}`,$message:$,$params:{},$response:null,$pending:!1})):[]),s.$invalid=v(()=>{const $=l.some(f=>c(s[f].$invalid));return h.value=$,!!s.$externalResults.value.length||$}),s.$pending=v(()=>l.some($=>c(s[$].$pending))),s.$error=v(()=>s.$dirty.value?s.$pending.value||s.$invalid.value:!1),s.$silentErrors=v(()=>l.filter($=>c(s[$].$invalid)).map($=>{const f=s[$];return D({$propertyPath:a,$property:t,$validator:$,$uid:`${a}-${$}`,$message:f.$message,$params:f.$params,$response:f.$response,$pending:f.$pending})}).concat(s.$externalResults.value)),s.$errors=v(()=>s.$dirty.value?s.$silentErrors.value:[]),s.$unwatch=()=>l.forEach($=>{s[$].$unwatch()}),s.$commit=()=>{h.value=!0,p.value=Date.now()},n.set(a,e,s),s):(m&&n.set(a,e,s),s)}function Ke(e,r,t,n,a,u,g){const d=Object.keys(e);return d.length?d.reduce((i,l)=>(i[l]=H({validations:e[l],state:r,key:l,parentKey:t,resultsCache:n,globalConfig:a,instance:u,externalResults:g}),i),{}):{}}function Qe(e,r,t){const n=v(()=>[r,t].filter(s=>s).reduce((s,$)=>s.concat(Object.values(c($))),[])),a=v({get(){return e.$dirty.value||(n.value.length?n.value.every(s=>s.$dirty):!1)},set(s){e.$dirty.value=s}}),u=v(()=>{const s=c(e.$silentErrors)||[],$=n.value.filter(f=>(c(f).$silentErrors||[]).length).reduce((f,y)=>f.concat(...y.$silentErrors),[]);return s.concat($)}),g=v(()=>{const s=c(e.$errors)||[],$=n.value.filter(f=>(c(f).$errors||[]).length).reduce((f,y)=>f.concat(...y.$errors),[]);return s.concat($)}),d=v(()=>n.value.some(s=>s.$invalid)||c(e.$invalid)||!1),i=v(()=>n.value.some(s=>c(s.$pending))||c(e.$pending)||!1),l=v(()=>n.value.some(s=>s.$dirty)||n.value.some(s=>s.$anyDirty)||a.value),m=v(()=>a.value?i.value||d.value:!1),o=()=>{e.$touch(),n.value.forEach(s=>{s.$touch()})},h=()=>{e.$commit(),n.value.forEach(s=>{s.$commit()})},p=()=>{e.$reset(),n.value.forEach(s=>{s.$reset()})};return n.value.length&&n.value.every(s=>s.$dirty)&&o(),{$dirty:a,$errors:g,$invalid:d,$anyDirty:l,$error:m,$pending:i,$touch:o,$reset:p,$silentErrors:u,$commit:h}}function H(e){let{validations:r,state:t,key:n,parentKey:a,childResults:u,resultsCache:g,globalConfig:d={},instance:i,externalResults:l}=e;const m=a?`${a}.${n}`:n,{rules:o,nestedValidators:h,config:p,validationGroups:s}=He(r),$=_(_({},d),p),f=n?v(()=>{const b=c(t);return b?c(b[n]):void 0}):t,y=_({},c(l)||{}),W=v(()=>{const b=c(l);return n?b?c(b[n]):void 0:b}),K=We(o,f,n,g,m,$,i,W,t),j=Ke(h,f,m,g,$,i,W),Q={};s&&Object.entries(s).forEach(b=>{let[P,O]=b;Q[P]={$invalid:M(O,j,"$invalid"),$error:M(O,j,"$error"),$pending:M(O,j,"$pending"),$errors:ae(O,j,"$errors"),$silentErrors:ae(O,j,"$silentErrors")}});const{$dirty:F,$errors:me,$invalid:U,$anyDirty:pe,$error:ge,$pending:B,$touch:q,$reset:ve,$silentErrors:he,$commit:Z}=Qe(K,j,u),ye=n?v({get:()=>c(f),set:b=>{F.value=!0;const P=c(t),O=c(l);O&&(O[n]=y[n]),G(P[n])?P[n].value=b:P[n]=b}}):null;n&&$.$autoDirty&&T(f,()=>{F.value||q();const b=c(l);b&&(b[n]=y[n])},{flush:"sync"});async function be(){return q(),$.$rewardEarly&&(Z(),await ee()),await ee(),new Promise(b=>{if(!B.value)return b(!U.value);const P=T(B,()=>{b(!U.value),P()})})}function xe(b){return(u.value||{})[b]}function we(){G(l)?l.value=y:Object.keys(y).length===0?Object.keys(l).forEach(b=>{delete l[b]}):Object.assign(l,y)}return D(_(_(_({},K),{},{$model:ye,$dirty:F,$error:ge,$errors:me,$invalid:U,$anyDirty:pe,$pending:B,$touch:q,$reset:ve,$path:m||Je,$silentErrors:he,$validate:be,$commit:Z},u&&{$getResultsForChild:xe,$clearExternalResults:we,$validationGroups:Q}),j))}class Ze{constructor(){this.storage=new Map}set(r,t,n){this.storage.set(r,{rules:t,result:n})}checkRulesValidity(r,t,n){const a=Object.keys(n),u=Object.keys(t);return u.length!==a.length||!u.every(d=>a.includes(d))?!1:u.every(d=>t[d].$params?Object.keys(t[d].$params).every(i=>c(n[d].$params[i])===c(t[d].$params[i])):!0)}get(r,t){const n=this.storage.get(r);if(!n)return;const{rules:a,result:u}=n,g=this.checkRulesValidity(r,t,a),d=u.$unwatch?u.$unwatch:()=>({});return g?u:{$dirty:u.$dirty,$partial:!0,$unwatch:d}}}const I={COLLECT_ALL:!0,COLLECT_NONE:!1},oe=Symbol("vuelidate#injectChildResults"),le=Symbol("vuelidate#removeChildResults");function Xe(e){let{$scope:r,instance:t}=e;const n={},a=E([]),u=v(()=>a.value.reduce((m,o)=>(m[o]=c(n[o]),m),{}));function g(m,o){let{$registerAs:h,$scope:p,$stopPropagation:s}=o;s||r===I.COLLECT_NONE||p===I.COLLECT_NONE||r!==I.COLLECT_ALL&&r!==p||(n[h]=m,a.value.push(h))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],g);function d(m){a.value=a.value.filter(o=>o!==m),delete n[m]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],d);const i=X(oe,[]);Y(oe,t.__vuelidateInjectInstances);const l=X(le,[]);return Y(le,t.__vuelidateRemoveInstances),{childResults:u,sendValidationResultsToParent:i,removeValidationResultsFromParent:l}}function $e(e){return new Proxy(e,{get(r,t){return typeof r[t]=="object"?$e(r[t]):v(()=>r[t])}})}let ie=0;function Ye(e,r){var t;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(n=e,e=void 0,r=void 0);let{$registerAs:a,$scope:u=I.COLLECT_ALL,$stopPropagation:g,$externalResults:d,currentVueInstance:i}=n;const l=i||((t=Re())===null||t===void 0?void 0:t.proxy),m=l?l.$options:{};a||(ie+=1,a=`_vuelidate_${ie}`);const o=E({}),h=new Ze,{childResults:p,sendValidationResultsToParent:s,removeValidationResultsFromParent:$}=l?Xe({$scope:u,instance:l}):{childResults:E({})};if(!e&&m.validations){const f=m.validations;r=E({}),Ee(()=>{r.value=l,T(()=>N(f)?f.call(r.value,new $e(r.value)):f,y=>{o.value=H({validations:y,state:r,childResults:p,resultsCache:h,globalConfig:n,instance:l,externalResults:d||l.vuelidateExternalResults})},{immediate:!0})}),n=m.validationsConfig||n}else{const f=G(e)||Be(e)?e:D(e||{});T(f,y=>{o.value=H({validations:y,state:r,childResults:p,resultsCache:h,globalConfig:n,instance:l??{},externalResults:d})},{immediate:!0})}return l&&(s.forEach(f=>f(o,{$registerAs:a,$scope:u,$stopPropagation:g})),ke(()=>$.forEach(f=>f(a)))),v(()=>_(_({},c(o.value)),p.value))}const J=e=>{if(e=c(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let r in e)return!0;return!1}return!!String(e).length},et=e=>(e=c(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function V(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return n=>(n=c(n),!J(n)||r.every(a=>(a.lastIndex=0,a.test(n))))}V(/^[a-zA-Z]*$/);V(/^[a-zA-Z0-9]*$/);V(/^\d*(\.\d+)?$/);const tt=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var nt=V(tt),rt={$validator:nt,$message:"Value is not a valid email address",$params:{type:"email"}};function st(e){return r=>!J(r)||et(r)>=c(e)}function ue(e){return{$validator:st(e),$message:r=>{let{$params:t}=r;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function at(e){return typeof e=="string"&&(e=e.trim()),J(e)}var S={$validator:at,$message:"Value is required",$params:{type:"required"}};function ot(e){return r=>c(r)===c(e)}function lt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"other";return{$validator:ot(e),$message:t=>`The value must be equal to the ${r} value`,$params:{equalTo:e,otherName:r,type:"sameAs"}}}const it=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;V(it);V(/(^[0-9]*$)|(^-[0-9]+$)/);V(/^[-]?\d*(\.\d+)?$/);function ut(){const e=je(),r=Pe();return Ce({mutationFn:t=>Ve(t),onSuccess:()=>{r.addNotification("success","Your accout was successfully signed up"),e.invalidateQueries({queryKey:["user"]}),Ae.push("/")},onError:t=>{switch(t.code){case"auth/email-already-in-use":r.addNotification("error","Email already in use!");break;case"auth/invalid-email":alert("Invalid email"),r.addNotification("error","Invalid email!");break;case"auth/operation-not-allowed":r.addNotification("error","Operation not allowed!");break;case"auth/weak-password":r.addNotification("error","Weak password!");break;default:r.addNotification("error","Error signing up!")}}})}const ct={class:"pl-32 pt-7"},dt=x("img",{src:De,alt:"logo"},null,-1),ft=x("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),$t={class:"flex flex-col items-center justify-center h-screen -mt-7"},mt=["placeholder"],pt=["placeholder"],gt=["placeholder"],vt=["placeholder"],ht={class:"dark:text-zinc-400"},yt={disabled:""},bt=["disabled"],xt={class:"mt-10 block text-center"},wt={class:"block pb-3 dark:text-zinc-400"},Et={__name:"SignUp",setup(e){const r=E(["BackEnd developer","FrontEnd developer","HR manager","Office manager","Project Manager","Security specialist","UI/UX"]),t=D({username:"",email:"",password:"",confirmPassword:"",jobTitle:""}),n=v(()=>({username:{required:S,minLength:ue(4)},email:{required:S,email:rt},password:{required:S,minLength:ue(8)},confirmPassword:{required:S,sameAs:lt(t.password)},jobTitle:{required:S}})),a=Ye(n,t),{mutateAsync:u,isLoading:g}=ut(),d=async i=>{await a.value.$validate()&&u(i)};return(i,l)=>{const m=Le("router-link");return w(),R(C,null,[x("div",ct,[te(m,{to:{name:"home"},class:"flex gap-3 items-center"},{default:ne(()=>[dt,ft]),_:1})]),x("div",$t,[x("form",{onSubmit:l[5]||(l[5]=Se(o=>d(t),["prevent"])),class:"flex flex-col gap-5"},[L(x("input",{type:"text",name:"name",placeholder:i.$t("placeholders.username"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":l[0]||(l[0]=o=>t.username=o)},null,8,mt),[[z,t.username]]),(w(!0),R(C,null,A(c(a).username.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},k(o.$message),1))),128)),L(x("input",{name:"email",placeholder:i.$t("placeholders.email"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":l[1]||(l[1]=o=>t.email=o)},null,8,pt),[[z,t.email]]),(w(!0),R(C,null,A(c(a).email.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},k(o.$message),1))),128)),L(x("input",{name:"password",type:"password",placeholder:i.$t("placeholders.createPassword"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":l[2]||(l[2]=o=>t.password=o)},null,8,gt),[[z,t.password]]),(w(!0),R(C,null,A(c(a).password.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},k(o.$message),1))),128)),L(x("input",{name:"password",type:"password",placeholder:i.$t("placeholders.confirmPassword"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":l[3]||(l[3]=o=>t.confirmPassword=o)},null,8,vt),[[z,t.confirmPassword]]),(w(!0),R(C,null,A(c(a).confirmPassword.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},k(o.$message),1))),128)),x("label",ht,k(i.$t("texts.selectJob")),1),L(x("select",{"onUpdate:modelValue":l[4]||(l[4]=o=>t.jobTitle=o),class:"dark:bg-dark-bg-black"},[x("option",yt,k(i.$t("texts.selectJob")),1),(w(!0),R(C,null,A(r.value,(o,h)=>(w(),R("option",{key:h},k(o),1))),128))],512),[[Te,t.jobTitle]]),(w(!0),R(C,null,A(c(a).jobTitle.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},k(o.$message),1))),128)),x("button",{type:"submit",class:"flex space-x-3 border-2 rounded-lg mx-auto text-xl bg-main-blue py-1 px-2 text-black dark:text-zinc-200 dark:border-0",disabled:c(g)},[c(g)?(w(),ze(Fe,{key:0})):Ie("",!0),x("span",null,k(i.$t("buttons.signUp")),1)],8,bt)],32),x("div",xt,[x("span",wt,k(i.$t("texts.textSignUp")),1),te(m,{to:{name:"login"},class:"underline text-lg dark:text-zinc-300"},{default:ne(()=>[Ne(k(i.$t("buttons.logIn")),1)]),_:1})])])],64)}}};export{Et as default};
