(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rh(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const je={},Ls=[],mn=()=>{},bI=()=>!1,RI=/^on[^a-z]/,Oc=t=>RI.test(t),Ch=t=>t.startsWith("onUpdate:"),ut=Object.assign,Ph=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},CI=Object.prototype.hasOwnProperty,Ce=(t,e)=>CI.call(t,e),ne=Array.isArray,Ms=t=>Do(t)==="[object Map]",kc=t=>Do(t)==="[object Set]",Fd=t=>Do(t)==="[object Date]",ge=t=>typeof t=="function",ze=t=>typeof t=="string",qs=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",n_=t=>(Ve(t)||ge(t))&&ge(t.then)&&ge(t.catch),r_=Object.prototype.toString,Do=t=>r_.call(t),PI=t=>Do(t).slice(8,-1),s_=t=>Do(t)==="[object Object]",Sh=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Na=Rh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},SI=/-(\w)/g,Mn=Nc(t=>t.replace(SI,(e,n)=>n?n.toUpperCase():"")),OI=/\B([A-Z])/g,gs=Nc(t=>t.replace(OI,"-$1").toLowerCase()),Dc=Nc(t=>t.charAt(0).toUpperCase()+t.slice(1)),kl=Nc(t=>t?`on${Dc(t)}`:""),as=(t,e)=>!Object.is(t,e),Da=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ka=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Qa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},kI=t=>{const e=ze(t)?Number(t):NaN;return isNaN(e)?t:e};let Vd;const uu=()=>Vd||(Vd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lc(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ze(r)?MI(r):Lc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ze(t)||Ve(t))return t}const NI=/;(?![^(]*\))/g,DI=/:([^]+)/,LI=/\/\*[^]*?\*\//g;function MI(t){const e={};return t.replace(LI,"").split(NI).forEach(n=>{if(n){const r=n.split(DI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Er(t){let e="";if(ze(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const r=Er(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function tF(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ze(e)&&(t.class=Er(e)),n&&(t.style=Lc(n)),t}const xI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",FI=Rh(xI);function i_(t){return!!t||t===""}function VI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Mc(t[r],e[r]);return n}function Mc(t,e){if(t===e)return!0;let n=Fd(t),r=Fd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=qs(t),r=qs(e),n||r)return t===e;if(n=ne(t),r=ne(e),n||r)return n&&r?VI(t,e):!1;if(n=Ve(t),r=Ve(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Mc(t[o],e[o]))return!1}}return String(t)===String(e)}function UI(t,e){return t.findIndex(n=>Mc(n,e))}const Qe=t=>ze(t)?t:t==null?"":ne(t)||Ve(t)&&(t.toString===r_||!ge(t.toString))?JSON.stringify(t,o_,2):String(t),o_=(t,e)=>e&&e.__v_isRef?o_(t,e.value):Ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:kc(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!ne(e)&&!s_(e)?String(e):e;let Yt;class a_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yt,!e&&Yt&&(this.index=(Yt.scopes||(Yt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Yt;try{return Yt=this,e()}finally{Yt=n}}}on(){Yt=this}off(){Yt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Oh(t){return new a_(t)}function $I(t,e=Yt){e&&e.active&&e.effects.push(t)}function kh(){return Yt}function xc(t){Yt&&Yt.cleanups.push(t)}const Nh=t=>{const e=new Set(t);return e.w=0,e.n=0,e},c_=t=>(t.w&Pr)>0,l_=t=>(t.n&Pr)>0,BI=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Pr},jI=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];c_(s)&&!l_(s)?s.delete(t):e[n++]=s,s.w&=~Pr,s.n&=~Pr}e.length=n}},Ga=new WeakMap;let Ni=0,Pr=1;const hu=30;let fn;const rs=Symbol(""),fu=Symbol("");class Dh{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$I(this,r)}run(){if(!this.active)return this.fn();let e=fn,n=Tr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=fn,fn=this,Tr=!0,Pr=1<<++Ni,Ni<=hu?BI(this):Ud(this),this.fn()}finally{Ni<=hu&&jI(this),Pr=1<<--Ni,fn=this.parent,Tr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fn===this?this.deferStop=!0:this.active&&(Ud(this),this.onStop&&this.onStop(),this.active=!1)}}function Ud(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Tr=!0;const u_=[];function ci(){u_.push(Tr),Tr=!1}function li(){const t=u_.pop();Tr=t===void 0?!0:t}function Wt(t,e,n){if(Tr&&fn){let r=Ga.get(t);r||Ga.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Nh()),h_(s)}}function h_(t,e){let n=!1;Ni<=hu?l_(t)||(t.n|=Pr,n=!c_(t)):n=!t.has(fn),n&&(t.add(fn),fn.deps.push(t))}function Qn(t,e,n,r,s,i){const o=Ga.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ne(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!qs(u)&&u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ne(t)?Sh(n)&&a.push(o.get("length")):(a.push(o.get(rs)),Ms(t)&&a.push(o.get(fu)));break;case"delete":ne(t)||(a.push(o.get(rs)),Ms(t)&&a.push(o.get(fu)));break;case"set":Ms(t)&&a.push(o.get(rs));break}if(a.length===1)a[0]&&du(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);du(Nh(c))}}function du(t,e){const n=ne(t)?t:[...t];for(const r of n)r.computed&&$d(r);for(const r of n)r.computed||$d(r)}function $d(t,e){(t!==fn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function qI(t,e){var n;return(n=Ga.get(t))==null?void 0:n.get(e)}const HI=Rh("__proto__,__v_isRef,__isVue"),f_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qs)),Bd=WI();function WI(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=be(this);for(let i=0,o=this.length;i<o;i++)Wt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(be)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ci();const r=be(this)[e].apply(this,n);return li(),r}}),t}function KI(t){const e=be(this);return Wt(e,"has",t),e.hasOwnProperty(t)}class d_{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?iw:__:i?g_:m_).get(e))return e;const o=ne(e);if(!s){if(o&&Ce(Bd,n))return Reflect.get(Bd,n,r);if(n==="hasOwnProperty")return KI}const a=Reflect.get(e,n,r);return(qs(n)?f_.has(n):HI(n))||(s||Wt(e,"get",n),i)?a:$e(a)?o&&Sh(n)?a:a.value:Ve(a)?s?ui(a):zn(a):a}}class p_ extends d_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(Hs(i)&&$e(i)&&!$e(r))return!1;if(!this._shallow&&(!za(r)&&!Hs(r)&&(i=be(i),r=be(r)),!ne(e)&&$e(i)&&!$e(r)))return i.value=r,!0;const o=ne(e)&&Sh(n)?Number(n)<e.length:Ce(e,n),a=Reflect.set(e,n,r,s);return e===be(s)&&(o?as(r,i)&&Qn(e,"set",n,r):Qn(e,"add",n,r)),a}deleteProperty(e,n){const r=Ce(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Qn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!qs(n)||!f_.has(n))&&Wt(e,"has",n),r}ownKeys(e){return Wt(e,"iterate",ne(e)?"length":rs),Reflect.ownKeys(e)}}class QI extends d_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const GI=new p_,zI=new QI,YI=new p_(!0),Lh=t=>t,Fc=t=>Reflect.getPrototypeOf(t);function la(t,e,n=!1,r=!1){t=t.__v_raw;const s=be(t),i=be(e);n||(as(e,i)&&Wt(s,"get",e),Wt(s,"get",i));const{has:o}=Fc(s),a=r?Lh:n?Fh:no;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function ua(t,e=!1){const n=this.__v_raw,r=be(n),s=be(t);return e||(as(t,s)&&Wt(r,"has",t),Wt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ha(t,e=!1){return t=t.__v_raw,!e&&Wt(be(t),"iterate",rs),Reflect.get(t,"size",t)}function jd(t){t=be(t);const e=be(this);return Fc(e).has.call(e,t)||(e.add(t),Qn(e,"add",t,t)),this}function qd(t,e){e=be(e);const n=be(this),{has:r,get:s}=Fc(n);let i=r.call(n,t);i||(t=be(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?as(e,o)&&Qn(n,"set",t,e):Qn(n,"add",t,e),this}function Hd(t){const e=be(this),{has:n,get:r}=Fc(e);let s=n.call(e,t);s||(t=be(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Qn(e,"delete",t,void 0),i}function Wd(){const t=be(this),e=t.size!==0,n=t.clear();return e&&Qn(t,"clear",void 0,void 0),n}function fa(t,e){return function(r,s){const i=this,o=i.__v_raw,a=be(o),c=e?Lh:t?Fh:no;return!t&&Wt(a,"iterate",rs),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function da(t,e,n){return function(...r){const s=this.__v_raw,i=be(s),o=Ms(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?Lh:e?Fh:no;return!e&&Wt(i,"iterate",c?fu:rs),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function rr(t){return function(...e){return t==="delete"?!1:this}}function XI(){const t={get(i){return la(this,i)},get size(){return ha(this)},has:ua,add:jd,set:qd,delete:Hd,clear:Wd,forEach:fa(!1,!1)},e={get(i){return la(this,i,!1,!0)},get size(){return ha(this)},has:ua,add:jd,set:qd,delete:Hd,clear:Wd,forEach:fa(!1,!0)},n={get(i){return la(this,i,!0)},get size(){return ha(this,!0)},has(i){return ua.call(this,i,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:fa(!0,!1)},r={get(i){return la(this,i,!0,!0)},get size(){return ha(this,!0)},has(i){return ua.call(this,i,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:fa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=da(i,!1,!1),n[i]=da(i,!0,!1),e[i]=da(i,!1,!0),r[i]=da(i,!0,!0)}),[t,n,e,r]}const[JI,ZI,ew,tw]=XI();function Mh(t,e){const n=e?t?tw:ew:t?ZI:JI;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ce(n,s)&&s in r?n:r,s,i)}const nw={get:Mh(!1,!1)},rw={get:Mh(!1,!0)},sw={get:Mh(!0,!1)},m_=new WeakMap,g_=new WeakMap,__=new WeakMap,iw=new WeakMap;function ow(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aw(t){return t.__v_skip||!Object.isExtensible(t)?0:ow(PI(t))}function zn(t){return Hs(t)?t:xh(t,!1,GI,nw,m_)}function y_(t){return xh(t,!1,YI,rw,g_)}function ui(t){return xh(t,!0,zI,sw,__)}function xh(t,e,n,r,s){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=aw(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Ir(t){return Hs(t)?Ir(t.__v_raw):!!(t&&t.__v_isReactive)}function Hs(t){return!!(t&&t.__v_isReadonly)}function za(t){return!!(t&&t.__v_isShallow)}function v_(t){return Ir(t)||Hs(t)}function be(t){const e=t&&t.__v_raw;return e?be(e):t}function Vc(t){return Ka(t,"__v_skip",!0),t}const no=t=>Ve(t)?zn(t):t,Fh=t=>Ve(t)?ui(t):t;function Vh(t){Tr&&fn&&(t=be(t),h_(t.dep||(t.dep=Nh())))}function Uh(t,e){t=be(t);const n=t.dep;n&&du(n)}function $e(t){return!!(t&&t.__v_isRef===!0)}function Ge(t){return E_(t,!1)}function $h(t){return E_(t,!0)}function E_(t,e){return $e(t)?t:new cw(t,e)}class cw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:be(e),this._value=n?e:no(e)}get value(){return Vh(this),this._value}set value(e){const n=this.__v_isShallow||za(e)||Hs(e);e=n?e:be(e),as(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:no(e),Uh(this))}}function Se(t){return $e(t)?t.value:t}const lw={get:(t,e,n)=>Se(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return $e(s)&&!$e(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function T_(t){return Ir(t)?t:new Proxy(t,lw)}class uw{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Vh(this),()=>Uh(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function hw(t){return new uw(t)}function Bh(t){const e=ne(t)?new Array(t.length):{};for(const n in t)e[n]=I_(t,n);return e}class fw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qI(be(this._object),this._key)}}class dw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function pw(t,e,n){return $e(t)?t:ge(t)?new dw(t):Ve(t)&&arguments.length>1?I_(t,e,n):Ge(t)}function I_(t,e,n){const r=t[e];return $e(r)?r:new fw(t,e,n)}class mw{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Dh(e,()=>{this._dirty||(this._dirty=!0,Uh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=be(this);return Vh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function gw(t,e,n=!1){let r,s;const i=ge(t);return i?(r=t,s=mn):(r=t.get,s=t.set),new mw(r,s,i||!s,n)}function wr(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Uc(i,e,n)}return s}function an(t,e,n,r){if(ge(t)){const i=wr(t,e,n,r);return i&&n_(i)&&i.catch(o=>{Uc(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(an(t[i],e,n,r));return s}function Uc(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){wr(c,null,10,[t,o,a]);return}}_w(t,n,s,r)}function _w(t,e,n,r=!0){console.error(t)}let ro=!1,pu=!1;const Nt=[];let Rn=0;const xs=[];let Bn=null,Gr=0;const w_=Promise.resolve();let jh=null;function Lo(t){const e=jh||w_;return t?e.then(this?t.bind(this):t):e}function yw(t){let e=Rn+1,n=Nt.length;for(;e<n;){const r=e+n>>>1,s=Nt[r],i=so(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function qh(t){(!Nt.length||!Nt.includes(t,ro&&t.allowRecurse?Rn+1:Rn))&&(t.id==null?Nt.push(t):Nt.splice(yw(t.id),0,t),A_())}function A_(){!ro&&!pu&&(pu=!0,jh=w_.then(R_))}function vw(t){const e=Nt.indexOf(t);e>Rn&&Nt.splice(e,1)}function Ew(t){ne(t)?xs.push(...t):(!Bn||!Bn.includes(t,t.allowRecurse?Gr+1:Gr))&&xs.push(t),A_()}function Kd(t,e=ro?Rn+1:0){for(;e<Nt.length;e++){const n=Nt[e];n&&n.pre&&(Nt.splice(e,1),e--,n())}}function b_(t){if(xs.length){const e=[...new Set(xs)];if(xs.length=0,Bn){Bn.push(...e);return}for(Bn=e,Bn.sort((n,r)=>so(n)-so(r)),Gr=0;Gr<Bn.length;Gr++)Bn[Gr]();Bn=null,Gr=0}}const so=t=>t.id==null?1/0:t.id,Tw=(t,e)=>{const n=so(t)-so(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function R_(t){pu=!1,ro=!0,Nt.sort(Tw);const e=mn;try{for(Rn=0;Rn<Nt.length;Rn++){const n=Nt[Rn];n&&n.active!==!1&&wr(n,null,14)}}finally{Rn=0,Nt.length=0,b_(),ro=!1,jh=null,(Nt.length||xs.length)&&R_()}}function Iw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||je;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||je;f&&(s=n.map(m=>ze(m)?m.trim():m)),h&&(s=n.map(Qa))}let a,c=r[a=kl(e)]||r[a=kl(Mn(e))];!c&&i&&(c=r[a=kl(gs(e))]),c&&an(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,an(l,t,6,s)}}function C_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!ge(t)){const c=l=>{const u=C_(l,e,!0);u&&(a=!0,ut(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ve(t)&&r.set(t,null),null):(ne(i)?i.forEach(c=>o[c]=null):ut(o,i),Ve(t)&&r.set(t,o),o)}function $c(t,e){return!t||!Oc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ce(t,e[0].toLowerCase()+e.slice(1))||Ce(t,gs(e))||Ce(t,e))}let pt=null,P_=null;function Ya(t){const e=pt;return pt=t,P_=t&&t.type.__scopeId||null,e}function Tt(t,e=pt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&ip(-1);const i=Ya(e);let o;try{o=t(...s)}finally{Ya(i),r._d&&ip(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Nl(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:m,ctx:v,inheritAttrs:E}=t;let w,g;const I=Ya(t);try{if(n.shapeFlag&4){const T=s||r;w=An(u.call(T,T,h,i,m,f,v)),g=c}else{const T=e;w=An(T.length>1?T(i,{attrs:c,slots:a,emit:l}):T(i,null)),g=e.props?c:ww(c)}}catch(T){Hi.length=0,Uc(T,t,1),w=ae(un)}let b=w;if(g&&E!==!1){const T=Object.keys(g),{shapeFlag:P}=b;T.length&&P&7&&(o&&T.some(Ch)&&(g=Aw(g,o)),b=Sr(b,g))}return n.dirs&&(b=Sr(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),w=b,Ya(I),w}const ww=t=>{let e;for(const n in t)(n==="class"||n==="style"||Oc(n))&&((e||(e={}))[n]=t[n]);return e},Aw=(t,e)=>{const n={};for(const r in t)(!Ch(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function bw(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Qd(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!$c(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Qd(r,o,l):!0:!!o;return!1}function Qd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!$c(n,i))return!0}return!1}function Rw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Hh="components";function hi(t,e){return O_(Hh,t,!0,e)||t}const S_=Symbol.for("v-ndc");function nF(t){return ze(t)?O_(Hh,t,!1)||t:t||S_}function O_(t,e,n=!0,r=!1){const s=pt||ot;if(s){const i=s.type;if(t===Hh){const a=wA(i,!1);if(a&&(a===e||a===Mn(e)||a===Dc(Mn(e))))return i}const o=Gd(s[t]||i[t],e)||Gd(s.appContext[t],e);return!o&&r?i:o}}function Gd(t,e){return t&&(t[e]||t[Mn(e)]||t[Dc(Mn(e))])}const Cw=t=>t.__isSuspense;function Pw(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Ew(t)}function k_(t,e){return Wh(t,null,e)}const pa={};function cn(t,e,n){return Wh(t,e,n)}function Wh(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=je){var a;const c=kh()===((a=ot)==null?void 0:a.scope)?ot:null;let l,u=!1,h=!1;if($e(t)?(l=()=>t.value,u=za(t)):Ir(t)?(l=()=>t,r=!0):ne(t)?(h=!0,u=t.some(T=>Ir(T)||za(T)),l=()=>t.map(T=>{if($e(T))return T.value;if(Ir(T))return Jr(T);if(ge(T))return wr(T,c,2)})):ge(t)?e?l=()=>wr(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return f&&f(),an(t,c,3,[m])}:l=mn,e&&r){const T=l;l=()=>Jr(T())}let f,m=T=>{f=I.onStop=()=>{wr(T,c,4)}},v;if(ao)if(m=mn,e?n&&an(e,c,3,[l(),h?[]:void 0,m]):l(),s==="sync"){const T=RA();v=T.__watcherHandles||(T.__watcherHandles=[])}else return mn;let E=h?new Array(t.length).fill(pa):pa;const w=()=>{if(I.active)if(e){const T=I.run();(r||u||(h?T.some((P,O)=>as(P,E[O])):as(T,E)))&&(f&&f(),an(e,c,3,[T,E===pa?void 0:h&&E[0]===pa?[]:E,m]),E=T)}else I.run()};w.allowRecurse=!!e;let g;s==="sync"?g=w:s==="post"?g=()=>qt(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),g=()=>qh(w));const I=new Dh(l,g);e?n?w():E=I.run():s==="post"?qt(I.run.bind(I),c&&c.suspense):I.run();const b=()=>{I.stop(),c&&c.scope&&Ph(c.scope.effects,I)};return v&&v.push(b),b}function Sw(t,e,n){const r=this.proxy,s=ze(t)?t.includes(".")?N_(r,t):()=>r[t]:t.bind(r,r);let i;ge(e)?i=e:(i=e.handler,n=e);const o=ot;Ws(this);const a=Wh(s,i.bind(r),n);return o?Ws(o):ss(),a}function N_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Jr(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),$e(t))Jr(t.value,e);else if(ne(t))for(let n=0;n<t.length;n++)Jr(t[n],e);else if(kc(t)||Ms(t))t.forEach(n=>{Jr(n,e)});else if(s_(t))for(const n in t)Jr(t[n],e);return t}function rF(t,e){const n=pt;if(n===null)return t;const r=Hc(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=je]=e[i];o&&(ge(o)&&(o={mounted:o,updated:o}),o.deep&&Jr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function jr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(ci(),an(c,n,8,[t.el,a,t,e]),li())}}const hr=Symbol("_leaveCb"),ma=Symbol("_enterCb");function Ow(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xo(()=>{t.isMounted=!0}),V_(()=>{t.isUnmounting=!0}),t}const tn=[Function,Array],D_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tn,onEnter:tn,onAfterEnter:tn,onEnterCancelled:tn,onBeforeLeave:tn,onLeave:tn,onAfterLeave:tn,onLeaveCancelled:tn,onBeforeAppear:tn,onAppear:tn,onAfterAppear:tn,onAppearCancelled:tn},kw={name:"BaseTransition",props:D_,setup(t,{slots:e}){const n=xn(),r=Ow();let s;return()=>{const i=e.default&&M_(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const E of i)if(E.type!==un){o=E;break}}const a=be(t),{mode:c}=a;if(r.isLeaving)return Dl(o);const l=zd(o);if(!l)return Dl(o);const u=mu(l,a,r,n);gu(l,u);const h=n.subTree,f=h&&zd(h);let m=!1;const{getTransitionKey:v}=l.type;if(v){const E=v();s===void 0?s=E:E!==s&&(s=E,m=!0)}if(f&&f.type!==un&&(!zr(l,f)||m)){const E=mu(f,a,r,n);if(gu(f,E),c==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Dl(o);c==="in-out"&&l.type!==un&&(E.delayLeave=(w,g,I)=>{const b=L_(r,f);b[String(f.key)]=f,w[hr]=()=>{g(),w[hr]=void 0,delete u.delayedLeave},u.delayedLeave=I})}return o}}},Nw=kw;function L_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function mu(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:E,onAppear:w,onAfterAppear:g,onAppearCancelled:I}=e,b=String(t.key),T=L_(n,t),P=(D,N)=>{D&&an(D,r,9,N)},O=(D,N)=>{const V=N[1];P(D,N),ne(D)?D.every(J=>J.length<=1)&&V():D.length<=1&&V()},S={mode:i,persisted:o,beforeEnter(D){let N=a;if(!n.isMounted)if(s)N=E||a;else return;D[hr]&&D[hr](!0);const V=T[b];V&&zr(t,V)&&V.el[hr]&&V.el[hr](),P(N,[D])},enter(D){let N=c,V=l,J=u;if(!n.isMounted)if(s)N=w||c,V=g||l,J=I||u;else return;let B=!1;const se=D[ma]=Re=>{B||(B=!0,Re?P(J,[D]):P(V,[D]),S.delayedLeave&&S.delayedLeave(),D[ma]=void 0)};N?O(N,[D,se]):se()},leave(D,N){const V=String(t.key);if(D[ma]&&D[ma](!0),n.isUnmounting)return N();P(h,[D]);let J=!1;const B=D[hr]=se=>{J||(J=!0,N(),se?P(v,[D]):P(m,[D]),D[hr]=void 0,T[V]===t&&delete T[V])};T[V]=t,f?O(f,[D,B]):B()},clone(D){return mu(D,e,n,r)}};return S}function Dl(t){if(Bc(t))return t=Sr(t),t.children=null,t}function zd(t){return Bc(t)?t.children?t.children[0]:void 0:t}function gu(t,e){t.shapeFlag&6&&t.component?gu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function M_(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===et?(o.patchFlag&128&&s++,r=r.concat(M_(o.children,e,a))):(e||o.type!==un)&&r.push(a!=null?Sr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Mo(t,e){return ge(t)?(()=>ut({name:t.name},e,{setup:t}))():t}const Bi=t=>!!t.type.__asyncLoader,Bc=t=>t.type.__isKeepAlive;function Dw(t,e){x_(t,"a",e)}function Lw(t,e){x_(t,"da",e)}function x_(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(jc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Bc(s.parent.vnode)&&Mw(r,e,n,s),s=s.parent}}function Mw(t,e,n,r){const s=jc(e,t,r,!0);Kh(()=>{Ph(r[e],s)},n)}function jc(t,e,n=ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ci(),Ws(n);const a=an(e,n,t,o);return ss(),li(),a});return r?s.unshift(i):s.push(i),i}}const er=t=>(e,n=ot)=>(!ao||t==="sp")&&jc(t,(...r)=>e(...r),n),F_=er("bm"),xo=er("m"),xw=er("bu"),Fw=er("u"),V_=er("bum"),Kh=er("um"),Vw=er("sp"),Uw=er("rtg"),$w=er("rtc");function Bw(t,e=ot){jc("ec",t,e)}function Qh(t,e,n,r){let s;const i=n&&n[r];if(ne(t)||ze(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Ve(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function sF(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ne(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function jw(t,e,n={},r,s){if(pt.isCE||pt.parent&&Bi(pt.parent)&&pt.parent.isCE)return e!=="default"&&(n.name=e),ae("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),me();const o=i&&U_(i(n)),a=sn(et,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function U_(t){return t.some(e=>Ja(e)?!(e.type===un||e.type===et&&!U_(e.children)):!0)?t:null}const _u=t=>t?Y_(t)?Hc(t)||t.proxy:_u(t.parent):null,ji=ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_u(t.parent),$root:t=>_u(t.root),$emit:t=>t.emit,$options:t=>Gh(t),$forceUpdate:t=>t.f||(t.f=()=>qh(t.update)),$nextTick:t=>t.n||(t.n=Lo.bind(t.proxy)),$watch:t=>Sw.bind(t)}),Ll=(t,e)=>t!==je&&!t.__isScriptSetup&&Ce(t,e),qw={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ll(r,e))return o[e]=1,r[e];if(s!==je&&Ce(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Ce(l,e))return o[e]=3,i[e];if(n!==je&&Ce(n,e))return o[e]=4,n[e];yu&&(o[e]=0)}}const u=ji[e];let h,f;if(u)return e==="$attrs"&&Wt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==je&&Ce(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,Ce(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ll(s,e)?(s[e]=n,!0):r!==je&&Ce(r,e)?(r[e]=n,!0):Ce(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==je&&Ce(t,o)||Ll(e,o)||(a=i[0])&&Ce(a,o)||Ce(r,o)||Ce(ji,o)||Ce(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ce(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function iF(){return Hw().slots}function Hw(){const t=xn();return t.setupContext||(t.setupContext=J_(t))}function Yd(t){return ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let yu=!0;function Ww(t){const e=Gh(t),n=t.proxy,r=t.ctx;yu=!1,e.beforeCreate&&Xd(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:v,activated:E,deactivated:w,beforeDestroy:g,beforeUnmount:I,destroyed:b,unmounted:T,render:P,renderTracked:O,renderTriggered:S,errorCaptured:D,serverPrefetch:N,expose:V,inheritAttrs:J,components:B,directives:se,filters:Re}=e;if(l&&Kw(l,r,null),o)for(const ye in o){const he=o[ye];ge(he)&&(r[ye]=he.bind(n))}if(s){const ye=s.call(n,n);Ve(ye)&&(t.data=zn(ye))}if(yu=!0,i)for(const ye in i){const he=i[ye],Ne=ge(he)?he.bind(n,n):ge(he.get)?he.get.bind(n,n):mn,tt=!ge(he)&&ge(he.set)?he.set.bind(n):mn,nt=Fe({get:Ne,set:tt});Object.defineProperty(r,ye,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Xe=>nt.value=Xe})}if(a)for(const ye in a)$_(a[ye],r,n,ye);if(c){const ye=ge(c)?c.call(n):c;Reflect.ownKeys(ye).forEach(he=>{La(he,ye[he])})}u&&Xd(u,t,"c");function Z(ye,he){ne(he)?he.forEach(Ne=>ye(Ne.bind(n))):he&&ye(he.bind(n))}if(Z(F_,h),Z(xo,f),Z(xw,m),Z(Fw,v),Z(Dw,E),Z(Lw,w),Z(Bw,D),Z($w,O),Z(Uw,S),Z(V_,I),Z(Kh,T),Z(Vw,N),ne(V))if(V.length){const ye=t.exposed||(t.exposed={});V.forEach(he=>{Object.defineProperty(ye,he,{get:()=>n[he],set:Ne=>n[he]=Ne})})}else t.exposed||(t.exposed={});P&&t.render===mn&&(t.render=P),J!=null&&(t.inheritAttrs=J),B&&(t.components=B),se&&(t.directives=se)}function Kw(t,e,n=mn){ne(t)&&(t=vu(t));for(const r in t){const s=t[r];let i;Ve(s)?"default"in s?i=ln(s.from||r,s.default,!0):i=ln(s.from||r):i=ln(s),$e(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Xd(t,e,n){an(ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function $_(t,e,n,r){const s=r.includes(".")?N_(n,r):()=>n[r];if(ze(t)){const i=e[t];ge(i)&&cn(s,i)}else if(ge(t))cn(s,t.bind(n));else if(Ve(t))if(ne(t))t.forEach(i=>$_(i,e,n,r));else{const i=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(i)&&cn(s,i,t)}}function Gh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>Xa(c,l,o,!0)),Xa(c,e,o)),Ve(e)&&i.set(e,c),c}function Xa(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Xa(t,i,n,!0),s&&s.forEach(o=>Xa(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Qw[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Qw={data:Jd,props:Zd,emits:Zd,methods:Di,computed:Di,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:Di,directives:Di,watch:zw,provide:Jd,inject:Gw};function Jd(t,e){return e?t?function(){return ut(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function Gw(t,e){return Di(vu(t),vu(e))}function vu(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vt(t,e){return t?[...new Set([].concat(t,e))]:e}function Di(t,e){return t?ut(Object.create(null),t,e):e}function Zd(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:ut(Object.create(null),Yd(t),Yd(e??{})):e}function zw(t,e){if(!t)return e;if(!e)return t;const n=ut(Object.create(null),t);for(const r in e)n[r]=Vt(t[r],e[r]);return n}function B_(){return{app:null,config:{isNativeTag:bI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yw=0;function Xw(t,e){return function(r,s=null){ge(r)||(r=ut({},r)),s!=null&&!Ve(s)&&(s=null);const i=B_(),o=new WeakSet;let a=!1;const c=i.app={_uid:Yw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:CA,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&ge(l.install)?(o.add(l),l.install(c,...u)):ge(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=ae(r,s);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,Hc(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){io=c;try{return l()}finally{io=null}}};return c}}let io=null;function La(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function ln(t,e,n=!1){const r=ot||pt;if(r||io){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:io._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e}}function Jw(){return!!(ot||pt||io)}function Zw(t,e,n,r=!1){const s={},i={};Ka(i,qc,1),t.propsDefaults=Object.create(null),j_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:y_(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function eA(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=be(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if($c(t.emitsOptions,f))continue;const m=e[f];if(c)if(Ce(i,f))m!==i[f]&&(i[f]=m,l=!0);else{const v=Mn(f);s[v]=Eu(c,a,v,m,t,!1)}else m!==i[f]&&(i[f]=m,l=!0)}}}else{j_(t,e,s,i)&&(l=!0);let u;for(const h in a)(!e||!Ce(e,h)&&((u=gs(h))===h||!Ce(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Eu(c,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!Ce(e,h))&&(delete i[h],l=!0)}l&&Qn(t,"set","$attrs")}function j_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Na(c))continue;const l=e[c];let u;s&&Ce(s,u=Mn(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:$c(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=be(n),l=a||je;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Eu(s,c,h,l[h],t,!Ce(l,h))}}return o}function Eu(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ce(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ge(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(Ws(s),r=l[n]=c.call(null,e),ss())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===gs(n))&&(r=!0))}return r}function q_(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!ge(t)){const u=h=>{c=!0;const[f,m]=q_(h,e,!0);ut(o,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ve(t)&&r.set(t,Ls),Ls;if(ne(i))for(let u=0;u<i.length;u++){const h=Mn(i[u]);ep(h)&&(o[h]=je)}else if(i)for(const u in i){const h=Mn(u);if(ep(h)){const f=i[u],m=o[h]=ne(f)||ge(f)?{type:f}:ut({},f);if(m){const v=rp(Boolean,m.type),E=rp(String,m.type);m[0]=v>-1,m[1]=E<0||v<E,(v>-1||Ce(m,"default"))&&a.push(h)}}}const l=[o,a];return Ve(t)&&r.set(t,l),l}function ep(t){return t[0]!=="$"}function tp(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function np(t,e){return tp(t)===tp(e)}function rp(t,e){return ne(e)?e.findIndex(n=>np(n,t)):ge(e)&&np(e,t)?0:-1}const H_=t=>t[0]==="_"||t==="$stable",zh=t=>ne(t)?t.map(An):[An(t)],tA=(t,e,n)=>{if(e._n)return e;const r=Tt((...s)=>zh(e(...s)),n);return r._c=!1,r},W_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(H_(s))continue;const i=t[s];if(ge(i))e[s]=tA(s,i,r);else if(i!=null){const o=zh(i);e[s]=()=>o}}},K_=(t,e)=>{const n=zh(e);t.slots.default=()=>n},nA=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=be(e),Ka(e,"_",n)):W_(e,t.slots={})}else t.slots={},e&&K_(t,e);Ka(t.slots,qc,1)},rA=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=je;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ut(s,e),!n&&a===1&&delete s._):(i=!e.$stable,W_(e,s)),o=e}else e&&(K_(t,e),o={default:1});if(i)for(const a in s)!H_(a)&&o[a]==null&&delete s[a]};function Tu(t,e,n,r,s=!1){if(ne(t)){t.forEach((f,m)=>Tu(f,e&&(ne(e)?e[m]:e),n,r,s));return}if(Bi(r)&&!s)return;const i=r.shapeFlag&4?Hc(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===je?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(ze(l)?(u[l]=null,Ce(h,l)&&(h[l]=null)):$e(l)&&(l.value=null)),ge(c))wr(c,a,12,[o,u]);else{const f=ze(c),m=$e(c);if(f||m){const v=()=>{if(t.f){const E=f?Ce(h,c)?h[c]:u[c]:c.value;s?ne(E)&&Ph(E,i):ne(E)?E.includes(i)||E.push(i):f?(u[c]=[i],Ce(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,Ce(h,c)&&(h[c]=o)):m&&(c.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,qt(v,n)):v()}}}const qt=Pw;function sA(t){return iA(t)}function iA(t,e){const n=uu();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=mn,insertStaticContent:v}=t,E=(y,d,p,_=null,A=null,C=null,x=!1,$=null,j=!!d.dynamicChildren)=>{if(y===d)return;y&&!zr(y,d)&&(_=L(y),Xe(y,A,C,!0),y=null),d.patchFlag===-2&&(j=!1,d.dynamicChildren=null);const{type:U,ref:ee,shapeFlag:H}=d;switch(U){case Fo:w(y,d,p,_);break;case un:g(y,d,p,_);break;case Ml:y==null&&I(d,p,_,x);break;case et:B(y,d,p,_,A,C,x,$,j);break;default:H&1?P(y,d,p,_,A,C,x,$,j):H&6?se(y,d,p,_,A,C,x,$,j):(H&64||H&128)&&U.process(y,d,p,_,A,C,x,$,j,q)}ee!=null&&A&&Tu(ee,y&&y.ref,C,d||y,!d)},w=(y,d,p,_)=>{if(y==null)r(d.el=a(d.children),p,_);else{const A=d.el=y.el;d.children!==y.children&&l(A,d.children)}},g=(y,d,p,_)=>{y==null?r(d.el=c(d.children||""),p,_):d.el=y.el},I=(y,d,p,_)=>{[y.el,y.anchor]=v(y.children,d,p,_,y.el,y.anchor)},b=({el:y,anchor:d},p,_)=>{let A;for(;y&&y!==d;)A=f(y),r(y,p,_),y=A;r(d,p,_)},T=({el:y,anchor:d})=>{let p;for(;y&&y!==d;)p=f(y),s(y),y=p;s(d)},P=(y,d,p,_,A,C,x,$,j)=>{x=x||d.type==="svg",y==null?O(d,p,_,A,C,x,$,j):N(y,d,A,C,x,$,j)},O=(y,d,p,_,A,C,x,$)=>{let j,U;const{type:ee,props:H,shapeFlag:R,transition:k,dirs:Y}=y;if(j=y.el=o(y.type,C,H&&H.is,H),R&8?u(j,y.children):R&16&&D(y.children,j,null,_,A,C&&ee!=="foreignObject",x,$),Y&&jr(y,null,_,"created"),S(j,y,y.scopeId,x,_),H){for(const Te in H)Te!=="value"&&!Na(Te)&&i(j,Te,null,H[Te],C,y.children,_,A,Je);"value"in H&&i(j,"value",null,H.value),(U=H.onVnodeBeforeMount)&&In(U,_,y)}Y&&jr(y,null,_,"beforeMount");const ce=oA(A,k);ce&&k.beforeEnter(j),r(j,d,p),((U=H&&H.onVnodeMounted)||ce||Y)&&qt(()=>{U&&In(U,_,y),ce&&k.enter(j),Y&&jr(y,null,_,"mounted")},A)},S=(y,d,p,_,A)=>{if(p&&m(y,p),_)for(let C=0;C<_.length;C++)m(y,_[C]);if(A){let C=A.subTree;if(d===C){const x=A.vnode;S(y,x,x.scopeId,x.slotScopeIds,A.parent)}}},D=(y,d,p,_,A,C,x,$,j=0)=>{for(let U=j;U<y.length;U++){const ee=y[U]=$?fr(y[U]):An(y[U]);E(null,ee,d,p,_,A,C,x,$)}},N=(y,d,p,_,A,C,x)=>{const $=d.el=y.el;let{patchFlag:j,dynamicChildren:U,dirs:ee}=d;j|=y.patchFlag&16;const H=y.props||je,R=d.props||je;let k;p&&qr(p,!1),(k=R.onVnodeBeforeUpdate)&&In(k,p,d,y),ee&&jr(d,y,p,"beforeUpdate"),p&&qr(p,!0);const Y=A&&d.type!=="foreignObject";if(U?V(y.dynamicChildren,U,$,p,_,Y,C):x||he(y,d,$,null,p,_,Y,C,!1),j>0){if(j&16)J($,d,H,R,p,_,A);else if(j&2&&H.class!==R.class&&i($,"class",null,R.class,A),j&4&&i($,"style",H.style,R.style,A),j&8){const ce=d.dynamicProps;for(let Te=0;Te<ce.length;Te++){const Be=ce[Te],ht=H[Be],nr=R[Be];(nr!==ht||Be==="value")&&i($,Be,ht,nr,A,y.children,p,_,Je)}}j&1&&y.children!==d.children&&u($,d.children)}else!x&&U==null&&J($,d,H,R,p,_,A);((k=R.onVnodeUpdated)||ee)&&qt(()=>{k&&In(k,p,d,y),ee&&jr(d,y,p,"updated")},_)},V=(y,d,p,_,A,C,x)=>{for(let $=0;$<d.length;$++){const j=y[$],U=d[$],ee=j.el&&(j.type===et||!zr(j,U)||j.shapeFlag&70)?h(j.el):p;E(j,U,ee,null,_,A,C,x,!0)}},J=(y,d,p,_,A,C,x)=>{if(p!==_){if(p!==je)for(const $ in p)!Na($)&&!($ in _)&&i(y,$,p[$],null,x,d.children,A,C,Je);for(const $ in _){if(Na($))continue;const j=_[$],U=p[$];j!==U&&$!=="value"&&i(y,$,U,j,x,d.children,A,C,Je)}"value"in _&&i(y,"value",p.value,_.value)}},B=(y,d,p,_,A,C,x,$,j)=>{const U=d.el=y?y.el:a(""),ee=d.anchor=y?y.anchor:a("");let{patchFlag:H,dynamicChildren:R,slotScopeIds:k}=d;k&&($=$?$.concat(k):k),y==null?(r(U,p,_),r(ee,p,_),D(d.children,p,ee,A,C,x,$,j)):H>0&&H&64&&R&&y.dynamicChildren?(V(y.dynamicChildren,R,p,A,C,x,$),(d.key!=null||A&&d===A.subTree)&&Yh(y,d,!0)):he(y,d,p,ee,A,C,x,$,j)},se=(y,d,p,_,A,C,x,$,j)=>{d.slotScopeIds=$,y==null?d.shapeFlag&512?A.ctx.activate(d,p,_,x,j):Re(d,p,_,A,C,x,j):xe(y,d,j)},Re=(y,d,p,_,A,C,x)=>{const $=y.component=vA(y,_,A);if(Bc(y)&&($.ctx.renderer=q),EA($),$.asyncDep){if(A&&A.registerDep($,Z),!y.el){const j=$.subTree=ae(un);g(null,j,d,p)}return}Z($,y,d,p,A,C,x)},xe=(y,d,p)=>{const _=d.component=y.component;if(bw(y,d,p))if(_.asyncDep&&!_.asyncResolved){ye(_,d,p);return}else _.next=d,vw(_.update),_.update();else d.el=y.el,_.vnode=d},Z=(y,d,p,_,A,C,x)=>{const $=()=>{if(y.isMounted){let{next:ee,bu:H,u:R,parent:k,vnode:Y}=y,ce=ee,Te;qr(y,!1),ee?(ee.el=Y.el,ye(y,ee,x)):ee=Y,H&&Da(H),(Te=ee.props&&ee.props.onVnodeBeforeUpdate)&&In(Te,k,ee,Y),qr(y,!0);const Be=Nl(y),ht=y.subTree;y.subTree=Be,E(ht,Be,h(ht.el),L(ht),y,A,C),ee.el=Be.el,ce===null&&Rw(y,Be.el),R&&qt(R,A),(Te=ee.props&&ee.props.onVnodeUpdated)&&qt(()=>In(Te,k,ee,Y),A)}else{let ee;const{el:H,props:R}=d,{bm:k,m:Y,parent:ce}=y,Te=Bi(d);if(qr(y,!1),k&&Da(k),!Te&&(ee=R&&R.onVnodeBeforeMount)&&In(ee,ce,d),qr(y,!0),H&&ve){const Be=()=>{y.subTree=Nl(y),ve(H,y.subTree,y,A,null)};Te?d.type.__asyncLoader().then(()=>!y.isUnmounted&&Be()):Be()}else{const Be=y.subTree=Nl(y);E(null,Be,p,_,y,A,C),d.el=Be.el}if(Y&&qt(Y,A),!Te&&(ee=R&&R.onVnodeMounted)){const Be=d;qt(()=>In(ee,ce,Be),A)}(d.shapeFlag&256||ce&&Bi(ce.vnode)&&ce.vnode.shapeFlag&256)&&y.a&&qt(y.a,A),y.isMounted=!0,d=p=_=null}},j=y.effect=new Dh($,()=>qh(U),y.scope),U=y.update=()=>j.run();U.id=y.uid,qr(y,!0),U()},ye=(y,d,p)=>{d.component=y;const _=y.vnode.props;y.vnode=d,y.next=null,eA(y,d.props,_,p),rA(y,d.children,p),ci(),Kd(),li()},he=(y,d,p,_,A,C,x,$,j=!1)=>{const U=y&&y.children,ee=y?y.shapeFlag:0,H=d.children,{patchFlag:R,shapeFlag:k}=d;if(R>0){if(R&128){tt(U,H,p,_,A,C,x,$,j);return}else if(R&256){Ne(U,H,p,_,A,C,x,$,j);return}}k&8?(ee&16&&Je(U,A,C),H!==U&&u(p,H)):ee&16?k&16?tt(U,H,p,_,A,C,x,$,j):Je(U,A,C,!0):(ee&8&&u(p,""),k&16&&D(H,p,_,A,C,x,$,j))},Ne=(y,d,p,_,A,C,x,$,j)=>{y=y||Ls,d=d||Ls;const U=y.length,ee=d.length,H=Math.min(U,ee);let R;for(R=0;R<H;R++){const k=d[R]=j?fr(d[R]):An(d[R]);E(y[R],k,p,null,A,C,x,$,j)}U>ee?Je(y,A,C,!0,!1,H):D(d,p,_,A,C,x,$,j,H)},tt=(y,d,p,_,A,C,x,$,j)=>{let U=0;const ee=d.length;let H=y.length-1,R=ee-1;for(;U<=H&&U<=R;){const k=y[U],Y=d[U]=j?fr(d[U]):An(d[U]);if(zr(k,Y))E(k,Y,p,null,A,C,x,$,j);else break;U++}for(;U<=H&&U<=R;){const k=y[H],Y=d[R]=j?fr(d[R]):An(d[R]);if(zr(k,Y))E(k,Y,p,null,A,C,x,$,j);else break;H--,R--}if(U>H){if(U<=R){const k=R+1,Y=k<ee?d[k].el:_;for(;U<=R;)E(null,d[U]=j?fr(d[U]):An(d[U]),p,Y,A,C,x,$,j),U++}}else if(U>R)for(;U<=H;)Xe(y[U],A,C,!0),U++;else{const k=U,Y=U,ce=new Map;for(U=Y;U<=R;U++){const Gt=d[U]=j?fr(d[U]):An(d[U]);Gt.key!=null&&ce.set(Gt.key,U)}let Te,Be=0;const ht=R-Y+1;let nr=!1,Ol=0;const Ai=new Array(ht);for(U=0;U<ht;U++)Ai[U]=0;for(U=k;U<=H;U++){const Gt=y[U];if(Be>=ht){Xe(Gt,A,C,!0);continue}let Tn;if(Gt.key!=null)Tn=ce.get(Gt.key);else for(Te=Y;Te<=R;Te++)if(Ai[Te-Y]===0&&zr(Gt,d[Te])){Tn=Te;break}Tn===void 0?Xe(Gt,A,C,!0):(Ai[Tn-Y]=U+1,Tn>=Ol?Ol=Tn:nr=!0,E(Gt,d[Tn],p,null,A,C,x,$,j),Be++)}const Md=nr?aA(Ai):Ls;for(Te=Md.length-1,U=ht-1;U>=0;U--){const Gt=Y+U,Tn=d[Gt],xd=Gt+1<ee?d[Gt+1].el:_;Ai[U]===0?E(null,Tn,p,xd,A,C,x,$,j):nr&&(Te<0||U!==Md[Te]?nt(Tn,p,xd,2):Te--)}}},nt=(y,d,p,_,A=null)=>{const{el:C,type:x,transition:$,children:j,shapeFlag:U}=y;if(U&6){nt(y.component.subTree,d,p,_);return}if(U&128){y.suspense.move(d,p,_);return}if(U&64){x.move(y,d,p,q);return}if(x===et){r(C,d,p);for(let H=0;H<j.length;H++)nt(j[H],d,p,_);r(y.anchor,d,p);return}if(x===Ml){b(y,d,p);return}if(_!==2&&U&1&&$)if(_===0)$.beforeEnter(C),r(C,d,p),qt(()=>$.enter(C),A);else{const{leave:H,delayLeave:R,afterLeave:k}=$,Y=()=>r(C,d,p),ce=()=>{H(C,()=>{Y(),k&&k()})};R?R(C,Y,ce):ce()}else r(C,d,p)},Xe=(y,d,p,_=!1,A=!1)=>{const{type:C,props:x,ref:$,children:j,dynamicChildren:U,shapeFlag:ee,patchFlag:H,dirs:R}=y;if($!=null&&Tu($,null,p,y,!0),ee&256){d.ctx.deactivate(y);return}const k=ee&1&&R,Y=!Bi(y);let ce;if(Y&&(ce=x&&x.onVnodeBeforeUnmount)&&In(ce,d,y),ee&6)Vn(y.component,p,_);else{if(ee&128){y.suspense.unmount(p,_);return}k&&jr(y,null,d,"beforeUnmount"),ee&64?y.type.remove(y,d,p,A,q,_):U&&(C!==et||H>0&&H&64)?Je(U,d,p,!1,!0):(C===et&&H&384||!A&&ee&16)&&Je(j,d,p),_&&en(y)}(Y&&(ce=x&&x.onVnodeUnmounted)||k)&&qt(()=>{ce&&In(ce,d,y),k&&jr(y,null,d,"unmounted")},p)},en=y=>{const{type:d,el:p,anchor:_,transition:A}=y;if(d===et){Qt(p,_);return}if(d===Ml){T(y);return}const C=()=>{s(p),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(y.shapeFlag&1&&A&&!A.persisted){const{leave:x,delayLeave:$}=A,j=()=>x(p,C);$?$(y.el,C,j):j()}else C()},Qt=(y,d)=>{let p;for(;y!==d;)p=f(y),s(y),y=p;s(d)},Vn=(y,d,p)=>{const{bum:_,scope:A,update:C,subTree:x,um:$}=y;_&&Da(_),A.stop(),C&&(C.active=!1,Xe(x,y,d,p)),$&&qt($,d),qt(()=>{y.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Je=(y,d,p,_=!1,A=!1,C=0)=>{for(let x=C;x<y.length;x++)Xe(y[x],d,p,_,A)},L=y=>y.shapeFlag&6?L(y.component.subTree):y.shapeFlag&128?y.suspense.next():f(y.anchor||y.el),K=(y,d,p)=>{y==null?d._vnode&&Xe(d._vnode,null,null,!0):E(d._vnode||null,y,d,null,null,null,p),Kd(),b_(),d._vnode=y},q={p:E,um:Xe,m:nt,r:en,mt:Re,mc:D,pc:he,pbc:V,n:L,o:t};let z,ve;return e&&([z,ve]=e(q)),{render:K,hydrate:z,createApp:Xw(K,z)}}function qr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function oA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yh(t,e,n=!1){const r=t.children,s=e.children;if(ne(r)&&ne(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=fr(s[i]),a.el=o.el),n||Yh(o,a)),a.type===Fo&&(a.el=o.el)}}function aA(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const cA=t=>t.__isTeleport,qi=t=>t&&(t.disabled||t.disabled===""),sp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Iu=(t,e)=>{const n=t&&t.to;return ze(n)?e?e(n):null:n},lA={__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:h,pbc:f,o:{insert:m,querySelector:v,createText:E,createComment:w}}=l,g=qi(e.props);let{shapeFlag:I,children:b,dynamicChildren:T}=e;if(t==null){const P=e.el=E(""),O=e.anchor=E("");m(P,n,r),m(O,n,r);const S=e.target=Iu(e.props,v),D=e.targetAnchor=E("");S&&(m(D,S),o=o||sp(S));const N=(V,J)=>{I&16&&u(b,V,J,s,i,o,a,c)};g?N(n,O):S&&N(S,D)}else{e.el=t.el;const P=e.anchor=t.anchor,O=e.target=t.target,S=e.targetAnchor=t.targetAnchor,D=qi(t.props),N=D?n:O,V=D?P:S;if(o=o||sp(O),T?(f(t.dynamicChildren,T,N,s,i,o,a),Yh(t,e,!0)):c||h(t,e,N,V,s,i,o,a,!1),g)D?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ga(e,n,P,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const J=e.target=Iu(e.props,v);J&&ga(e,J,null,l,0)}else D&&ga(e,O,S,l,1)}Q_(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:f}=t;if(h&&i(u),o&&i(l),a&16){const m=o||!qi(f);for(let v=0;v<c.length;v++){const E=c[v];s(E,e,n,m,!!E.dynamicChildren)}}},move:ga,hydrate:uA};function ga(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,h=i===2;if(h&&r(o,e,n),(!h||qi(u))&&c&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);h&&r(a,e,n)}function uA(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=Iu(e.props,c);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(qi(e.props))e.anchor=l(o(t),e,a(t),n,r,s,i),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(h,e,u,n,r,s,i)}Q_(e)}return e.anchor&&o(e.anchor)}const hA=lA;function Q_(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const et=Symbol.for("v-fgt"),Fo=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),Ml=Symbol.for("v-stc"),Hi=[];let dn=null;function me(t=!1){Hi.push(dn=t?null:[])}function fA(){Hi.pop(),dn=Hi[Hi.length-1]||null}let oo=1;function ip(t){oo+=t}function G_(t){return t.dynamicChildren=oo>0?dn||Ls:null,fA(),oo>0&&dn&&dn.push(t),t}function ke(t,e,n,r,s,i){return G_(ie(t,e,n,r,s,i,!0))}function sn(t,e,n,r,s){return G_(ae(t,e,n,r,s,!0))}function Ja(t){return t?t.__v_isVNode===!0:!1}function zr(t,e){return t.type===e.type&&t.key===e.key}const qc="__vInternal",z_=({key:t})=>t??null,Ma=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ze(t)||$e(t)||ge(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function ie(t,e=null,n=null,r=0,s=null,i=t===et?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&z_(e),ref:e&&Ma(e),scopeId:P_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pt};return a?(Xh(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=ze(n)?8:16),oo>0&&!o&&dn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&dn.push(c),c}const ae=dA;function dA(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===S_)&&(t=un),Ja(t)){const a=Sr(t,e,!0);return n&&Xh(a,n),oo>0&&!i&&dn&&(a.shapeFlag&6?dn[dn.indexOf(t)]=a:dn.push(a)),a.patchFlag|=-2,a}if(AA(t)&&(t=t.__vccOpts),e){e=pA(e);let{class:a,style:c}=e;a&&!ze(a)&&(e.class=Er(a)),Ve(c)&&(v_(c)&&!ne(c)&&(c=ut({},c)),e.style=Lc(c))}const o=ze(t)?1:Cw(t)?128:cA(t)?64:Ve(t)?4:ge(t)?2:0;return ie(t,e,n,r,s,o,i,!0)}function pA(t){return t?v_(t)||qc in t?ut({},t):t:null}function Sr(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?gA(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&z_(a),ref:e&&e.ref?n&&s?ne(s)?s.concat(Ma(e)):[s,Ma(e)]:Ma(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==et?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Sr(t.ssContent),ssFallback:t.ssFallback&&Sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function on(t=" ",e=0){return ae(Fo,null,t,e)}function mA(t="",e=!1){return e?(me(),sn(un,null,t)):ae(un,null,t)}function An(t){return t==null||typeof t=="boolean"?ae(un):ne(t)?ae(et,null,t.slice()):typeof t=="object"?fr(t):ae(Fo,null,String(t))}function fr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Sr(t)}function Xh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Xh(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(qc in e)?e._ctx=pt:s===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),r&64?(n=16,e=[on(e)]):n=8);t.children=e,t.shapeFlag|=n}function gA(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Er([e.class,r.class]));else if(s==="style")e.style=Lc([e.style,r.style]);else if(Oc(s)){const i=e[s],o=r[s];o&&i!==o&&!(ne(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function In(t,e,n,r=null){an(t,e,7,[n,r])}const _A=B_();let yA=0;function vA(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||_A,i={uid:yA++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new a_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q_(r,s),emitsOptions:C_(r,s),emit:null,emitted:null,propsDefaults:je,inheritAttrs:r.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Iw.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const xn=()=>ot||pt;let Jh,ws,op="__VUE_INSTANCE_SETTERS__";(ws=uu()[op])||(ws=uu()[op]=[]),ws.push(t=>ot=t),Jh=t=>{ws.length>1?ws.forEach(e=>e(t)):ws[0](t)};const Ws=t=>{Jh(t),t.scope.on()},ss=()=>{ot&&ot.scope.off(),Jh(null)};function Y_(t){return t.vnode.shapeFlag&4}let ao=!1;function EA(t,e=!1){ao=e;const{props:n,children:r}=t.vnode,s=Y_(t);Zw(t,n,s,e),nA(t,r);const i=s?TA(t,e):void 0;return ao=!1,i}function TA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Vc(new Proxy(t.ctx,qw));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?J_(t):null;Ws(t),ci();const i=wr(r,t,0,[t.props,s]);if(li(),ss(),n_(i)){if(i.then(ss,ss),e)return i.then(o=>{ap(t,o,e)}).catch(o=>{Uc(o,t,0)});t.asyncDep=i}else ap(t,i,e)}else X_(t,e)}function ap(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=T_(e)),X_(t,n)}let cp;function X_(t,e,n){const r=t.type;if(!t.render){if(!e&&cp&&!r.render){const s=r.template||Gh(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=ut(ut({isCustomElement:i,delimiters:a},o),c);r.render=cp(s,l)}}t.render=r.render||mn}{Ws(t),ci();try{Ww(t)}finally{li(),ss()}}}function IA(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Wt(t,"get","$attrs"),e[n]}}))}function J_(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return IA(t)},slots:t.slots,emit:t.emit,expose:e}}function Hc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(T_(Vc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ji)return ji[n](t)},has(e,n){return n in e||n in ji}}))}function wA(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function AA(t){return ge(t)&&"__vccOpts"in t}const Fe=(t,e)=>gw(t,e,ao);function Vo(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!ne(e)?Ja(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ja(n)&&(n=[n]),ae(t,e,n))}const bA=Symbol.for("v-scx"),RA=()=>ln(bA),CA="3.3.8",PA="http://www.w3.org/2000/svg",Yr=typeof document<"u"?document:null,lp=Yr&&Yr.createElement("template"),SA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?Yr.createElementNS(PA,t):Yr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Yr.createTextNode(t),createComment:t=>Yr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Yr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{lp.innerHTML=r?`<svg>${t}</svg>`:t;const a=lp.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},sr="transition",bi="animation",co=Symbol("_vtc"),Zh=(t,{slots:e})=>Vo(Nw,OA(t),e);Zh.displayName="Transition";const Z_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Zh.props=ut({},D_,Z_);const Hr=(t,e=[])=>{ne(t)?t.forEach(n=>n(...e)):t&&t(...e)},up=t=>t?ne(t)?t.some(e=>e.length>1):t.length>1:!1;function OA(t){const e={};for(const B in t)B in Z_||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,v=kA(s),E=v&&v[0],w=v&&v[1],{onBeforeEnter:g,onEnter:I,onEnterCancelled:b,onLeave:T,onLeaveCancelled:P,onBeforeAppear:O=g,onAppear:S=I,onAppearCancelled:D=b}=e,N=(B,se,Re)=>{Wr(B,se?u:a),Wr(B,se?l:o),Re&&Re()},V=(B,se)=>{B._isLeaving=!1,Wr(B,h),Wr(B,m),Wr(B,f),se&&se()},J=B=>(se,Re)=>{const xe=B?S:I,Z=()=>N(se,B,Re);Hr(xe,[se,Z]),hp(()=>{Wr(se,B?c:i),ir(se,B?u:a),up(xe)||fp(se,r,E,Z)})};return ut(e,{onBeforeEnter(B){Hr(g,[B]),ir(B,i),ir(B,o)},onBeforeAppear(B){Hr(O,[B]),ir(B,c),ir(B,l)},onEnter:J(!1),onAppear:J(!0),onLeave(B,se){B._isLeaving=!0;const Re=()=>V(B,se);ir(B,h),LA(),ir(B,f),hp(()=>{B._isLeaving&&(Wr(B,h),ir(B,m),up(T)||fp(B,r,w,Re))}),Hr(T,[B,Re])},onEnterCancelled(B){N(B,!1),Hr(b,[B])},onAppearCancelled(B){N(B,!0),Hr(D,[B])},onLeaveCancelled(B){V(B),Hr(P,[B])}})}function kA(t){if(t==null)return null;if(Ve(t))return[xl(t.enter),xl(t.leave)];{const e=xl(t);return[e,e]}}function xl(t){return kI(t)}function ir(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[co]||(t[co]=new Set)).add(e)}function Wr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[co];n&&(n.delete(e),n.size||(t[co]=void 0))}function hp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let NA=0;function fp(t,e,n,r){const s=t._endId=++NA,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=DA(t,e);if(!o)return r();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,f),i()},f=m=>{m.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,f)}function DA(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),s=r(`${sr}Delay`),i=r(`${sr}Duration`),o=dp(s,i),a=r(`${bi}Delay`),c=r(`${bi}Duration`),l=dp(a,c);let u=null,h=0,f=0;e===sr?o>0&&(u=sr,h=o,f=i.length):e===bi?l>0&&(u=bi,h=l,f=c.length):(h=Math.max(o,l),u=h>0?o>l?sr:bi:null,f=u?u===sr?i.length:c.length:0);const m=u===sr&&/\b(transform|all)(,|$)/.test(r(`${sr}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:m}}function dp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>pp(n)+pp(t[r])))}function pp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function LA(){return document.body.offsetHeight}function MA(t,e,n){const r=t[co];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const ef=Symbol("_vod"),oF={beforeMount(t,{value:e},{transition:n}){t[ef]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ri(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ri(t,!0),r.enter(t)):r.leave(t,()=>{Ri(t,!1)}):Ri(t,e))},beforeUnmount(t,{value:e}){Ri(t,e)}};function Ri(t,e){t.style.display=e?t[ef]:"none"}function xA(t,e,n){const r=t.style,s=ze(n);if(n&&!s){if(e&&!ze(e))for(const i in e)n[i]==null&&wu(r,i,"");for(const i in n)wu(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),ef in t&&(r.display=i)}}const mp=/\s*!important$/;function wu(t,e,n){if(ne(n))n.forEach(r=>wu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=FA(t,e);mp.test(n)?t.setProperty(gs(r),n.replace(mp,""),"important"):t[r]=n}}const gp=["Webkit","Moz","ms"],Fl={};function FA(t,e){const n=Fl[e];if(n)return n;let r=Mn(e);if(r!=="filter"&&r in t)return Fl[e]=r;r=Dc(r);for(let s=0;s<gp.length;s++){const i=gp[s]+r;if(i in t)return Fl[e]=i}return e}const _p="http://www.w3.org/1999/xlink";function VA(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(_p,e.slice(6,e.length)):t.setAttributeNS(_p,e,n);else{const i=FI(e);n==null||i&&!i_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function UA(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=i_(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Xr(t,e,n,r){t.addEventListener(e,n,r)}function $A(t,e,n,r){t.removeEventListener(e,n,r)}const yp=Symbol("_vei");function BA(t,e,n,r,s=null){const i=t[yp]||(t[yp]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=jA(e);if(r){const l=i[e]=WA(r,s);Xr(t,a,l,c)}else o&&($A(t,a,o,c),i[e]=void 0)}}const vp=/(?:Once|Passive|Capture)$/;function jA(t){let e;if(vp.test(t)){e={};let r;for(;r=t.match(vp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gs(t.slice(2)),e]}let Vl=0;const qA=Promise.resolve(),HA=()=>Vl||(qA.then(()=>Vl=0),Vl=Date.now());function WA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;an(KA(r,n.value),e,5,[r])};return n.value=t,n.attached=HA(),n}function KA(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Ep=/^on[a-z]/,QA=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?MA(t,r,s):e==="style"?xA(t,n,r):Oc(e)?Ch(e)||BA(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):GA(t,e,r,s))?UA(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),VA(t,e,r,s))};function GA(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Ep.test(e)&&ge(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ep.test(e)&&ze(n)?!1:e in t}const Za=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>Da(e,n):e};function zA(t){t.target.composing=!0}function Tp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Fs=Symbol("_assign"),aF={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Fs]=Za(s);const i=r||s.props&&s.props.type==="number";Xr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Qa(a)),t[Fs](a)}),n&&Xr(t,"change",()=>{t.value=t.value.trim()}),e||(Xr(t,"compositionstart",zA),Xr(t,"compositionend",Tp),Xr(t,"change",Tp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[Fs]=Za(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&Qa(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},cF={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=kc(e);Xr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Qa(ec(o)):ec(o));t[Fs](t.multiple?s?new Set(i):i:i[0])}),t[Fs]=Za(r)},mounted(t,{value:e}){Ip(t,e)},beforeUpdate(t,e,n){t[Fs]=Za(n)},updated(t,{value:e}){Ip(t,e)}};function Ip(t,e){const n=t.multiple;if(!(n&&!ne(e)&&!kc(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=ec(i);if(n)ne(e)?i.selected=UI(e,o)>-1:i.selected=e.has(o);else if(Mc(ec(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ec(t){return"_value"in t?t._value:t.value}const YA=["ctrl","shift","alt","meta"],XA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YA.some(n=>t[`${n}Key`]&&!e.includes(n))},lF=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=XA[e[s]];if(i&&i(n,e))return}return t(n,...r)},JA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uF=(t,e)=>n=>{if(!("key"in n))return;const r=gs(n.key);if(e.some(s=>s===r||JA[s]===r))return t(n)},ZA=ut({patchProp:QA},SA);let wp;function ey(){return wp||(wp=sA(ZA))}const hF=(...t)=>{ey().render(...t)},eb=(...t)=>{const e=ey().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=tb(r);if(!s)return;const i=e._component;!ge(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function tb(t){return ze(t)?document.querySelector(t):t}var nb=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ty;const Wc=t=>ty=t,ny=Symbol();function Au(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Wi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Wi||(Wi={}));function rb(){const t=Oh(!0),e=t.run(()=>Ge({}));let n=[],r=[];const s=Vc({install(i){Wc(s),s._a=i,i.provide(ny,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!nb?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const ry=()=>{};function Ap(t,e,n,r=ry){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&kh()&&xc(s),s}function As(t,...e){t.slice().forEach(n=>{n(...e)})}const sb=t=>t();function bu(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Au(s)&&Au(r)&&t.hasOwnProperty(n)&&!$e(r)&&!Ir(r)?t[n]=bu(s,r):t[n]=r}return t}const ib=Symbol();function ob(t){return!Au(t)||!t.hasOwnProperty(ib)}const{assign:ur}=Object;function ab(t){return!!($e(t)&&t.effect)}function cb(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=Bh(n.state.value[t]);return ur(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Vc(Fe(()=>{Wc(n);const m=n._s.get(t);return o[f].call(m,m)})),h),{}))}return c=sy(t,l,e,n,r,!0),c}function sy(t,e,n={},r,s,i){let o;const a=ur({actions:{}},n),c={deep:!0};let l,u,h=[],f=[],m;const v=r.state.value[t];!i&&!v&&(r.state.value[t]={}),Ge({});let E;function w(D){let N;l=u=!1,typeof D=="function"?(D(r.state.value[t]),N={type:Wi.patchFunction,storeId:t,events:m}):(bu(r.state.value[t],D),N={type:Wi.patchObject,payload:D,storeId:t,events:m});const V=E=Symbol();Lo().then(()=>{E===V&&(l=!0)}),u=!0,As(h,N,r.state.value[t])}const g=i?function(){const{state:N}=n,V=N?N():{};this.$patch(J=>{ur(J,V)})}:ry;function I(){o.stop(),h=[],f=[],r._s.delete(t)}function b(D,N){return function(){Wc(r);const V=Array.from(arguments),J=[],B=[];function se(Z){J.push(Z)}function Re(Z){B.push(Z)}As(f,{args:V,name:D,store:P,after:se,onError:Re});let xe;try{xe=N.apply(this&&this.$id===t?this:P,V)}catch(Z){throw As(B,Z),Z}return xe instanceof Promise?xe.then(Z=>(As(J,Z),Z)).catch(Z=>(As(B,Z),Promise.reject(Z))):(As(J,xe),xe)}}const T={_p:r,$id:t,$onAction:Ap.bind(null,f),$patch:w,$reset:g,$subscribe(D,N={}){const V=Ap(h,D,N.detached,()=>J()),J=o.run(()=>cn(()=>r.state.value[t],B=>{(N.flush==="sync"?u:l)&&D({storeId:t,type:Wi.direct,events:m},B)},ur({},c,N)));return V},$dispose:I},P=zn(T);r._s.set(t,P);const S=(r._a&&r._a.runWithContext||sb)(()=>r._e.run(()=>(o=Oh()).run(e)));for(const D in S){const N=S[D];if($e(N)&&!ab(N)||Ir(N))i||(v&&ob(N)&&($e(N)?N.value=v[D]:bu(N,v[D])),r.state.value[t][D]=N);else if(typeof N=="function"){const V=b(D,N);S[D]=V,a.actions[D]=N}}return ur(P,S),ur(be(P),S),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:D=>{w(N=>{ur(N,D)})}}),r._p.forEach(D=>{ur(P,o.run(()=>D({store:P,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(P.$state,v),l=!0,u=!0,P}function tf(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,c){const l=Jw();return a=a||(l?ln(ny,null):null),a&&Wc(a),a=ty,a._s.has(r)||(i?sy(r,e,s,a):cb(r,s,a)),a._s.get(r)}return o.$id=r,o}function Ru(t,e){return Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ru(t,e)}function fi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ru(t,e)}var di=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var s=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pe.apply(this,arguments)}var tc=typeof window>"u";function St(){}function lb(t,e){return typeof t=="function"?t(e):t}function Cu(t){return typeof t=="number"&&t>=0&&t!==1/0}function nc(t){return Array.isArray(t)?t:[t]}function iy(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ul(t,e,n){return Kc(t)?typeof e=="function"?Pe({},n,{queryKey:t,queryFn:e}):Pe({},e,{queryKey:t}):t}function dr(t,e,n){return Kc(t)?[Pe({},e,{queryKey:t}),n]:[t||{},e]}function ub(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function bp(t,e){var n=t.active,r=t.exact,s=t.fetching,i=t.inactive,o=t.predicate,a=t.queryKey,c=t.stale;if(Kc(a)){if(r){if(e.queryHash!==nf(a,e.options))return!1}else if(!rc(e.queryKey,a))return!1}var l=ub(n,i);if(l==="none")return!1;if(l!=="all"){var u=e.isActive();if(l==="active"&&!u||l==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof s=="boolean"&&e.isFetching()!==s||o&&!o(e))}function Rp(t,e){var n=t.exact,r=t.fetching,s=t.predicate,i=t.mutationKey;if(Kc(i)){if(!e.options.mutationKey)return!1;if(n){if(Zr(e.options.mutationKey)!==Zr(i))return!1}else if(!rc(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function nf(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Zr;return n(t)}function Zr(t){var e=nc(t);return hb(e)}function hb(t){return JSON.stringify(t,function(e,n){return Pu(n)?Object.keys(n).sort().reduce(function(r,s){return r[s]=n[s],r},{}):n})}function rc(t,e){return oy(nc(t),nc(e))}function oy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!oy(t[n],e[n])}):!1}function sc(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Pu(t)&&Pu(e)){for(var r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{},a=0,c=0;c<i;c++){var l=n?c:s[c];o[l]=sc(t[l],e[l]),o[l]===t[l]&&a++}return r===i&&a===r?t:o}return e}function fb(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Pu(t){if(!Cp(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!Cp(n)||!n.hasOwnProperty("isPrototypeOf"))}function Cp(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kc(t){return typeof t=="string"||Array.isArray(t)}function db(t){return new Promise(function(e){setTimeout(e,t)})}function Pp(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function ay(){if(typeof AbortController=="function")return new AbortController}var pb=function(t){fi(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!tc&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(s){this.focused=s,s&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(s){s()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(di),Ki=new pb,mb=function(t){fi(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!tc&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(s){this.online=s,s&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(s){s()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(di),xa=new mb;function gb(t){return Math.min(1e3*Math.pow(2,t),3e4)}function ic(t){return typeof(t==null?void 0:t.cancel)=="function"}var cy=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Fa(t){return t instanceof cy}var ly=function(e){var n=this,r=!1,s,i,o,a;this.abort=e.abort,this.cancel=function(f){return s==null?void 0:s(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,m){o=f,a=m});var c=function(m){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(m),i==null||i(),o(m))},l=function(m){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(m),i==null||i(),a(m))},u=function(){return new Promise(function(m){i=m,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function f(){if(!n.isResolved){var m;try{m=e.fn()}catch(v){m=Promise.reject(v)}s=function(E){if(!n.isResolved&&(l(new cy(E)),n.abort==null||n.abort(),ic(m)))try{m.cancel()}catch{}},n.isTransportCancelable=ic(m),Promise.resolve(m).then(c).catch(function(v){var E,w;if(!n.isResolved){var g=(E=e.retry)!=null?E:3,I=(w=e.retryDelay)!=null?w:gb,b=typeof I=="function"?I(n.failureCount,v):I,T=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,v);if(r||!T){l(v);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,v),db(b).then(function(){if(!Ki.isFocused()||!xa.isOnline())return u()}).then(function(){r?l(v):f()})}})}};h()},_b=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(r){var s=this;this.transactions?this.queue.push(r):Pp(function(){s.notifyFn(r)})},e.batchCalls=function(r){var s=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];s.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&Pp(function(){r.batchNotifyFn(function(){s.forEach(function(i){r.notifyFn(i)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),dt=new _b,yb=console;function oc(){return yb}var vb=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var s;this.options=Pe({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Cu(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,s){var i,o,a=this.state.data,c=lb(r,a);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,a,c)?c=a:this.options.structuralSharing!==!1&&(c=sc(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},e.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},e.cancel=function(r){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(r),i?i.then(St).catch(St):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!iy(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,s){var i=this,o,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(I){return I.options.queryFn});u&&this.setOptions(u.options)}var h=nc(this.queryKey),f=ay(),m={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var v=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},E={fetchOptions:s,options:this.options,queryKey:h,state:this.state,fetchFn:v,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var w;(w=this.options.behavior)==null||w.onFetch(E)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=E.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=E.fetchOptions)==null?void 0:g.meta})}return this.retryer=new ly({fn:E.fetchFn,abort:f==null||(c=f.abort)==null?void 0:c.bind(f),onSuccess:function(b){i.setData(b),i.cache.config.onSuccess==null||i.cache.config.onSuccess(b,i),i.cacheTime===0&&i.optionalRemove()},onError:function(b){Fa(b)&&b.silent||i.dispatch({type:"error",error:b}),Fa(b)||(i.cache.config.onError==null||i.cache.config.onError(b,i),oc().error(b)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:E.options.retry,retryDelay:E.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),dt.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,s){var i,o;switch(s.type){case"failed":return Pe({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Pe({},r,{isPaused:!0});case"continue":return Pe({},r,{isPaused:!1});case"fetch":return Pe({},r,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Pe({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=s.error;return Fa(a)&&a.revert&&this.revertState?Pe({},this.revertState):Pe({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Pe({},r,{isInvalidated:!0});case"setState":return Pe({},r,s.state);default:return r}},t}(),uy=function(t){fi(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var n=e.prototype;return n.build=function(s,i,o){var a,c=i.queryKey,l=(a=i.queryHash)!=null?a:nf(c,i),u=this.get(l);return u||(u=new vb({cache:this,queryKey:c,queryHash:l,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(u)),u},n.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},n.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},n.clear=function(){var s=this;dt.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},n.get=function(s){return this.queriesMap[s]},n.getAll=function(){return this.queries},n.find=function(s,i){var o=dr(s,i),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(c){return bp(a,c)})},n.findAll=function(s,i){var o=dr(s,i),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(c){return bp(a,c)}):this.queries},n.notify=function(s){var i=this;dt.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){var s=this;dt.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var s=this;dt.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(di),Eb=function(){function t(n){this.options=Pe({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||hy(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(St).catch(St)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){s=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),oc().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,s;return this.retryer=new ly({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var s=this;this.state=Tb(this.state,r),dt.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(r)}),s.mutationCache.notify(s)})},t}();function hy(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Tb(t,e){switch(e.type){case"failed":return Pe({},t,{failureCount:t.failureCount+1});case"pause":return Pe({},t,{isPaused:!0});case"continue":return Pe({},t,{isPaused:!1});case"loading":return Pe({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Pe({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Pe({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Pe({},t,e.state);default:return t}}var fy=function(t){fi(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var n=e.prototype;return n.build=function(s,i,o){var a=new Eb({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(s){this.mutations.push(s),this.notify(s)},n.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},n.clear=function(){var s=this;dt.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return Rp(s,i)})},n.findAll=function(s){return this.mutations.filter(function(i){return Rp(s,i)})},n.notify=function(s){var i=this;dt.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return dt.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(St)})},Promise.resolve())})},e}(di);function Ib(){return{onFetch:function(e){e.fetchFn=function(){var n,r,s,i,o,a,c=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,l=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",m=((o=e.state.data)==null?void 0:o.pages)||[],v=((a=e.state.data)==null?void 0:a.pageParams)||[],E=ay(),w=E==null?void 0:E.signal,g=v,I=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},T=function(Re,xe,Z,ye){return g=ye?[xe].concat(g):[].concat(g,[xe]),ye?[Z].concat(Re):[].concat(Re,[Z])},P=function(Re,xe,Z,ye){if(I)return Promise.reject("Cancelled");if(typeof Z>"u"&&!xe&&Re.length)return Promise.resolve(Re);var he={queryKey:e.queryKey,signal:w,pageParam:Z,meta:e.meta},Ne=b(he),tt=Promise.resolve(Ne).then(function(Xe){return T(Re,Z,Xe,ye)});if(ic(Ne)){var nt=tt;nt.cancel=Ne.cancel}return tt},O;if(!m.length)O=P([]);else if(h){var S=typeof u<"u",D=S?u:Sp(e.options,m);O=P(m,S,D)}else if(f){var N=typeof u<"u",V=N?u:wb(e.options,m);O=P(m,N,V,!0)}else(function(){g=[];var se=typeof e.options.getNextPageParam>"u",Re=c&&m[0]?c(m[0],0,m):!0;O=Re?P([],se,v[0]):Promise.resolve(T([],v[0],m[0]));for(var xe=function(he){O=O.then(function(Ne){var tt=c&&m[he]?c(m[he],he,m):!0;if(tt){var nt=se?v[he]:Sp(e.options,Ne);return P(Ne,se,nt)}return Promise.resolve(T(Ne,v[he],m[he]))})},Z=1;Z<m.length;Z++)xe(Z)})();var J=O.then(function(se){return{pages:se,pageParams:g}}),B=J;return B.cancel=function(){I=!0,E==null||E.abort(),ic(O)&&O.cancel()},J}}}}function Sp(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function wb(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var Ab=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new uy,this.mutationCache=n.mutationCache||new fy,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Ki.subscribe(function(){Ki.isFocused()&&xa.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=xa.subscribe(function(){Ki.isFocused()&&xa.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(r,s){var i=dr(r,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Pe({},r,{fetching:!0})).length},e.getQueryData=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var i=s.queryKey,o=s.state,a=o.data;return[i,a]})},e.setQueryData=function(r,s,i){var o=Ul(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(s,i)},e.setQueriesData=function(r,s,i){var o=this;return dt.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,o.setQueryData(c,s,i)]})})},e.getQueryState=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state},e.removeQueries=function(r,s){var i=dr(r,s),o=i[0],a=this.queryCache;dt.batch(function(){a.findAll(o).forEach(function(c){a.remove(c)})})},e.resetQueries=function(r,s,i){var o=this,a=dr(r,s,i),c=a[0],l=a[1],u=this.queryCache,h=Pe({},c,{active:!0});return dt.batch(function(){return u.findAll(c).forEach(function(f){f.reset()}),o.refetchQueries(h,l)})},e.cancelQueries=function(r,s,i){var o=this,a=dr(r,s,i),c=a[0],l=a[1],u=l===void 0?{}:l;typeof u.revert>"u"&&(u.revert=!0);var h=dt.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.cancel(u)})});return Promise.all(h).then(St).catch(St)},e.invalidateQueries=function(r,s,i){var o,a,c,l=this,u=dr(r,s,i),h=u[0],f=u[1],m=Pe({},h,{active:(o=(a=h.refetchActive)!=null?a:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return dt.batch(function(){return l.queryCache.findAll(h).forEach(function(v){v.invalidate()}),l.refetchQueries(m,f)})},e.refetchQueries=function(r,s,i){var o=this,a=dr(r,s,i),c=a[0],l=a[1],u=dt.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.fetch(void 0,Pe({},l,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(u).then(St);return l!=null&&l.throwOnError||(h=h.catch(St)),h},e.fetchQuery=function(r,s,i){var o=Ul(r,s,i),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},e.prefetchQuery=function(r,s,i){return this.fetchQuery(r,s,i).then(St).catch(St)},e.fetchInfiniteQuery=function(r,s,i){var o=Ul(r,s,i);return o.behavior=Ib(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,s,i){return this.fetchInfiniteQuery(r,s,i).then(St).catch(St)},e.cancelMutations=function(){var r=this,s=dt.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(St).catch(St)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,s){var i=this.queryDefaults.find(function(o){return Zr(r)===Zr(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},e.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(i){return rc(r,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(r,s){var i=this.mutationDefaults.find(function(o){return Zr(r)===Zr(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},e.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(i){return rc(r,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=Pe({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=nf(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Pe({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),bb=function(t){fi(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Op(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Su(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Su(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(s,i){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&kp(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},n.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(s,i){var o=this,a={},c=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(s).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return c(l),s[l]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),a},n.getNextResult=function(s){var i=this;return new Promise(function(o,a){var c=i.subscribe(function(l){l.isFetching||(c(),l.isError&&(s!=null&&s.throwOnError)?a(l.error):o(l))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(s){return this.fetch(Pe({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},n.fetchOptimistic=function(s){var i=this,o=this.client.defaultQueryObserverOptions(s),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return i.createResult(a,o)})},n.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(St)),i},n.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(tc||this.currentResult.isStale||!Cu(this.options.staleTime))){var i=iy(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},o)}},n.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},n.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(tc||this.options.enabled===!1||!Cu(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Ki.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(s,i){var o=this.currentQuery,a=this.options,c=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,h=s!==o,f=h?s.state:this.currentQueryInitialState,m=h?this.currentResult:this.previousQueryResult,v=s.state,E=v.dataUpdatedAt,w=v.error,g=v.errorUpdatedAt,I=v.isFetching,b=v.status,T=!1,P=!1,O;if(i.optimisticResults){var S=this.hasListeners(),D=!S&&Op(s,i),N=S&&kp(s,o,i,a);(D||N)&&(I=!0,E||(b="loading"))}if(i.keepPreviousData&&!v.dataUpdateCount&&(m!=null&&m.isSuccess)&&b!=="error")O=m.data,E=m.dataUpdatedAt,b=m.status,T=!0;else if(i.select&&typeof v.data<"u")if(c&&v.data===(l==null?void 0:l.data)&&i.select===this.selectFn)O=this.selectResult;else try{this.selectFn=i.select,O=i.select(v.data),i.structuralSharing!==!1&&(O=sc(c==null?void 0:c.data,O)),this.selectResult=O,this.selectError=null}catch(B){oc().error(B),this.selectError=B}else O=v.data;if(typeof i.placeholderData<"u"&&typeof O>"u"&&(b==="loading"||b==="idle")){var V;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))V=c.data;else if(V=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof V<"u")try{V=i.select(V),i.structuralSharing!==!1&&(V=sc(c==null?void 0:c.data,V)),this.selectError=null}catch(B){oc().error(B),this.selectError=B}typeof V<"u"&&(b="success",O=V,P=!0)}this.selectError&&(w=this.selectError,O=this.selectResult,g=Date.now(),b="error");var J={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:O,dataUpdatedAt:E,error:w,errorUpdatedAt:g,failureCount:v.fetchFailureCount,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:I,isRefetching:I&&b!=="loading",isLoadingError:b==="error"&&v.dataUpdatedAt===0,isPlaceholderData:P,isPreviousData:T,isRefetchError:b==="error"&&v.dataUpdatedAt!==0,isStale:rf(s,i),refetch:this.refetch,remove:this.remove};return J},n.shouldNotifyListeners=function(s,i){if(!i)return!0;var o=this.options,a=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!a&&!c||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(s).some(function(u){var h=u,f=s[h]!==i[h],m=l==null?void 0:l.some(function(E){return E===u}),v=c==null?void 0:c.some(function(E){return E===u});return f&&!v&&(!l||m)})},n.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!fb(this.currentResult,i)){var o={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(Pe({},o,s))}},n.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},n.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Fa(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(s){var i=this;dt.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(di);function Rb(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Op(t,e){return Rb(t,e)||t.state.dataUpdatedAt>0&&Su(t,e,e.refetchOnMount)}function Su(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&rf(t,e)}return!1}function kp(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&rf(t,n)}function rf(t,e){return t.isStaleByTime(e.staleTime)}var Cb=function(t){fi(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.setOptions(s),i.bindMethods(),i.updateResult(),i}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},n.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},n.onMutationUpdate=function(s){this.updateResult();var i={listeners:!0};s.type==="success"?i.onSuccess=!0:s.type==="error"&&(i.onError=!0),this.notify(i)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(s,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Pe({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:hy(),i=Pe({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},n.notify=function(s){var i=this;dt.batch(function(){i.mutateOptions&&(s.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):s.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},e}(di),sf={exports:{}},dy={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},py=Object.keys(dy).join("|"),Pb=new RegExp(py,"g"),Sb=new RegExp(py,""),my=function(t){return t.replace(Pb,function(e){return dy[e]})},Ob=function(t){return!!t.match(Sb)};sf.exports=my;sf.exports.has=Ob;sf.exports.remove=my;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ou=function(t,e){return Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ou(t,e)};function of(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ou(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bn=function(){return bn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bn.apply(this,arguments)},kb="VUE_QUERY_CLIENT";function ku(t){var e=t?":".concat(t):"";return"".concat(kb).concat(e)}function zt(t){return typeof t=="string"||Array.isArray(t)}function Nb(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),zt(t)?typeof e=="function"?Object.assign(n,{mutationKey:t,mutationFn:e}):Object.assign(e,{mutationKey:t}):typeof t=="function"?Object.assign(e,{mutationFn:t}):t}function gy(t,e){Object.keys(t).forEach(function(n){t[n]=e[n]})}function Nu(t,e){if(e){var n=e(t);if(n!==void 0||$e(t))return n}if(Array.isArray(t))return t.map(function(s){return Nu(s,e)});if(typeof t=="object"&&Db(t)){var r=Object.entries(t).map(function(s){var i=s[0],o=s[1];return[i,Nu(o,e)]});return Object.fromEntries(r)}return t}function te(t){return Nu(t,function(e){if($e(e))return te(Se(e))})}function Db(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function af(t){var e;t===void 0&&(t="");var n=(e=xn())===null||e===void 0?void 0:e.proxy;if(!n)throw new Error("vue-query hooks can only be used inside setup() function.");var r=ku(t),s=ln(r);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}var Lb=function(t){of(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.find=function(n,r){var s=te(n),i=te(r);return t.prototype.find.call(this,s,i)},e.prototype.findAll=function(n,r){var s=te(n),i=te(r);return zt(s)?t.prototype.findAll.call(this,s,i):t.prototype.findAll.call(this,s)},e}(uy),Mb=function(t){of(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.find=function(n){return t.prototype.find.call(this,te(n))},e.prototype.findAll=function(n){return t.prototype.findAll.call(this,te(n))},e}(fy),Np=function(t){of(e,t);function e(n){n===void 0&&(n={});var r=te(n),s={defaultOptions:te(r.defaultOptions),queryCache:r.queryCache||new Lb,mutationCache:r.mutationCache||new Mb};return t.call(this,s)||this}return e.prototype.isFetching=function(n,r){var s=te(n),i=te(r);return zt(s)?t.prototype.isFetching.call(this,s,i):t.prototype.isFetching.call(this,s)},e.prototype.isMutating=function(n){return t.prototype.isMutating.call(this,te(n))},e.prototype.getQueryData=function(n,r){return t.prototype.getQueryData.call(this,te(n),te(r))},e.prototype.getQueriesData=function(n){var r=te(n);return zt(r)?t.prototype.getQueriesData.call(this,r):t.prototype.getQueriesData.call(this,r)},e.prototype.setQueryData=function(n,r,s){return t.prototype.setQueryData.call(this,te(n),r,te(s))},e.prototype.setQueriesData=function(n,r,s){var i=te(n),o=te(s);return zt(i)?t.prototype.setQueriesData.call(this,i,r,o):t.prototype.setQueriesData.call(this,i,r,o)},e.prototype.getQueryState=function(n,r){return t.prototype.getQueryState.call(this,te(n),te(r))},e.prototype.removeQueries=function(n,r){var s=te(n);return zt(s)?t.prototype.removeQueries.call(this,s,te(r)):t.prototype.removeQueries.call(this,s)},e.prototype.resetQueries=function(n,r,s){var i=te(n),o=te(r);return zt(i)?t.prototype.resetQueries.call(this,i,o,te(s)):t.prototype.resetQueries.call(this,i,o)},e.prototype.cancelQueries=function(n,r,s){var i=te(n),o=te(r);return zt(i)?t.prototype.cancelQueries.call(this,i,o,te(s)):t.prototype.cancelQueries.call(this,i,o)},e.prototype.invalidateQueries=function(n,r,s){var i=te(n),o=te(r);return zt(i)?t.prototype.invalidateQueries.call(this,i,o,te(s)):t.prototype.invalidateQueries.call(this,i,o)},e.prototype.refetchQueries=function(n,r,s){var i=te(n),o=te(r);return zt(i)?t.prototype.refetchQueries.call(this,i,o,te(s)):t.prototype.refetchQueries.call(this,i,o)},e.prototype.fetchQuery=function(n,r,s){var i=te(n),o=te(r);return zt(i)?t.prototype.fetchQuery.call(this,i,o,te(s)):t.prototype.fetchQuery.call(this,i)},e.prototype.prefetchQuery=function(n,r,s){return t.prototype.prefetchQuery.call(this,te(n),te(r),te(s))},e.prototype.fetchInfiniteQuery=function(n,r,s){var i=te(n),o=te(r);return zt(i)?t.prototype.fetchInfiniteQuery.call(this,i,o,te(s)):t.prototype.fetchInfiniteQuery.call(this,i)},e.prototype.prefetchInfiniteQuery=function(n,r,s){return t.prototype.prefetchInfiniteQuery.call(this,te(n),te(r),te(s))},e.prototype.setDefaultOptions=function(n){t.prototype.setDefaultOptions.call(this,te(n))},e.prototype.setQueryDefaults=function(n,r){t.prototype.setQueryDefaults.call(this,te(n),te(r))},e.prototype.getQueryDefaults=function(n){return t.prototype.getQueryDefaults.call(this,te(n))},e.prototype.setMutationDefaults=function(n,r){t.prototype.setMutationDefaults.call(this,te(n),te(r))},e.prototype.getMutationDefaults=function(n){return t.prototype.getMutationDefaults.call(this,te(n))},e}(Ab),Dp;(function(t){t[t.Fetching=0]="Fetching",t[t.Fresh=1]="Fresh",t[t.Stale=2]="Stale",t[t.Inactive=3]="Inactive"})(Dp||(Dp={}));var xb={install:function(t,e){var n;e===void 0&&(e={});var r=ku(e.queryClientKey),s;if("queryClient"in e&&e.queryClient)s=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)s=window.__VUE_QUERY_CONTEXT__;else{var i="queryClientConfig"in e?e.queryClientConfig:void 0;s=new Np(i),window.__VUE_QUERY_CONTEXT__=s}else{var i="queryClientConfig"in e?e.queryClientConfig:void 0;s=new Np(i)}s.mount();var o=function(){var c;s.unmount(),(c=e.additionalClients)===null||c===void 0||c.forEach(function(l){l.queryClient.unmount()})};if(t.onUnmount)t.onUnmount(o);else{var a=t.unmount;t.unmount=function(){o(),a()}}t.provide(r,s),(n=e.additionalClients)===null||n===void 0||n.forEach(function(c){var l=ku(c.queryClientKey);t.provide(l,c.queryClient),c.queryClient.mount()})}};function Fb(t,e,n,r){n===void 0&&(n={}),r===void 0&&(r={});var s=u(),i=af(s.queryClientKey),o=i.defaultQueryObserverOptions(s),a=new t(i,o),c=zn(a.getCurrentResult()),l=a.subscribe(function(h){gy(c,h)});return cn([function(){return e},function(){return n},function(){return r}],function(){a.setOptions(i.defaultQueryObserverOptions(u()))},{deep:!0}),xc(function(){l()}),bn(bn({},Bh(ui(c))),{suspense:function(){return a.fetchOptimistic(o)}});function u(){var h;return zt(e)?typeof n=="function"?h=bn(bn({},r),{queryKey:e,queryFn:n}):h=bn(bn({},n),{queryKey:e}):h=e,te(h)}}function cf(t,e,n){return Fb(bb,t,e,n)}function Vb(t,e,n){var r=Nb(t,e,n),s=af(r.queryClientKey),i=new Cb(s,r),o=zn(i.getCurrentResult()),a=i.subscribe(function(){gy(o,i.getCurrentResult())}),c=function(u,h){i.mutate(u,h).catch(function(){})};k_(function(){i.setOptions(r)}),xc(function(){a()});var l=Bh(ui(o));return bn(bn({},l),{mutate:c,mutateAsync:o.mutate})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ub=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_y(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ub(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new $b;const f=i<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const v=l<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(t){const e=_y(t);return yy.encodeByteArray(e,!0)},ac=function(t){return Bb(t).replace(/\./g,"")},vy=function(t){try{return yy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=()=>jb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vy(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return qb()||Hb()||Wb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ey=t=>{var e,n;return(n=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Kb=t=>{const e=Ey(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ty=()=>{var t;return(t=lf())===null||t===void 0?void 0:t.config},Iy=t=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ac(JSON.stringify(n)),ac(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Yb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function e0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t0,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?n0(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new tr(s,a,r)}}function n0(t,e){return t.replace(r0,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const r0=/\{\$([^}]+)}/g;function s0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Lp(i)&&Lp(o)){if(!cc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Lp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Li(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Mi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function i0(t,e){const n=new o0(t,e);return n.subscribe.bind(n)}class o0{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a0(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$l),s.error===void 0&&(s.error=$l),s.complete===void 0&&(s.complete=$l);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a0(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $l(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u0(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l0(t){return t===Qr?void 0:t}function u0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const f0={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},d0=we.INFO,p0={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},m0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=p0[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uf{constructor(e){this.name=e,this._logLevel=d0,this._logHandler=m0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const g0=(t,e)=>e.some(n=>t instanceof n);let Mp,xp;function _0(){return Mp||(Mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y0(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wy=new WeakMap,Du=new WeakMap,Ay=new WeakMap,Bl=new WeakMap,hf=new WeakMap;function v0(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ar(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wy.set(n,t)}).catch(()=>{}),hf.set(e,t),e}function E0(t){if(Du.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Du.set(t,e)}let Lu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Du.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ay.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T0(t){Lu=t(Lu)}function I0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jl(this),e,...n);return Ay.set(r,e.sort?e.sort():[e]),Ar(r)}:y0().includes(t)?function(...e){return t.apply(jl(this),e),Ar(wy.get(this))}:function(...e){return Ar(t.apply(jl(this),e))}}function w0(t){return typeof t=="function"?I0(t):(t instanceof IDBTransaction&&E0(t),g0(t,_0())?new Proxy(t,Lu):t)}function Ar(t){if(t instanceof IDBRequest)return v0(t);if(Bl.has(t))return Bl.get(t);const e=w0(t);return e!==t&&(Bl.set(t,e),hf.set(e,t)),e}const jl=t=>hf.get(t);function A0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ar(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ar(o.result),c.oldVersion,c.newVersion,Ar(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const b0=["get","getKey","getAll","getAllKeys","count"],R0=["put","add","delete","clear"],ql=new Map;function Fp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ql.get(e))return ql.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=R0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||b0.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return ql.set(e,i),i}T0(t=>({...t,get:(e,n,r)=>Fp(e,n)||t.get(e,n,r),has:(e,n)=>!!Fp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mu="@firebase/app",Vp="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new uf("@firebase/app"),S0="@firebase/app-compat",O0="@firebase/analytics-compat",k0="@firebase/analytics",N0="@firebase/app-check-compat",D0="@firebase/app-check",L0="@firebase/auth",M0="@firebase/auth-compat",x0="@firebase/database",F0="@firebase/database-compat",V0="@firebase/functions",U0="@firebase/functions-compat",$0="@firebase/installations",B0="@firebase/installations-compat",j0="@firebase/messaging",q0="@firebase/messaging-compat",H0="@firebase/performance",W0="@firebase/performance-compat",K0="@firebase/remote-config",Q0="@firebase/remote-config-compat",G0="@firebase/storage",z0="@firebase/storage-compat",Y0="@firebase/firestore",X0="@firebase/firestore-compat",J0="firebase",Z0="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]",eR={[Mu]:"fire-core",[S0]:"fire-core-compat",[k0]:"fire-analytics",[O0]:"fire-analytics-compat",[D0]:"fire-app-check",[N0]:"fire-app-check-compat",[L0]:"fire-auth",[M0]:"fire-auth-compat",[x0]:"fire-rtdb",[F0]:"fire-rtdb-compat",[V0]:"fire-fn",[U0]:"fire-fn-compat",[$0]:"fire-iid",[B0]:"fire-iid-compat",[j0]:"fire-fcm",[q0]:"fire-fcm-compat",[H0]:"fire-perf",[W0]:"fire-perf-compat",[K0]:"fire-rc",[Q0]:"fire-rc-compat",[G0]:"fire-gcs",[z0]:"fire-gcs-compat",[Y0]:"fire-fst",[X0]:"fire-fst-compat","fire-js":"fire-js",[J0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,Fu=new Map;function tR(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ks(t){const e=t.name;if(Fu.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Fu.set(e,t);for(const n of lc.values())tR(n,t);return!0}function ff(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},br=new Uo("app","Firebase",nR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=Z0;function by(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xu,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=Ty()),!n)throw br.create("no-options");const i=lc.get(s);if(i){if(cc(n,i.options)&&cc(r,i.config))return i;throw br.create("duplicate-app",{appName:s})}const o=new h0(s);for(const c of Fu.values())o.addComponent(c);const a=new rR(n,r,o);return lc.set(s,a),a}function Ry(t=xu){const e=lc.get(t);if(!e&&t===xu&&Ty())return by();if(!e)throw br.create("no-app",{appName:t});return e}function Rr(t,e,n){var r;let s=(r=eR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(a.join(" "));return}Ks(new cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",iR=1,lo="firebase-heartbeat-store";let Hl=null;function Cy(){return Hl||(Hl=A0(sR,iR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lo)}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Hl}async function oR(t){try{return await(await Cy()).transaction(lo).objectStore(lo).get(Py(t))}catch(e){if(e instanceof tr)ls.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function Up(t,e){try{const r=(await Cy()).transaction(lo,"readwrite");await r.objectStore(lo).put(e,Py(t)),await r.done}catch(n){if(n instanceof tr)ls.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function Py(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1024,cR=30*24*60*60*1e3;class lR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$p();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=cR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$p(),{heartbeatsToSend:r,unsentEntries:s}=uR(this._heartbeatsCache.heartbeats),i=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $p(){return new Date().toISOString().substring(0,10)}function uR(t,e=aR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Bp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?e0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await oR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Up(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Up(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bp(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){Ks(new cs("platform-logger",e=>new C0(e),"PRIVATE")),Ks(new cs("heartbeat",e=>new lR(e),"PRIVATE")),Rr(Mu,Vp,t),Rr(Mu,Vp,"esm2017"),Rr("fire-js","")}fR("");var dR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,df=df||{},fe=dR||self;function Qc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pR(t){return Object.prototype.hasOwnProperty.call(t,Wl)&&t[Wl]||(t[Wl]=++mR)}var Wl="closure_uid_"+(1e9*Math.random()>>>0),mR=0;function gR(t,e,n){return t.call.apply(t.bind,arguments)}function _R(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Dt=gR:Dt=_R,Dt.apply(null,arguments)}function _a(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Lr(){this.s=this.s,this.o=this.o}var yR=0;Lr.prototype.s=!1;Lr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yR!=0)&&pR(this)};Lr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sy=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function pf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Qc(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var vR=function(){if(!fe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{fe.addEventListener("test",()=>{},e),fe.removeEventListener("test",()=>{},e)}catch{}return t}();function uo(t){return/^[\s\xa0]*$/.test(t)}function Gc(){var t=fe.navigator;return t&&(t=t.userAgent)?t:""}function Cn(t){return Gc().indexOf(t)!=-1}function mf(t){return mf[" "](t),t}mf[" "]=function(){};function ER(t,e){var n=fC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TR=Cn("Opera"),Qs=Cn("Trident")||Cn("MSIE"),Oy=Cn("Edge"),Vu=Oy||Qs,ky=Cn("Gecko")&&!(Gc().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),IR=Gc().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge");function Ny(){var t=fe.document;return t?t.documentMode:void 0}var Uu;e:{var Kl="",Ql=function(){var t=Gc();if(ky)return/rv:([^\);]+)(\)|;)/.exec(t);if(Oy)return/Edge\/([\d\.]+)/.exec(t);if(Qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IR)return/WebKit\/(\S+)/.exec(t);if(TR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ql&&(Kl=Ql?Ql[1]:""),Qs){var Gl=Ny();if(Gl!=null&&Gl>parseFloat(Kl)){Uu=String(Gl);break e}}Uu=Kl}var $u;if(fe.document&&Qs){var qp=Ny();$u=qp||parseInt(Uu,10)||void 0}else $u=void 0;var wR=$u;function ho(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ky){e:{try{mf(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ho.$.h.call(this)}}yt(ho,Lt);var AR={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jo="closure_listenable_"+(1e6*Math.random()|0),bR=0;function RR(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++bR,this.fa=this.ia=!1}function zc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function gf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function CR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Dy(t){const e={};for(const n in t)e[n]=t[n];return e}const Hp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ly(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Hp.length;i++)n=Hp[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yc(t){this.src=t,this.g={},this.h=0}Yc.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=ju(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new RR(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Bu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Sy(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(zc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ju(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var _f="closure_lm_"+(1e6*Math.random()|0),zl={};function My(t,e,n,r,s){if(r&&r.once)return Fy(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)My(t,e[i],n,r,s);return null}return n=Ef(n),t&&t[jo]?t.O(e,n,Bo(r)?!!r.capture:!!r,s):xy(t,e,n,!1,r,s)}function xy(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Bo(s)?!!s.capture:!!s,a=vf(t);if(a||(t[_f]=a=new Yc(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=PR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vR||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Uy(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function PR(){function t(n){return e.call(t.src,t.listener,n)}const e=SR;return t}function Fy(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Fy(t,e[i],n,r,s);return null}return n=Ef(n),t&&t[jo]?t.P(e,n,Bo(r)?!!r.capture:!!r,s):xy(t,e,n,!0,r,s)}function Vy(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Vy(t,e[i],n,r,s);else r=Bo(r)?!!r.capture:!!r,n=Ef(n),t&&t[jo]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=ju(i,n,r,s),-1<n&&(zc(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=vf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ju(e,n,r,s)),(n=-1<t?e[t]:null)&&yf(n))}function yf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jo])Bu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Uy(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vf(e))?(Bu(n,t),n.h==0&&(n.src=null,e[_f]=null)):zc(t)}}}function Uy(t){return t in zl?zl[t]:zl[t]="on"+t}function SR(t,e){if(t.fa)t=!0;else{e=new ho(e,this);var n=t.listener,r=t.la||t.src;t.ia&&yf(t),t=n.call(r,e)}return t}function vf(t){return t=t[_f],t instanceof Yc?t:null}var Yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ef(t){return typeof t=="function"?t:(t[Yl]||(t[Yl]=function(e){return t.handleEvent(e)}),t[Yl])}function _t(){Lr.call(this),this.i=new Yc(this),this.S=this,this.J=null}yt(_t,Lr);_t.prototype[jo]=!0;_t.prototype.removeEventListener=function(t,e,n,r){Vy(this,t,e,n,r)};function At(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var s=e;e=new Lt(r,t),Ly(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=ya(o,r,!0,e)&&s}if(o=e.g=t,s=ya(o,r,!0,e)&&s,s=ya(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=ya(o,r,!1,e)&&s}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zc(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ya(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Bu(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Tf=fe.JSON.stringify;class OR{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function kR(){var t=If;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class NR{constructor(){this.h=this.g=null}add(e,n){const r=$y.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var $y=new OR(()=>new DR,t=>t.reset());class DR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function MR(t){fe.setTimeout(()=>{throw t},0)}let fo,po=!1,If=new NR,By=()=>{const t=fe.Promise.resolve(void 0);fo=()=>{t.then(xR)}};var xR=()=>{for(var t;t=kR();){try{t.h.call(t.g)}catch(n){MR(n)}var e=$y;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}po=!1};function Xc(t,e){_t.call(this),this.h=t||1,this.g=e||fe,this.j=Dt(this.qb,this),this.l=Date.now()}yt(Xc,_t);W=Xc.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(wf(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function wf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){Xc.$.N.call(this),wf(this),delete this.g};function Af(t,e,n){if(typeof t=="function")n&&(t=Dt(t,n));else if(t&&typeof t.handleEvent=="function")t=Dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:fe.setTimeout(t,e||0)}function jy(t){t.g=Af(()=>{t.g=null,t.i&&(t.i=!1,jy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class FR extends Lr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jy(this)}N(){super.N(),this.g&&(fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(t){Lr.call(this),this.h=t,this.g={}}yt(mo,Lr);var Wp=[];function qy(t,e,n,r){Array.isArray(n)||(n&&(Wp[0]=n.toString()),n=Wp);for(var s=0;s<n.length;s++){var i=My(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Hy(t){gf(t.g,function(e,n){this.g.hasOwnProperty(n)&&yf(e)},t),t.g={}}mo.prototype.N=function(){mo.$.N.call(this),Hy(this)};mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jc(){this.g=!0}Jc.prototype.Ea=function(){this.g=!1};function VR(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function UR(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+BR(t,n)+(r?" "+r:"")})}function $R(t,e){t.info(function(){return"TIMEOUT: "+e})}Jc.prototype.info=function(){};function BR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Tf(n)}catch{return e}}var _s={},Kp=null;function Zc(){return Kp=Kp||new _t}_s.Ta="serverreachability";function Wy(t){Lt.call(this,_s.Ta,t)}yt(Wy,Lt);function go(t){const e=Zc();At(e,new Wy(e))}_s.STAT_EVENT="statevent";function Ky(t,e){Lt.call(this,_s.STAT_EVENT,t),this.stat=e}yt(Ky,Lt);function $t(t){const e=Zc();At(e,new Ky(e,t))}_s.Ua="timingevent";function Qy(t,e){Lt.call(this,_s.Ua,t),this.size=e}yt(Qy,Lt);function qo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return fe.setTimeout(function(){t()},e)}var el={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bf(){}bf.prototype.h=null;function Qp(t){return t.h||(t.h=t.i())}function zy(){}var Ho={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rf(){Lt.call(this,"d")}yt(Rf,Lt);function Cf(){Lt.call(this,"c")}yt(Cf,Lt);var qu;function tl(){}yt(tl,bf);tl.prototype.g=function(){return new XMLHttpRequest};tl.prototype.i=function(){return{}};qu=new tl;function Wo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new mo(this),this.P=jR,t=Vu?125:void 0,this.V=new Xc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yy}function Yy(){this.i=null,this.g="",this.h=!1}var jR=45e3,Hu={},uc={};W=Wo.prototype;W.setTimeout=function(t){this.P=t};function Wu(t,e,n){t.L=1,t.v=rl(Yn(e)),t.s=n,t.S=!0,Xy(t,null)}function Xy(t,e){t.G=Date.now(),Ko(t),t.A=Yn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),iv(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Yy,t.g=Rv(t.l,n?e:null,!t.s),0<t.O&&(t.M=new FR(Dt(t.Pa,t,t.g),t.O)),qy(t.U,t.g,"readystatechange",t.nb),e=t.I?Dy(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),go(),VR(t.j,t.u,t.A,t.m,t.W,t.s)}W.nb=function(t){t=t.target;const e=this.M;e&&Pn(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const u=Pn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Vu||this.g&&(this.h.h||this.g.ja()||Xp(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?go(3):go(2)),nl(this);var n=this.g.da();this.ca=n;t:if(Jy(this)){var r=Xp(this.g);t="";var s=r.length,i=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Qi(this);var o="";break t}this.h.i=new fe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,UR(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uo(a)){var l=a;break t}}l=null}if(n=l)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ku(this,n);else{this.i=!1,this.o=3,$t(12),es(this),Qi(this);break e}}this.S?(Zy(this,u,o),Vu&&this.i&&u==3&&(qy(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,o,null),Ku(this,o)),u==4&&es(this),this.i&&!this.J&&(u==4?Iv(this.l,this):(this.i=!1,Ko(this)))}else lC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,$t(12)):(this.o=0,$t(13)),es(this),Qi(this)}}}catch{}finally{}};function Jy(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Zy(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=qR(t,n),s==uc){e==4&&(t.o=4,$t(14),r=!1),ks(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Hu){t.o=4,$t(15),ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ks(t.j,t.m,s,null),Ku(t,s);Jy(t)&&s!=uc&&s!=Hu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,$t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Df(e),e.M=!0,$t(11))):(ks(t.j,t.m,n,"[Invalid Chunked Response]"),es(t),Qi(t))}W.mb=function(){if(this.g){var t=Pn(this.g),e=this.g.ja();this.C<e.length&&(nl(this),Zy(this,t,e),this.i&&t!=4&&Ko(this))}};function qR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uc:(n=Number(e.substring(n,r)),isNaN(n)?Hu:(r+=1,r+n>e.length?uc:(e=e.slice(r,r+n),t.C=r+n,e)))}W.cancel=function(){this.J=!0,es(this)};function Ko(t){t.Y=Date.now()+t.P,ev(t,t.P)}function ev(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=qo(Dt(t.lb,t),e)}function nl(t){t.B&&(fe.clearTimeout(t.B),t.B=null)}W.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($R(this.j,this.A),this.L!=2&&(go(),$t(17)),es(this),this.o=2,Qi(this)):ev(this,this.Y-t)};function Qi(t){t.l.H==0||t.J||Iv(t.l,t)}function es(t){nl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,wf(t.V),Hy(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ku(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Qu(n.i,t))){if(!t.K&&Qu(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dc(n),ol(n);else break e;Nf(n),$t(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=qo(Dt(n.ib,n),6e3));if(1>=cv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ts(n,11)}else if((t.K||n.g==t)&&dc(n),!uo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Pf(i,i.h),i.h=null))}if(r.F){const E=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,qe(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=bv(r,r.J?r.pa:null,r.Y),o.K){lv(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(nl(a),Ko(a)),r.g=o}else Ev(r);0<n.j.length&&al(n)}else l[0]!="stop"&&l[0]!="close"||ts(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?ts(n,7):kf(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}go(4)}catch{}}function HR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Qc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function WR(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Qc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function tv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Qc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=WR(t),r=HR(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function is(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof is){this.h=t.h,hc(this,t.j),this.s=t.s,this.g=t.g,fc(this,t.m),this.l=t.l;var e=t.i,n=new _o;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Gp(this,n),this.o=t.o}else t&&(e=String(t).match(nv))?(this.h=!1,hc(this,e[1]||"",!0),this.s=xi(e[2]||""),this.g=xi(e[3]||"",!0),fc(this,e[4]),this.l=xi(e[5]||"",!0),Gp(this,e[6]||"",!0),this.o=xi(e[7]||"")):(this.h=!1,this.i=new _o(null,this.h))}is.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fi(e,zp,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fi(e,zp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fi(n,n.charAt(0)=="/"?zR:GR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fi(n,XR)),t.join("")};function Yn(t){return new is(t)}function hc(t,e,n){t.j=n?xi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Gp(t,e,n){e instanceof _o?(t.i=e,JR(t.i,t.h)):(n||(e=Fi(e,YR)),t.i=new _o(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function rl(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zp=/[#\/\?@]/g,GR=/[#\?:]/g,zR=/[#\?]/g,YR=/[#\?@]/g,XR=/#/g;function _o(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mr(t){t.g||(t.g=new Map,t.h=0,t.i&&KR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=_o.prototype;W.add=function(t,e){Mr(this),this.i=null,t=mi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rv(t,e){Mr(t),e=mi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sv(t,e){return Mr(t),e=mi(t,e),t.g.has(e)}W.forEach=function(t,e){Mr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};W.ta=function(){Mr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};W.Z=function(t){Mr(this);let e=[];if(typeof t=="string")sv(this,t)&&(e=e.concat(this.g.get(mi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return Mr(this),this.i=null,t=mi(this,t),sv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function iv(t,e,n){rv(t,e),0<n.length&&(t.i=null,t.g.set(mi(t,e),pf(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function mi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JR(t,e){e&&!t.j&&(Mr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(rv(this,r),iv(this,s,n))},t)),t.j=e}var ZR=class{constructor(t,e){this.g=t,this.map=e}};function ov(t){this.l=t||eC,fe.PerformanceNavigationTiming?(t=fe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(fe.g&&fe.g.Ka&&fe.g.Ka()&&fe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eC=10;function av(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cv(t){return t.h?1:t.g?t.g.size:0}function Qu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pf(t,e){t.g?t.g.add(e):t.h=e}function lv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ov.prototype.cancel=function(){if(this.i=uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return pf(t.i)}var tC=class{stringify(t){return fe.JSON.stringify(t,void 0)}parse(t){return fe.JSON.parse(t,void 0)}};function nC(){this.g=new tC}function rC(t,e,n){const r=n||"";try{tv(t,function(s,i){let o=s;Bo(s)&&(o=Tf(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function sC(t,e){const n=new Jc;if(fe.Image){const r=new Image;r.onload=_a(va,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_a(va,n,r,"TestLoadImage: error",!1,e),r.onabort=_a(va,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_a(va,n,r,"TestLoadImage: timeout",!1,e),fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function va(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Qo(t){this.l=t.ec||null,this.j=t.ob||!1}yt(Qo,bf);Qo.prototype.g=function(){return new sl(this.l,this.j)};Qo.prototype.i=function(t){return function(){return t}}({});function sl(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Sf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yt(sl,_t);var Sf=0;W=sl.prototype;W.open=function(t,e){if(this.readyState!=Sf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yo(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||fe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=Sf};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof fe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Go(this):yo(this),this.readyState==3&&hv(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,Go(this))};W.Ya=function(t){this.g&&(this.response=t,Go(this))};W.ka=function(){this.g&&Go(this)};function Go(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yo(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iC=fe.JSON.parse;function Ze(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fv,this.L=this.M=!1}yt(Ze,_t);var fv="",oC=/^https?$/i,aC=["POST","PUT"];W=Ze.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qu.g(),this.C=this.u?Qp(this.u):Qp(qu),this.g.onreadystatechange=Dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Yp(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=fe.FormData&&t instanceof fe.FormData,!(0<=Sy(aC,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mv(this),0<this.B&&((this.L=cC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.ua,this)):this.A=Af(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Yp(this,i)}};function cC(t){return Qs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof df<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function Yp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,dv(t),il(t)}function dv(t){t.F||(t.F=!0,At(t,"complete"),At(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),il(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),il(this,!0)),Ze.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?pv(this):this.kb())};W.kb=function(){pv(this)};function pv(t){if(t.h&&typeof df<"u"&&(!t.C[1]||Pn(t)!=4||t.da()!=2)){if(t.v&&Pn(t)==4)Af(t.La,0,t);else if(At(t,"readystatechange"),Pn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(nv)[1]||null;!s&&fe.self&&fe.self.location&&(s=fe.self.location.protocol.slice(0,-1)),r=!oC.test(s?s.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var i=2<Pn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",dv(t)}}finally{il(t)}}}}function il(t,e){if(t.g){mv(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function mv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(fe.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function Pn(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iC(e)}};function Xp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function lC(t){const e={};t=(t.g&&2<=Pn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uo(t[r]))continue;var n=LR(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}CR(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gv(t){let e="";return gf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Of(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=gv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function Ci(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _v(t){this.Ga=0,this.j=[],this.l=new Jc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ci("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ci("baseRetryDelayMs",5e3,t),this.hb=Ci("retryDelaySeedMs",1e4,t),this.eb=Ci("forwardChannelMaxRetries",2,t),this.xa=Ci("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ov(t&&t.concurrentRequestLimit),this.Ja=new nC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=_v.prototype;W.ra=8;W.H=1;function kf(t){if(yv(t),t.H==3){var e=t.W++,n=Yn(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),zo(t,n),e=new Wo(t,t.l,e),e.L=2,e.v=rl(Yn(n)),n=!1,fe.navigator&&fe.navigator.sendBeacon)try{n=fe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&fe.Image&&(new Image().src=e.v,n=!0),n||(e.g=Rv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ko(e)}Av(t)}function ol(t){t.g&&(Df(t),t.g.cancel(),t.g=null)}function yv(t){ol(t),t.u&&(fe.clearTimeout(t.u),t.u=null),dc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&fe.clearTimeout(t.m),t.m=null)}function al(t){if(!av(t.i)&&!t.m){t.m=!0;var e=t.Na;fo||By(),po||(fo(),po=!0),If.add(e,t),t.C=0}}function uC(t,e){return cv(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=qo(Dt(t.Na,t,e),wv(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Wo(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Dy(i),Ly(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vv(this,s,e),n=Yn(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),zo(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(gv(i)))+"&"+e:this.o&&Of(n,this.o,i)),Pf(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,Wu(s,n,null)):Wu(s,n,e),this.H=2}}else this.H==3&&(t?Jp(this,t):this.j.length==0||av(this.i)||Jp(this))};function Jp(t,e){var n;e?n=e.m:n=t.W++;const r=Yn(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),zo(t,r),t.o&&t.s&&Of(r,t.o,t.s),n=new Wo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Pf(t.i,n),Wu(n,r,e)}function zo(t,e){t.na&&gf(t.na,function(n,r){qe(e,r,n)}),t.h&&tv({},function(n,r){qe(e,r,n)})}function vv(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Dt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{rC(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ev(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;fo||By(),po||(fo(),po=!0),If.add(e,t),t.A=0}}function Nf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=qo(Dt(t.Ma,t),wv(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,Tv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=qo(Dt(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$t(10),ol(this),Tv(this))};function Df(t){t.B!=null&&(fe.clearTimeout(t.B),t.B=null)}function Tv(t){t.g=new Wo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Yn(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),zo(t,e),t.o&&t.s&&Of(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=rl(Yn(e)),n.s=null,n.S=!0,Xy(n,t)}W.ib=function(){this.v!=null&&(this.v=null,ol(this),Nf(this),$t(19))};function dc(t){t.v!=null&&(fe.clearTimeout(t.v),t.v=null)}function Iv(t,e){var n=null;if(t.g==e){dc(t),Df(t),t.g=null;var r=2}else if(Qu(t.i,e))n=e.F,lv(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Zc(),At(r,new Qy(r,n)),al(t)}else Ev(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&uC(t,e)||r==2&&Nf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ts(t,5);break;case 4:ts(t,10);break;case 3:ts(t,6);break;default:ts(t,2)}}}function wv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ts(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Dt(t.pb,t);n||(n=new is("//www.google.com/images/cleardot.gif"),fe.location&&fe.location.protocol=="http"||hc(n,"https"),rl(n)),sC(n.toString(),r)}else $t(2);t.H=0,t.h&&t.h.za(e),Av(t),yv(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),$t(2)):(this.l.info("Failed to ping google.com"),$t(1))};function Av(t){if(t.H=0,t.ma=[],t.h){const e=uv(t.i);(e.length!=0||t.j.length!=0)&&(jp(t.ma,e),jp(t.ma,t.j),t.i.i.length=0,pf(t.j),t.j.length=0),t.h.ya()}}function bv(t,e,n){var r=n instanceof is?Yn(n):new is(n);if(r.g!="")e&&(r.g=e+"."+r.g),fc(r,r.m);else{var s=fe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new is(null);r&&hc(i,r),e&&(i.g=e),s&&fc(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),zo(t,r),r}function Rv(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ze(new Qo({ob:!0})):new Ze(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function Cv(){}W=Cv.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function pc(){if(Qs&&!(10<=Number(wR)))throw Error("Environmental error: no available transport.")}pc.prototype.g=function(t,e){return new Jt(t,e)};function Jt(t,e){_t.call(this),this.g=new _v(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gi(this)}yt(Jt,_t);Jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;$t(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bv(t,null,t.Y),al(t)};Jt.prototype.close=function(){kf(this.g)};Jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Tf(t),t=n);e.j.push(new ZR(e.fb++,t)),e.H==3&&al(e)};Jt.prototype.N=function(){this.g.h=null,delete this.j,kf(this.g),delete this.g,Jt.$.N.call(this)};function Pv(t){Rf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}yt(Pv,Rf);function Sv(){Cf.call(this),this.status=1}yt(Sv,Cf);function gi(t){this.g=t}yt(gi,Cv);gi.prototype.Ba=function(){At(this.g,"a")};gi.prototype.Aa=function(t){At(this.g,new Pv(t))};gi.prototype.za=function(t){At(this.g,new Sv)};gi.prototype.ya=function(){At(this.g,"b")};function hC(){this.blockSize=-1}function gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}yt(gn,hC);gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Xl(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Xl(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Xl(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Xl(this,r),s=0;break}}this.h=s,this.i+=e};gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var fC={};function Lf(t){return-128<=t&&128>t?ER(t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function Sn(t){if(isNaN(t)||!isFinite(t))return Vs;if(0>t)return Et(Sn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gu;return new Me(e,0)}function Ov(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(Ov(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sn(Math.pow(e,8)),r=Vs,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Sn(Math.pow(e,i)),r=r.R(i).add(Sn(o))):(r=r.R(n),r=r.add(Sn(o)))}return r}var Gu=4294967296,Vs=Lf(0),zu=Lf(1),Zp=Lf(16777216);W=Me.prototype;W.ea=function(){if(rn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gu+r)*e,e*=Gu}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(qn(this))return"0";if(rn(this))return"-"+Et(this).toString(t);for(var e=Sn(Math.pow(t,6)),n=this,r="";;){var s=gc(n,e).g;n=mc(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,qn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function qn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function rn(t){return t.h==-1}W.X=function(t){return t=mc(this,t),rn(t)?-1:qn(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(zu)}W.abs=function(){return rn(this)?Et(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function mc(t,e){return t.add(Et(e))}W.R=function(t){if(qn(this)||qn(t))return Vs;if(rn(this))return rn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(rn(t))return Et(this.R(Et(t)));if(0>this.X(Zp)&&0>t.X(Zp))return Sn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,Ea(n,2*r+2*s),n[2*r+2*s+1]+=i*c,Ea(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ea(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ea(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function Ea(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Pi(t,e){this.g=t,this.h=e}function gc(t,e){if(qn(e))throw Error("division by zero");if(qn(t))return new Pi(Vs,Vs);if(rn(t))return e=gc(Et(t),e),new Pi(Et(e.g),Et(e.h));if(rn(e))return e=gc(t,Et(e)),new Pi(Et(e.g),e.h);if(30<t.g.length){if(rn(t)||rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zu,r=e;0>=r.X(t);)n=em(n),r=em(r);var s=bs(n,1),i=bs(r,1);for(r=bs(r,2),n=bs(n,2);!qn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=bs(r,1),n=bs(n,1)}return e=mc(t,s.R(e)),new Pi(s,e)}for(s=Vs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Sn(n),o=i.R(e);rn(o)||0<o.X(t);)n-=r,i=Sn(n),o=i.R(e);qn(i)&&(i=zu),s=s.add(i),t=mc(t,o)}return new Pi(s,t)}W.gb=function(t){return gc(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function em(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function bs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Me(s,t.h)}pc.prototype.createWebChannel=pc.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;el.NO_ERROR=0;el.TIMEOUT=8;el.HTTP_ERROR=6;Gy.COMPLETE="complete";zy.EventType=Ho;Ho.OPEN="a";Ho.CLOSE="b";Ho.ERROR="c";Ho.MESSAGE="d";_t.prototype.listen=_t.prototype.O;Ze.prototype.listenOnce=Ze.prototype.P;Ze.prototype.getLastError=Ze.prototype.Sa;Ze.prototype.getLastErrorCode=Ze.prototype.Ia;Ze.prototype.getStatus=Ze.prototype.da;Ze.prototype.getResponseJson=Ze.prototype.Wa;Ze.prototype.getResponseText=Ze.prototype.ja;Ze.prototype.send=Ze.prototype.ha;Ze.prototype.setWithCredentials=Ze.prototype.Oa;gn.prototype.digest=gn.prototype.l;gn.prototype.reset=gn.prototype.reset;gn.prototype.update=gn.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=Sn;Me.fromString=Ov;var dC=function(){return new pc},pC=function(){return Zc()},Jl=el,mC=Gy,gC=_s,tm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_C=Qo,Ta=zy,yC=Ze,vC=gn,Us=Me;const nm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _i="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new uf("@firebase/firestore");function Si(){return us.logLevel}function X(t,...e){if(us.logLevel<=we.DEBUG){const n=e.map(Mf);us.debug(`Firestore (${_i}): ${t}`,...n)}}function Xn(t,...e){if(us.logLevel<=we.ERROR){const n=e.map(Mf);us.error(`Firestore (${_i}): ${t}`,...n)}}function Gs(t,...e){if(us.logLevel<=we.WARN){const n=e.map(Mf);us.warn(`Firestore (${_i}): ${t}`,...n)}}function Mf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${_i}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function Ke(t,e){t||ue()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class TC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IC{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new kv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Ot(e)}}class wC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new bC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=CC(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ct(0,0))}static max(){return new pe(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends vo{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends vo{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new G(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(He.fromString(e))}static fromName(e){return new re(He.fromString(e).popFirst(5))}static empty(){return new re(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new He(e.slice()))}}function SC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Or(s,re.empty(),e)}function OC(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(pe.min(),re.empty(),-1)}static max(){return new Or(pe.max(),re.empty(),-1)}}function kC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==NC)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Xo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}xf._e=-1;function cl(t){return t==null}function _c(t){return t===0&&1/t==-1/0}function LC(t){return typeof t=="number"&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ia(this.root,e,this.comparator,!0)}}class Ia{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sm(this.data.getIterator())}getIteratorFrom(e){return new sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class sm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new bt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lv("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=MC.exec(t);if(Ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vf(t){const e=t.mapValue.fields.__previous_value__;return Ff(e)?Vf(e):e}function Eo(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class To{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new To("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ff(t)?4:FC(t)?9007199254740991:10:ue()}function Fn(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eo(t).isEqual(Eo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=kr(s.timestampValue),a=kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return hs(s.bytesValue).isEqual(hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?_c(o)===_c(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(rm(o)!==rm(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Fn(o[c],a[c])))return!1;return!0}(t,e);default:return ue()}}function Io(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),c=st(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return im(t.timestampValue,e.timestampValue);case 4:return im(Eo(t),Eo(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=hs(i),c=hs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Oe(a[l],c[l]);if(u!==0)return u}return Oe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(st(i.latitude),st(o.latitude));return a!==0?a:Oe(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Ys(a[l],c[l]);if(u)return u}return Oe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===wa.mapValue&&o===wa.mapValue)return 0;if(i===wa.mapValue)return 1;if(o===wa.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Oe(c[h],u[h]);if(f!==0)return f;const m=Ys(a[c[h]],l[u[h]]);if(m!==0)return m}return Oe(c.length,u.length)}(t.mapValue,e.mapValue);default:throw ue()}}function im(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=kr(t),r=kr(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function Xs(t){return Yu(t)}function Yu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Yu(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Yu(n.fields[o])}`;return s+"}"}(t.mapValue):ue()}function om(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xu(t){return!!t&&"integerValue"in t}function Uf(t){return!!t&&"arrayValue"in t}function am(t){return!!t&&"nullValue"in t}function cm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Va(t){return!!t&&"mapValue"in t}function Gi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Va(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gi(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Gi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Va(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Va(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ht(Gi(this.value))}}function Mv(t){const e=[];return ys(t.fields,(n,r)=>{const s=new It([n]);if(Va(r)){const i=Mv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,pe.min(),pe.min(),pe.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new kt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new kt(e,2,n,pe.min(),pe.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,pe.min(),pe.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.position=e,this.inclusive=n}}function lm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function um(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n="asc"){this.field=e,this.dir=n}}function VC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class it extends xv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $C(e,n,r):n==="array-contains"?new qC(e,r):n==="in"?new HC(e,r):n==="not-in"?new WC(e,r):n==="array-contains-any"?new KC(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BC(e,r):new jC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends xv{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new _n(e,n)}matches(e){return Fv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Fv(t){return t.op==="and"}function Vv(t){return UC(t)&&Fv(t)}function UC(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function Ju(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(Vv(t))return t.filters.map(e=>Ju(e)).join(",");{const e=t.filters.map(n=>Ju(n)).join(",");return`${t.op}(${e})`}}function Uv(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&Fn(r.value,s.value)}(t,e):t instanceof _n?function(r,s){return s instanceof _n&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Uv(o,s.filters[a]),!0):!1}(t,e):void ue()}function $v(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map($v).join(" ,")+"}"}(t):"Filter"}class $C extends it{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class BC extends it{constructor(e,n){super(e,"in",n),this.keys=Bv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jC extends it{constructor(e,n){super(e,"not-in",n),this.keys=Bv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class qC extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uf(n)&&Io(n.arrayValue,this.value)}}class HC extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Io(this.value.arrayValue,n)}}class WC extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Io(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Io(this.value.arrayValue,n)}}class KC extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Io(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function hm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new QC(t,e,n,r,s,i,o)}function $f(t){const e=_e(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ju(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ce=n}return e.ce}function Bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Uv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!um(t.startAt,e.startAt)&&um(t.endAt,e.endAt)}function Zu(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function GC(t,e,n,r,s,i,o,a){return new yi(t,e,n,r,s,i,o,a)}function jf(t){return new yi(t)}function fm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jv(t){return t.collectionGroup!==null}function zi(t){const e=_e(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(It.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new wo(i,r))}),n.has(It.keyField().canonicalString())||e.le.push(new wo(It.keyField(),r))}return e.le}function kn(t){const e=_e(t);return e.he||(e.he=zC(e,zi(t))),e.he}function zC(t,e){if(t.limitType==="F")return hm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wo(s.field,i)});const n=t.endAt?new yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yc(t.startAt.position,t.startAt.inclusive):null;return hm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eh(t,e){const n=t.filters.concat([e]);return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function th(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ll(t,e){return Bf(kn(t),kn(e))&&t.limitType===e.limitType}function qv(t){return`${$f(kn(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$v(s)).join(", ")}]`),cl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xs(s)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function ul(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of zi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=lm(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,zi(r),s)||r.endAt&&!function(o,a,c){const l=lm(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,zi(r),s))}(t,e)}function YC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hv(t){return(e,n)=>{let r=!1;for(const s of zi(t)){const i=XC(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function XC(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Ys(c,l):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Ye(re.comparator);function Jn(){return JC}const Wv=new Ye(re.comparator);function Vi(...t){let e=Wv;for(const n of t)e=e.insert(n.key,n);return e}function Kv(t){let e=Wv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ns(){return Yi()}function Qv(){return Yi()}function Yi(){return new vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZC=new Ye(re.comparator),eP=new bt(re.comparator);function Ie(...t){let e=eP;for(const n of t)e=e.add(n);return e}const tP=new bt(Oe);function nP(){return tP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function zv(t){return{integerValue:""+t}}function rP(t,e){return LC(e)?zv(e):Gv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this._=void 0}}function sP(t,e,n){return t instanceof vc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ff(i)&&(i=Vf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ao?Xv(t,e):t instanceof bo?Jv(t,e):function(s,i){const o=Yv(s,i),a=dm(o)+dm(s.Ie);return Xu(o)&&Xu(s.Ie)?zv(a):Gv(s.serializer,a)}(t,e)}function iP(t,e,n){return t instanceof Ao?Xv(t,e):t instanceof bo?Jv(t,e):n}function Yv(t,e){return t instanceof Ec?function(r){return Xu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vc extends hl{}class Ao extends hl{constructor(e){super(),this.elements=e}}function Xv(t,e){const n=Zv(e);for(const r of t.elements)n.some(s=>Fn(s,r))||n.push(r);return{arrayValue:{values:n}}}class bo extends hl{constructor(e){super(),this.elements=e}}function Jv(t,e){let n=Zv(e);for(const r of t.elements)n=n.filter(s=>!Fn(s,r));return{arrayValue:{values:n}}}class Ec extends hl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function dm(t){return st(t.integerValue||t.doubleValue)}function Zv(t){return Uf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oP(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ao&&s instanceof Ao||r instanceof bo&&s instanceof bo?zs(r.elements,s.elements,Fn):r instanceof Ec&&s instanceof Ec?Fn(r.Ie,s.Ie):r instanceof vc&&s instanceof vc}(t.transform,e.transform)}class aP{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ua(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fl{}function eE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qf(t.key,hn.none()):new Jo(t.key,t.data,hn.none());{const n=t.data,r=Ht.empty();let s=new bt(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new xr(t.key,r,new Xt(s.toArray()),hn.none())}}function cP(t,e,n){t instanceof Jo?function(s,i,o){const a=s.value.clone(),c=mm(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(s,i,o){if(!Ua(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=mm(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(tE(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xi(t,e,n,r){return t instanceof Jo?function(i,o,a,c){if(!Ua(i.precondition,o))return a;const l=i.value.clone(),u=gm(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof xr?function(i,o,a,c){if(!Ua(i.precondition,o))return a;const l=gm(i.fieldTransforms,c,o),u=o.data;return u.setAll(tE(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Ua(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lP(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Yv(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function pm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zs(r,s,(i,o)=>oP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jo extends fl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xr extends fl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mm(t,e,n){const r=new Map;Ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,iP(o,a,n[s]))}return r}function gm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,sP(i,o,e))}return r}class qf extends fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uP extends fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&cP(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qv();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=eE(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>pm(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>pm(n,r))}}class Hf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length);let s=function(){return ZC}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Hf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ae;function pP(t){switch(t){default:return ue();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function nE(t){if(t===void 0)return Xn("GRPC error has no .code"),M.UNKNOWN;switch(t){case rt.OK:return M.OK;case rt.CANCELLED:return M.CANCELLED;case rt.UNKNOWN:return M.UNKNOWN;case rt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case rt.INTERNAL:return M.INTERNAL;case rt.UNAVAILABLE:return M.UNAVAILABLE;case rt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case rt.NOT_FOUND:return M.NOT_FOUND;case rt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case rt.ABORTED:return M.ABORTED;case rt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case rt.DATA_LOSS:return M.DATA_LOSS;default:return ue()}}(Ae=rt||(rt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Us([4294967295,4294967295],0);function _m(t){const e=mP().encode(t),n=new vC;return n.update(e),new Uint8Array(n.digest())}function ym(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Us([n,r],0),new Us([s,i],0)]}class Wf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ui(`Invalid padding: ${n}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Us.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Us.fromNumber(r)));return s.compare(gP)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=_m(e),[r,s]=ym(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Wf(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=_m(e),[r,s]=ym(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ui extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dl(pe.min(),s,new Ye(Oe),Jn(),Ie())}}class Zo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zo(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class rE{constructor(e,n){this.targetId=e,this.fe=n}}class sE{constructor(e,n,r=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class vm{constructor(){this.ge=0,this.pe=Tm(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue()}}),new Zo(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Tm()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class _P{constructor(e){this.Le=e,this.ke=new Map,this.qe=Jn(),this.Qe=Em(),this.Ke=new Ye(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Zu(i))if(r===0){const o=new re(i.path);this.We(n,o,kt.newNoDocument(o,pe.min()))}else Ke(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=hs(r).toUint8Array()}catch(c){if(c instanceof Lv)return Gs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Wf(o,s,i)}catch(c){return Gs(c instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Zu(a.target)){const c=new re(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,kt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Ie();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new dl(e,n,this.Ke,this.qe,r);return this.qe=Jn(),this.Qe=Em(),this.Ke=new Ye(Oe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new vm,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new bt(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new vm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Em(){return new Ye(re.comparator)}function Tm(){return new Ye(re.comparator)}const yP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EP=(()=>({and:"AND",or:"OR"}))();class TP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nh(t,e){return t.useProto3Json||cl(e)?e:{value:e}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IP(t,e){return Tc(t,e.toTimestamp())}function Nn(t){return Ke(!!t),pe.fromTimestamp(function(n){const r=kr(n);return new ct(r.seconds,r.nanos)}(t))}function Kf(t,e){return function(r){return new He(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function oE(t){const e=He.fromString(t);return Ke(uE(e)),e}function rh(t,e){return Kf(t.databaseId,e.path)}function Zl(t,e){const n=oE(e);if(n.get(1)!==t.databaseId.projectId)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(aE(n))}function sh(t,e){return Kf(t.databaseId,e)}function wP(t){const e=oE(t);return e.length===4?He.emptyPath():aE(e)}function ih(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aE(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Im(t,e,n){return{name:rh(t,e),fields:n.value.mapValue.fields}}function AP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Ke(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(Ke(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?M.UNKNOWN:nE(l.code);return new G(u,l.message||"")}(o);n=new sE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zl(t,r.document.name),i=Nn(r.document.updateTime),o=r.document.createTime?Nn(r.document.createTime):pe.min(),a=new Ht({mapValue:{fields:r.document.fields}}),c=kt.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new $a(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zl(t,r.document),i=r.readTime?Nn(r.readTime):pe.min(),o=kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $a([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zl(t,r.document),i=r.removedTargetIds||[];n=new $a([],i,s,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new dP(s,i),a=r.targetId;n=new rE(a,o)}}return n}function bP(t,e){let n;if(e instanceof Jo)n={update:Im(t,e.key,e.value)};else if(e instanceof qf)n={delete:rh(t,e.key)};else if(e instanceof xr)n={update:Im(t,e.key,e.data),updateMask:LP(e.fieldMask)};else{if(!(e instanceof uP))return ue();n={verify:rh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof vc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ao)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ec)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:IP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue()}(t,e.precondition)),n}function RP(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Nn(s.updateTime):Nn(i);return o.isEqual(pe.min())&&(o=Nn(i)),new aP(o,s.transformResults||[])}(n,e))):[]}function CP(t,e){return{documents:[sh(t,e.path)]}}function PP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=sh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return lE(_n.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:Cs(h.field),direction:kP(h.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=nh(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function SP(t){let e=wP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=cE(h);return f instanceof _n&&Vv(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new wo(Ps(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,cl(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new yc(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,m=h.values||[];return new yc(m,f)}(n.endAt)),GC(e,s,o,i,a,"F",c,l)}function OP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ps(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ps(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return it.create(Ps(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(r=>cE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function kP(t){return yP[t]}function NP(t){return vP[t]}function DP(t){return EP[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return It.fromServerFormat(t.fieldPath)}function lE(t){return t instanceof it?function(n){if(n.op==="=="){if(cm(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(am(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cm(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(am(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:NP(n.op),value:n.value}}}(t):t instanceof _n?function(n){const r=n.getFilters().map(s=>lE(s));return r.length===1?r[0]:{compositeFilter:{op:DP(n.op),filters:r}}}(t):ue()}function LP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.ut=e}}function xP(t){const e=SP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.on=new VP}addToCollectionParentIndex(e,n){return this.on.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Or.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class VP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Js(0)}static Nn(){return new Js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.changes=new vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xi(r.mutation,s,Xt.empty(),ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=ns();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Vi();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Jn();const o=Yi(),a=function(){return Yi()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof xr)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Xi(u.mutation,l,u.mutation.getFieldMask(),ct.now())):o.set(l.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new $P(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yi();let s=new Ye((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Xt.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||Ie()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=Qv();u.forEach(f=>{if(!i.has(f)){const m=eE(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(ns());let a=-1,c=i;return o.next(l=>F.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?F.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,Ie())).next(u=>({batchId:a,changes:Kv(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=Vi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Vi();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,c=>{const l=function(h,f){return new yi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,kt.newInvalidDocument(u)))});let a=Vi();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&Xi(u.mutation,l,Xt.empty(),ct.now()),ul(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return F.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Nn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:xP(s.bundledQuery),readTime:Nn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.overlays=new Ye(re.comparator),this.lr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=ns(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=ns(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=ns(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return F.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fP(n,r));let i=this.lr.get(n);i===void 0&&(i=Ie(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.hr=new bt(ft.Pr),this.Ir=new bt(ft.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ft(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new re(new He([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new re(new He([])),r=new ft(n,e),s=new ft(n,e+1);let i=Ie();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return re.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bt(ft.Pr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hP(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Oe);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),F.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new ft(new re(i),0);let a=new bt(Oe);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.gr)),!0)},o),F.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return F.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ft(n,0),s=this.yr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.Cr=e,this.docs=function(){return new Ye(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():kt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jn();const o=n.path,a=new re(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||kC(OC(u),r)<=0||(s.has(u.key)||ul(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue()}vr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KP(this)}getSize(e){return F.resolve(this.size)}}class KP extends UP{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.persistence=e,this.Fr=new vi(n=>$f(n),Bf),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Qf,this.targetCount=0,this.Nr=Js.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),F.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.kn(n),F.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n){this.Br={},this.overlays={},this.Lr=new xf(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new QP(this),this.indexManager=new FP,this.remoteDocumentCache=function(s){return new WP(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new MP(n),this.Kr=new jP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new HP(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new zP(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return F.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class zP extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Gr=new Qf,this.zr=null}static jr(e){return new Gf(e)}get Hr(){if(this.zr)return this.zr;throw ue()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Hr,r=>{const s=re.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return F.or([()=>F.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YP;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Si()<=we.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),F.resolve()):(Si()<=we.DEBUG&&X("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Si()<=we.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):F.resolve())}zi(e,n){if(fm(n))return F.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=th(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,th(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,s){return fm(n)||s.isEqual(pe.min())?F.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?F.resolve(null):(Si()<=we.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rs(n)),this.Xi(e,o,n,SC(s,-1)).next(a=>a))})}Yi(e,n){let r=new bt(Hv(e));return n.forEach((s,i)=>{ul(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Si()<=we.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Or.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ye(Oe),this.ns=new vi(i=>$f(i),Bf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BP(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function ZP(t,e,n,r){return new JP(t,e,n,r)}async function hE(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Ie();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function eS(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,f=h.keys();let m=F.resolve();return f.forEach(v=>{m=m.next(()=>u.getEntry(c,v)).next(E=>{const w=l.docVersions.get(v);Ke(w!==null),E.version.compareTo(w)<0&&(h.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ie();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fE(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function tS(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(xt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(E,w,g){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,u)&&a.push(n.qr.updateTargetData(i,m))});let c=Jn(),l=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(nS(i,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(pe.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.ts=s,i))}function nS(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:s}})}function rS(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sS(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function oh(t,e,n){const r=_e(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xo(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function wm(t,e,n){const r=_e(t);let s=pe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=_e(c),f=h.ns.get(u);return f!==void 0?F.resolve(h.ts.get(f)):h.qr.getTargetData(l,u)}(r,o,kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ie())).next(a=>(iS(r,YC(e),a),{documents:a,ls:i})))}function iS(t,e,n){let r=t.rs.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class Am{constructor(){this.activeTargetIds=nP()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oS{constructor(){this.eo=new Am,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Am,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa=null;function eu(){return Aa===null?Aa=function(){return 268435456+Math.round(2147483648*Math.random())}():Aa++,"0x"+Aa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class uS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=eu(),c=this.So(n,r);X("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,i,o),this.Do(n,c,l,s).then(u=>(X("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Gs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=cS[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=eu();return new Promise((o,a)=>{const c=new yC;c.setWithCredentials(!0),c.listenOnce(mC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jl.NO_ERROR:const u=c.getResponseJson();X(Pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Jl.TIMEOUT:X(Pt,`RPC '${e}' ${i} timed out`),a(new G(M.DEADLINE_EXCEEDED,"Request time out"));break;case Jl.HTTP_ERROR:const h=c.getStatus();if(X(Pt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(g)>=0?g:M.UNKNOWN}(m.status);a(new G(v,m.message))}else a(new G(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(M.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{X(Pt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);X(Pt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}vo(e,n,r){const s=eu(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dC(),a=pC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new _C({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");X(Pt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,m=!1;const v=new lS({co:w=>{m?X(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(X(Pt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),X(Pt,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},lo:()=>h.close()}),E=(w,g,I)=>{w.listen(g,b=>{try{I(b)}catch(T){setTimeout(()=>{throw T},0)}})};return E(h,Ta.EventType.OPEN,()=>{m||X(Pt,`RPC '${e}' stream ${s} transport opened.`)}),E(h,Ta.EventType.CLOSE,()=>{m||(m=!0,X(Pt,`RPC '${e}' stream ${s} transport closed`),v.Ro())}),E(h,Ta.EventType.ERROR,w=>{m||(m=!0,Gs(Pt,`RPC '${e}' stream ${s} transport errored:`,w),v.Ro(new G(M.UNAVAILABLE,"The operation could not be completed")))}),E(h,Ta.EventType.MESSAGE,w=>{var g;if(!m){const I=w.data[0];Ke(!!I);const b=I,T=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(T){X(Pt,`RPC '${e}' stream ${s} received error:`,T);const P=T.status;let O=function(N){const V=rt[N];if(V!==void 0)return nE(V)}(P),S=T.message;O===void 0&&(O=M.INTERNAL,S="Unknown error status: "+P+" with message "+T.message),m=!0,v.Ro(new G(O,S)),h.close()}else X(Pt,`RPC '${e}' stream ${s} received:`,I),v.Vo(I)}}),E(a,gC.STAT_EVENT,w=>{w.stat===tm.PROXY?X(Pt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===tm.NOPROXY&&X(Pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function tu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){return new TP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,s,i,o,a,c){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new dE(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new G(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hS extends pE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=AP(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Nn(o.readTime):pe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=ih(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Zu(c)?{documents:CP(i,c)}:{query:PP(i,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iE(i,o.resumeToken);const l=nh(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=Tc(i,o.snapshotVersion.toTimestamp());const l=nh(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=OP(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=ih(this.serializer),n.removeTarget=e,this.e_(n)}}class fS extends pE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=RP(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.I_(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ih(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bP(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(M.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(M.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class pS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xn(n),this.f_=!1):X("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{vs(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=_e(c);l.C_.add(4),await ea(l),l.M_.set("Unknown"),l.C_.delete(4),await ml(l)}(this))})}),this.M_=new pS(r,s)}}async function ml(t){if(vs(t))for(const e of t.v_)await e(!0)}async function ea(t){for(const e of t.v_)await e(!1)}function mE(t,e){const n=_e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Jf(n)?Xf(n):Ei(n).Ho()&&Yf(n,e))}function gE(t,e){const n=_e(t),r=Ei(n);n.D_.delete(e),r.Ho()&&_E(n,e),n.D_.size===0&&(r.Ho()?r.Zo():vs(n)&&n.M_.set("Unknown"))}function Yf(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ei(t).u_(e)}function _E(t,e){t.x_.Oe(e),Ei(t).c_(e)}function Xf(t){t.x_=new _P({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ei(t).start(),t.M_.g_()}function Jf(t){return vs(t)&&!Ei(t).jo()&&t.D_.size>0}function vs(t){return _e(t).C_.size===0}function yE(t){t.x_=void 0}async function gS(t){t.D_.forEach((e,n)=>{Yf(t,e)})}async function _S(t,e){yE(t),Jf(t)?(t.M_.w_(e),Xf(t)):t.M_.set("Unknown")}async function yS(t,e,n){if(t.M_.set("Online"),e instanceof sE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ic(t,r)}else if(e instanceof $a?t.x_.$e(e):e instanceof rE?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(pe.min()))try{const r=await fE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.D_.get(l);u&&i.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.D_.get(c);if(!u)return;i.D_.set(c,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),_E(i,c);const h=new vr(u.target,c,l,u.sequenceNumber);Yf(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Ic(t,r)}}async function Ic(t,e,n){if(!Xo(e))throw e;t.C_.add(1),await ea(t),t.M_.set("Offline"),n||(n=()=>fE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await ml(t)})}function vE(t,e){return e().catch(n=>Ic(t,n,e))}async function gl(t){const e=_e(t),n=Nr(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;vS(e);)try{const s=await rS(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,ES(e,s)}catch(s){await Ic(e,s)}EE(e)&&TE(e)}function vS(t){return vs(t)&&t.b_.length<10}function ES(t,e){t.b_.push(e);const n=Nr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function EE(t){return vs(t)&&!Nr(t).jo()&&t.b_.length>0}function TE(t){Nr(t).start()}async function TS(t){Nr(t).E_()}async function IS(t){const e=Nr(t);for(const n of t.b_)e.P_(n.mutations)}async function wS(t,e,n){const r=t.b_.shift(),s=Hf.from(r,e,n);await vE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gl(t)}async function AS(t,e){e&&Nr(t).h_&&await async function(r,s){if(function(o){return pP(o)&&o!==M.ABORTED}(s.code)){const i=r.b_.shift();Nr(r).Yo(),await vE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await gl(r)}}(t,e),EE(t)&&TE(t)}async function Rm(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=vs(n);n.C_.add(3),await ea(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await ml(n)}async function bS(t,e){const n=_e(t);e?(n.C_.delete(2),await ml(n)):e||(n.C_.add(2),await ea(n),n.M_.set("Unknown"))}function Ei(t){return t.O_||(t.O_=function(n,r,s){const i=_e(n);return i.A_(),new hS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:gS.bind(null,t),Io:_S.bind(null,t),a_:yS.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Jf(t)?Xf(t):t.M_.set("Unknown")):(await t.O_.stop(),yE(t))})),t.O_}function Nr(t){return t.N_||(t.N_=function(n,r,s){const i=_e(n);return i.A_(),new fS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:TS.bind(null,t),Io:AS.bind(null,t),T_:IS.bind(null,t),I_:wS.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await gl(t)):(await t.N_.stop(),t.b_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zf(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ed(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),Xo(t))return new G(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Vi(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new $s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $s)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.B_=new Ye(re.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ue():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zs{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zs(e,n,$s.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.k_=void 0,this.listeners=[]}}class CS{constructor(){this.queries=new vi(e=>qv(e),ll),this.onlineState="Unknown",this.q_=new Set}}async function IE(t,e){const n=_e(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new RS),s)try{i.k_=await n.onListen(r)}catch(o){const a=ed(o,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&td(n)}async function wE(t,e){const n=_e(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function PS(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&td(n)}function SS(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function td(t){t.q_.forEach(e=>{e.next()})}class AE{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class OS{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ie(),this.mutatedKeys=Ie(),this._a=Hv(e),this.aa=new $s(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Cm,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),m=ul(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;f&&m?f.data.isEqual(m.data)?v!==E&&(r.track({type:3,doc:m}),w=!0):this.ha(f,m)||(r.track({type:2,doc:m}),w=!0,(c&&this._a(m,c)>0||l&&this._a(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),w=!0):f&&!m&&(r.track({type:1,doc:f}),w=!0,(c||l)&&(a=!0)),w&&(m?(o=o.add(m),i=E?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort((l,u)=>function(f,m){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return v(f)-v(m)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,c=a!==this.sa;return this.sa=a,i.length!==0||c?{snapshot:new Zs(this.query,e.aa,s,i,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Cm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ie(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new RE(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new bE(r))}),n}da(e){this.ia=e.ls,this.oa=Ie();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Zs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class kS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NS{constructor(e){this.key=e,this.Ra=!1}}class DS{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vi(a=>qv(a),ll),this.fa=new Map,this.ga=new Set,this.pa=new Ye(re.comparator),this.ya=new Map,this.wa=new Qf,this.Sa={},this.ba=new Map,this.Da=Js.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function LS(t,e){const n=HS(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await sS(n.localStore,kn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await MS(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&mE(n.remoteStore,o)}return s}async function MS(t,e,n,r,s){t.va=(h,f,m)=>async function(E,w,g,I){let b=w.view.ca(g);b.Zi&&(b=await wm(E.localStore,w.query,!1).then(({documents:O})=>w.view.ca(O,b)));const T=I&&I.targetChanges.get(w.targetId),P=w.view.applyChanges(b,E.isPrimaryClient,T);return Sm(E,w.targetId,P.Ta),P.snapshot}(t,h,f,m);const i=await wm(t.localStore,e,!0),o=new OS(e,i.ls),a=o.ca(i.documents),c=Zo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);Sm(t,n,l.Ta);const u=new kS(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}async function xS(t,e){const n=_e(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!ll(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await oh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gE(n.remoteStore,r.targetId),ah(n,r.targetId)}).catch(Yo)):(ah(n,r.targetId),await oh(n.localStore,r.targetId,!0))}async function FS(t,e,n){const r=WS(t);try{const s=await function(o,a){const c=_e(o),l=ct.now(),u=a.reduce((m,v)=>m.add(v.key),Ie());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Jn(),E=Ie();return c.ss.getEntries(m,u).next(w=>{v=w,v.forEach((g,I)=>{I.isValidDocument()||(E=E.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(w=>{h=w;const g=[];for(const I of a){const b=lP(I,h.get(I.key).overlayedDocument);b!=null&&g.push(new xr(I.key,b,Mv(b.value.mapValue),hn.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,E);return c.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:Kv(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Ye(Oe)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,s.batchId,n),await ta(r,s.changes),await gl(r.remoteStore)}catch(s){const i=ed(s,"Failed to persist write");n.reject(i)}}async function CE(t,e){const n=_e(t);try{const r=await tS(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Ke(o.Ra):s.removedDocuments.size>0&&(Ke(o.Ra),o.Ra=!1))}),await ta(n,r,e)}catch(r){await Yo(r)}}function Pm(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=_e(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(l=!0)}),l&&td(c)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VS(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new Ye(re.comparator);o=o.insert(i,kt.newNoDocument(i,pe.min()));const a=Ie().add(i),c=new dl(pe.min(),new Map,new Ye(Oe),o,a);await CE(r,c),r.pa=r.pa.remove(i),r.ya.delete(e),nd(r)}else await oh(r.localStore,e,!1).then(()=>ah(r,e,n)).catch(Yo)}async function US(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await eS(n.localStore,e);SE(n,r,null),PE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ta(n,s)}catch(s){await Yo(s)}}async function $S(t,e,n){const r=_e(t);try{const s=await function(o,a){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ke(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);SE(r,e,n),PE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ta(r,s)}catch(s){await Yo(s)}}function PE(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function SE(t,e,n){const r=_e(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function ah(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||OE(t,r)})}function OE(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(gE(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),nd(t))}function Sm(t,e,n){for(const r of n)r instanceof bE?(t.wa.addReference(r.key,e),BS(t,r)):r instanceof RE?(X("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||OE(t,r.key)):ue()}function BS(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(X("SyncEngine","New document in limbo: "+n),t.ga.add(r),nd(t))}function nd(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new re(He.fromString(e)),r=t.Da.next();t.ya.set(r,new NS(n)),t.pa=t.pa.insert(n,r),mE(t.remoteStore,new vr(kn(jf(n.path)),r,"TargetPurposeLimboResolution",xf._e))}}async function ta(t,e,n){const r=_e(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=zf.Qi(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(c,l){const u=_e(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(l,f=>F.forEach(f.ki,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>F.forEach(f.qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Xo(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=u.ts.get(f),v=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(v);u.ts=u.ts.insert(f,E)}}}(r.localStore,i))}async function jS(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await hE(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(c=>{c.reject(new G(M.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ta(n,r._s)}}function qS(t,e){const n=_e(t),r=n.ya.get(e);if(r&&r.Ra)return Ie().add(r.key);{let s=Ie();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function HS(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VS.bind(null,e),e.Va.a_=PS.bind(null,e.eventManager),e.Va.Fa=SS.bind(null,e.eventManager),e}function WS(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=US.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$S.bind(null,e),e}class Om{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZP(this.persistence,new XP,e.initialUser,this.serializer)}createPersistence(e){return new GP(Gf.jr,this.serializer)}createSharedClientState(e){return new oS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jS.bind(null,this.syncEngine),await bS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CS}()}createDatastore(e){const n=pl(e.databaseInfo.databaseId),r=function(i){return new uS(i)}(e.databaseInfo);return function(i,o,a,c){return new dS(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mS(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Pm(this.syncEngine,n,0),function(){return bm.D()?new bm:new aS}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const h=new DS(s,i,o,a,c,l);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=_e(n);X("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await ea(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ot.UNAUTHENTICATED,this.clientId=Nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{X("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(X("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ed(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nu(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function km(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zS(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Rm(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Rm(e.remoteStore,i)),t._onlineComponents=e}function GS(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await nu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GS(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await nu(t,new Om)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await nu(t,new Om);return t._offlineComponents}async function NE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await km(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await km(t,new KS))),t._onlineComponents}function YS(t){return NE(t).then(e=>e.syncEngine)}async function DE(t){const e=await NE(t),n=e.eventManager;return n.onListen=LS.bind(null,e.syncEngine),n.onUnlisten=xS.bind(null,e.syncEngine),n}function XS(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new kE({next:f=>{o.enqueueAndForget(()=>wE(i,h));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new G(M.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?l.reject(new G(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new AE(jf(a.path),u,{includeMetadataChanges:!0,J_:!0});return IE(i,h)}(await DE(t),t.asyncQueue,e,n,r)),r.promise}function JS(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new kE({next:f=>{o.enqueueAndForget(()=>wE(i,h)),f.fromCache&&c.source==="server"?l.reject(new G(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new AE(a,u,{includeMetadataChanges:!0,J_:!0});return IE(i,h)}(await DE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e,n){if(!n)throw new G(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZS(t,e,n,r){if(e===!0&&r===!0)throw new G(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dm(t){if(!re.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lm(t){if(re.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _l(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_l(t);throw new G(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EC;switch(r.type){case"firstParty":return new AC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nm.get(n);r&&(X("ComponentProvider","Removing Datastore"),Nm.delete(n),r.terminate())}(this),Promise.resolve()}}function eO(t,e,n,r={}){var s;const i=(t=yn(t,yl))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ot.MOCK_USER;else{a=Gb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ot(l)}t._authCredentials=new TC(new kv(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Cr extends Es{constructor(e,n,r){super(e,n,jf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new re(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=Ct(t),ME("collection","path",e),t instanceof yl){const r=He.fromString(e,...n);return Lm(r),new Cr(t,null,r)}{if(!(t instanceof Bt||t instanceof Cr))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Lm(r),new Cr(t.firestore,null,r)}}function mt(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Nv.newId()),ME("doc","path",e),t instanceof yl){const r=He.fromString(e,...n);return Dm(r),new Bt(t,null,new re(r))}{if(!(t instanceof Bt||t instanceof Cr))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return Dm(r),new Bt(t.firestore,t instanceof Cr?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new dE(this,"async_queue_retry"),this.iu=()=>{const n=tu();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=tu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=tu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Gn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Xo(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=Zf.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&ue()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Ts extends yl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new tO}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xE(this),this._firestoreClient.terminate()}}function nO(t,e){const n=typeof t=="object"?t:Ry(),r=typeof t=="string"?t:e||"(default)",s=ff(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Kb("firestore");i&&eO(s,...i)}return s}function rd(t){return t._firestoreClient||xE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xE(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new xC(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new QS(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(xt.fromBase64String(e))}catch(n){throw new G(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=/^__.*__$/;class sO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jo(e,this.data,n,this.fieldTransforms)}}class FE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class od{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new od(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return wc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(VE(this.Iu)&&rO.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class iO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pl(e)}pu(e,n,r,s=!1){return new od({Iu:e,methodName:n,gu:r,path:It.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function El(t){const e=t._freezeSettings(),n=pl(t._databaseId);return new iO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function UE(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);ad("Data must be an object, but it was:",o,r);const a=$E(r,o);let c,l;if(i.merge)c=new Xt(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=ch(e,h,n);if(!o.contains(f))throw new G(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jE(u,f)||u.push(f)}c=new Xt(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new sO(new Ht(a),c,l)}class Tl extends sd{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tl}}function oO(t,e,n,r){const s=t.pu(1,e,n);ad("Data must be an object, but it was:",s,r);const i=[],o=Ht.empty();ys(r,(c,l)=>{const u=cd(e,c,n);l=Ct(l);const h=s.Ru(u);if(l instanceof Tl)i.push(u);else{const f=na(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Xt(i);return new FE(o,a,s.fieldTransforms)}function aO(t,e,n,r,s,i){const o=t.pu(1,e,n),a=[ch(e,r,n)],c=[s];if(i.length%2!=0)throw new G(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(ch(e,i[f])),c.push(i[f+1]);const l=[],u=Ht.empty();for(let f=a.length-1;f>=0;--f)if(!jE(l,a[f])){const m=a[f];let v=c[f];v=Ct(v);const E=o.Ru(m);if(v instanceof Tl)l.push(m);else{const w=na(v,E);w!=null&&(l.push(m),u.set(m,w))}}const h=new Xt(l);return new FE(u,h,o.fieldTransforms)}function cO(t,e,n,r=!1){return na(n,t.pu(r?4:3,e))}function na(t,e){if(BE(t=Ct(t)))return ad("Unsupported field value:",e,t),$E(t,e);if(t instanceof sd)return function(r,s){if(!VE(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=na(a,s.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ct.fromDate(r);return{timestampValue:Tc(s.serializer,i)}}if(r instanceof ct){const i=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(s.serializer,i)}}if(r instanceof id)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:iE(s.serializer,r._byteString)};if(r instanceof Bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kf(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${_l(r)}`)}(t,e)}function $E(t,e){const n={};return Dv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,s)=>{const i=na(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function BE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof id||t instanceof ei||t instanceof Bt||t instanceof sd)}function ad(t,e,n){if(!BE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=_l(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function ch(t,e,n){if((e=Ct(e))instanceof vl)return e._internalPath;if(typeof e=="string")return cd(t,e);throw wc("Field path arguments must be of type string or ",t,!1,void 0,n)}const lO=new RegExp("[~\\*/\\[\\]]");function cd(t,e,n){if(e.search(lO)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vl(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new G(M.INVALID_ARGUMENT,a+t+c)}function jE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ld("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uO extends qE{data(){return super.data()}}function ld(t,e){return typeof e=="string"?cd(t,e):e instanceof vl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ud{}class HE extends ud{}function fO(t,e,...n){let r=[];e instanceof ud&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof fd).length,a=i.filter(c=>c instanceof hd).length;if(o>1||o>0&&a>0)throw new G(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class hd extends HE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hd(e,n,r)}_apply(e){const n=this._parse(e);return WE(e._query,n),new Es(e.firestore,e.converter,eh(e._query,n))}_parse(e){const n=El(e.firestore);return function(i,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new G(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Fm(h,u);const m=[];for(const v of h)m.push(xm(c,i,v));f={arrayValue:{values:m}}}else f=xm(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Fm(h,u),f=cO(a,o,h,u==="in"||u==="not-in");return it.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fd extends ud{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)WE(o,c),o=eh(o,c)}(e._query,n),new Es(e.firestore,e.converter,eh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dd extends HE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dd(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new G(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wo(i,o)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new yi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function dO(t,e="asc"){const n=e,r=ld("orderBy",t);return dd._create(r,n)}function xm(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new G(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jv(e)&&n.indexOf("/")!==-1)throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!re.isDocumentKey(r))throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return om(t,new re(r))}if(n instanceof Bt)return om(t,n._key);throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_l(n)}.`)}function Fm(t,e){if(!Array.isArray(t)||t.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WE(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pO{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new id(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const n=kr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Ke(uE(r));const s=new To(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Xn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QE extends qE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ba(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ld("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ba extends QE{data(e={}){return super.data(e)}}class mO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $i(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ba(this._firestore,this._userDataWriter,r.key,r,new $i(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Ba(s._firestore,s._userDataWriter,a.doc.key,a.doc,new $i(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Ba(s._firestore,s._userDataWriter,a.doc.key,a.doc,new $i(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:gO(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){t=yn(t,Bt);const e=yn(t.firestore,Ts);return XS(rd(e),t._key).then(n=>yO(e,t,n))}class GE extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function zE(t){t=yn(t,Es);const e=yn(t.firestore,Ts),n=rd(e),r=new GE(e);return hO(t._query),JS(n,t._query).then(s=>new mO(e,r,t,s))}function YE(t,e,n){t=yn(t,Bt);const r=yn(t.firestore,Ts),s=KE(t.converter,e,n);return Il(r,[UE(El(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hn.none())])}function ds(t,e,n,...r){t=yn(t,Bt);const s=yn(t.firestore,Ts),i=El(s);let o;return o=typeof(e=Ct(e))=="string"||e instanceof vl?aO(i,"updateDoc",t._key,e,n,r):oO(i,"updateDoc",t._key,e),Il(s,[o.toMutation(t._key,hn.exists(!0))])}function Vm(t){return Il(yn(t.firestore,Ts),[new qf(t._key,hn.none())])}function _O(t,e){const n=yn(t.firestore,Ts),r=mt(t),s=KE(t.converter,e);return Il(n,[UE(El(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then(()=>r)}function Il(t,e){return function(r,s){const i=new Gn;return r.asyncQueue.enqueueAndForget(async()=>FS(await YS(r),s,i)),i.promise}(rd(t),e)}function yO(t,e,n){const r=n.docs.get(e._key),s=new GE(t);return new QE(t,s,e._key,r,new $i(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){_i=s})(pi),Ks(new cs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ts(new IC(r.getProvider("auth-internal")),new RC(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Rr(nm,"4.3.2",e),Rr(nm,"4.3.2","esm2017")})();var vO="firebase",EO="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(vO,EO,"app");function pd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TO=XE,JE=new Uo("auth","Firebase",XE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new uf("@firebase/auth");function IO(t,...e){Ac.logLevel<=we.WARN&&Ac.warn(`Auth (${pi}): ${t}`,...e)}function ja(t,...e){Ac.logLevel<=we.ERROR&&Ac.error(`Auth (${pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw md(t,...e)}function Dn(t,...e){return md(t,...e)}function wO(t,e,n){const r=Object.assign(Object.assign({},TO()),{[e]:n});return new Uo("auth","Firebase",r).create(e,{appName:t.name})}function md(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JE.create(t,...e)}function le(t,e,...n){if(!t)throw md(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ja(e),new Error(e)}function Zn(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AO(){return Um()==="http:"||Um()==="https:"}function Um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AO()||Yb()||"connection"in navigator)?navigator.onLine:!0}function RO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zn(n>e,"Short delay should be less than long delay!"),this.isMobile=zb()||Xb()}get(){return bO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t,e){Zn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new ra(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ur(t,e,n,r,s={}){return eT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$o(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),ZE.fetch()(tT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function eT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CO),e);try{const s=new OO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ba(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ba(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ba(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ba(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw wO(t,u,l);vn(t,u)}}catch(s){if(s instanceof tr)throw s;vn(t,"network-request-failed",{message:String(s)})}}async function sa(t,e,n,r,s={}){const i=await Ur(t,e,n,r,s);return"mfaPendingCredential"in i&&vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function tT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?gd(t.config,s):`${t.config.apiScheme}://${s}`}function SO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),PO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ba(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function $m(t){return t!==void 0&&t.enterprise!==void 0}class kO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function NO(t,e){return Ur(t,"GET","/v2/recaptchaConfig",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){return Ur(t,"POST","/v1/accounts:delete",e)}async function LO(t,e){return Ur(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MO(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=_d(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ji(ru(s.auth_time)),issuedAtTime:Ji(ru(s.iat)),expirationTime:Ji(ru(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ru(t){return Number(t)*1e3}function _d(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ja("JWT malformed, contained fewer than 3 sections"),null;try{const s=vy(n);return s?JSON.parse(s):(ja("Failed to decode base64 JWT payload"),null)}catch(s){return ja("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function xO(t){const e=_d(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&FO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ro(t,LO(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?BO(i.providerUserInfo):[],a=$O(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function UO(t){const e=Ct(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $O(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function BO(t){return t.map(e=>{var{providerId:n}=e,r=pd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){const n=await eT(t,{},async()=>{const r=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=tT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qO(t,e){return Ur(t,"POST","/v2/accounts:revokeToken",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await jO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Co;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MO(this,e)}reload(){return UO(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ro(this,DO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,I=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:T,isAnonymous:P,providerData:O,stsTokenManager:S}=n;le(b&&S,e,"internal-error");const D=Co.fromJSON(this.name,S);le(typeof b=="string",e,"internal-error"),or(h,e.name),or(f,e.name),le(typeof T=="boolean",e,"internal-error"),le(typeof P=="boolean",e,"internal-error"),or(m,e.name),or(v,e.name),or(E,e.name),or(w,e.name),or(g,e.name),or(I,e.name);const N=new os({uid:b,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:P,photoURL:v,phoneNumber:m,tenantId:E,stsTokenManager:D,createdAt:g,lastLoginAt:I});return O&&Array.isArray(O)&&(N.providerData=O.map(V=>Object.assign({},V))),w&&(N._redirectEventId=w),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new Co;s.updateFromServerResponse(n);const i=new os({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Map;function Wn(t){Zn(t instanceof Function,"Expected a class definition");let e=Bm.get(t);return e?(Zn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rT.type="NONE";const jm=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=qa(this.userKey,s.apiKey,i),this.fullPersistenceKey=qa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(Wn(jm),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Wn(jm);const o=qa(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=os._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Bs(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Bs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(lT(e))return"Webos";if(yd(e))return"Safari";if((e.includes("chrome/")||iT(e))&&!e.includes("edge/"))return"Chrome";if(aT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sT(t=Mt()){return/firefox\//i.test(t)}function yd(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iT(t=Mt()){return/crios\//i.test(t)}function oT(t=Mt()){return/iemobile/i.test(t)}function aT(t=Mt()){return/android/i.test(t)}function cT(t=Mt()){return/blackberry/i.test(t)}function lT(t=Mt()){return/webos/i.test(t)}function wl(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HO(t=Mt()){var e;return wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WO(){return Jb()&&document.documentMode===10}function uT(t=Mt()){return wl(t)||aT(t)||lT(t)||cT(t)||/windows phone/i.test(t)||oT(t)}function KO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e=[]){let n;switch(t){case"Browser":n=qm(Mt());break;case"Worker":n=`${qm(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e={}){return Ur(t,"GET","/v2/passwordPolicy",Vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=6;class YO{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hm(this),this.idTokenSubscription=new Hm(this),this.beforeStateQueue=new QO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GO(this),n=new YO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Is(t){return Ct(t)}class Hm{constructor(e){this.auth=e,this.observer=null,this.addObserver=i0(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function fT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",JO().appendChild(r)})}function ZO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ek="https://www.google.com/recaptcha/enterprise.js?render=",tk="recaptcha-enterprise",nk="NO_RECAPTCHA";class rk{constructor(e){this.type=tk,this.auth=Is(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{NO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new kO(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;$m(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(nk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&$m(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}fT(ek+a).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Wm(t,e,n,r=!1){const s=new rk(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function uh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Wm(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Wm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){const n=ff(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(cc(i,e??{}))return s;vn(s,"already-initialized")}return n.initialize({options:e})}function ik(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ok(t,e,n){const r=Is(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=dT(e),{host:o,port:a}=ak(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||ck()}function dT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ak(t){const e=dT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Km(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Km(o)}}}function Km(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ck(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function lk(t,e){return Ur(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e){return sa(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(t,e){return sa(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function fk(t,e){return sa(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends vd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Po(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Po(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uh(e,n,"signInWithPassword",uk);case"emailLink":return hk(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uh(e,r,"signUpPassword",lk);case"emailLink":return fk(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return sa(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="http://localhost";class ps extends vd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=pd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ps(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:dk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$o(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mk(t){const e=Li(Mi(t)).link,n=e?Li(Mi(e)).deep_link_id:null,r=Li(Mi(t)).deep_link_id;return(r?Li(Mi(r)).link:null)||r||n||e||t}class Ed{constructor(e){var n,r,s,i,o,a;const c=Li(Mi(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=pk((s=c.mode)!==null&&s!==void 0?s:null);le(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mk(e);try{return new Ed(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.providerId=Ti.PROVIDER_ID}static credential(e,n){return Po._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ed.parseLink(n);return le(r,"argument-error"),Po._fromEmailAndCode(e,r.code,r.tenantId)}}Ti.PROVIDER_ID="password";Ti.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ti.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends ia{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends ia{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends ia{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends ia{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.TWITTER_SIGN_IN_METHOD="twitter.com";yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e){return sa(t,"POST","/v1/accounts:signUp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await os._fromIdTokenResponse(e,r,s),o=Qm(r);return new ms({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Qm(r);return new ms({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Qm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends tr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rc(e,n,r,s)}}function mT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,i,e,r):i})}async function _k(t,e,n=!1){const r=await Ro(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Ro(t,mT(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=_d(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),ms._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(t,e,n=!1){const r="signIn",s=await mT(t,r,e),i=await ms._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function vk(t,e){return gT(Is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(t){const e=Is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ek(t,e,n){const r=Is(t),o=await uh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&_T(t),c}),a=await ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Tk(t,e,n){return vk(Ct(t),Ti.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_T(t),r})}function Ik(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function wk(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function Ak(t){return Ct(t).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){const t=Mt();return yd(t)||wl(t)}const Rk=1e3,Ck=10;class vT extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bk()&&KO(),this.fallbackToPolling=uT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);WO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ck):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const Pk=vT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ET.type="SESSION";const TT=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Al(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await Sk(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Al.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=Td("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function kk(t){Ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function Nk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Lk(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",Mk=1,Pc="firebaseLocalStorage",AT="fbase_key";class oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bl(t,e){return t.transaction([Pc],e?"readwrite":"readonly").objectStore(Pc)}function xk(){const t=indexedDB.deleteDatabase(wT);return new oa(t).toPromise()}function hh(){const t=indexedDB.open(wT,Mk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pc,{keyPath:AT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pc)?e(r):(r.close(),await xk(),e(await hh()))})})}async function Gm(t,e,n){const r=bl(t,!0).put({[AT]:e,value:n});return new oa(r).toPromise()}async function Fk(t,e){const n=bl(t,!1).get(e),r=await new oa(n).toPromise();return r===void 0?null:r.value}function zm(t,e){const n=bl(t,!0).delete(e);return new oa(n).toPromise()}const Vk=800,Uk=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Uk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Al._getInstance(Lk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Nk(),!this.activeServiceWorker)return;this.sender=new Ok(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hh();return await Gm(e,Cc,"1"),await zm(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Fk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bl(s,!1).getAll();return new oa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const $k=bT;new ra(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e){return e?Wn(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends vd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jk(t){return gT(t.auth,new Id(t),t.bypassAuthState)}function qk(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),yk(n,new Id(t),t.bypassAuthState)}async function Hk(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),_k(n,new Id(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jk;case"linkViaPopup":case"linkViaRedirect":return Hk;case"reauthViaPopup":case"reauthViaRedirect":return qk;default:vn(this.auth,"internal-error")}}resolve(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new ra(2e3,1e4);class Ns extends RT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const e=Td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wk.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="pendingRedirect",Ha=new Map;class Qk extends RT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ha.get(this.auth._key());if(!e){try{const r=await Gk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ha.set(this.auth._key(),e)}return this.bypassAuthState||Ha.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gk(t,e){const n=Xk(e),r=Yk(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zk(t,e){Ha.set(t._key(),e)}function Yk(t){return Wn(t._redirectPersistence)}function Xk(t){return qa(Kk,t.config.apiKey,t.name)}async function Jk(t,e,n=!1){const r=Is(t),s=Bk(r,e),o=await new Qk(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=10*60*1e3;class eN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ym(e))}saveEventToCache(e){this.cachedEventUids.add(Ym(e)),this.lastProcessedEventTime=Date.now()}}function Ym(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e={}){return Ur(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function iN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nN(t);for(const n of e)try{if(oN(n))return}catch{}vn(t,"unauthorized-domain")}function oN(t){const e=lh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sN.test(n))return!1;if(rN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new ra(3e4,6e4);function Xm(){const t=Ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cN(t){return new Promise((e,n)=>{var r,s,i;function o(){Xm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xm(),n(Dn(t,"network-request-failed"))},timeout:aN.get()})}if(!((s=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ln().gapi)===null||i===void 0)&&i.load)o();else{const a=ZO("iframefcb");return Ln()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},fT(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Wa=null,e})}let Wa=null;function lN(t){return Wa=Wa||cN(t),Wa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new ra(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gd(e,fN):`https://${t.config.authDomain}/${hN}`,r={apiKey:e.apiKey,appName:t.name,v:pi},s=pN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$o(r).slice(1)}`}async function gN(t){const e=await lN(t),n=Ln().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:mN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Ln().setTimeout(()=>{i(o)},uN.get());function c(){Ln().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,vN=600,EN="_blank",TN="http://localhost";class Jm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(t,e,n,r=yN,s=vN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},_N),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Mt().toLowerCase();n&&(a=iT(l)?EN:n),sT(l)&&(e=e||TN,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(HO(l)&&a!=="_self")return wN(e||"",a),new Jm(null);const h=window.open(e||"",a,u);le(h,t,"popup-blocked");try{h.focus()}catch{}return new Jm(h)}function wN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",bN="emulator/auth/handler",RN=encodeURIComponent("fac");async function Zm(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pi,eventId:s};if(e instanceof pT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof ia){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${RN}=${encodeURIComponent(c)}`:"";return`${CN(t)}?${$o(a).slice(1)}${l}`}function CN({config:t}){return t.emulator?gd(t,bN):`https://${t.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=Jk,this._overrideRedirectResult=zk}async _openPopup(e,n,r,s){var i;Zn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Zm(e,n,r,lh(),s);return IN(e,o,Td())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Zm(e,n,r,lh(),s);return kk(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Zn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gN(e),r=new eN(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(su,{type:su},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[su];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uT()||yd()||wl()}}const SN=PN;var eg="@firebase/auth",tg="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function NN(t){Ks(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(t)},l=new XO(r,s,i,c);return ik(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new cs("auth-internal",e=>{const n=Is(e.getProvider("auth").getImmediate());return(r=>new ON(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(eg,tg,kN(t)),Rr(eg,tg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=5*60,LN=Iy("authIdTokenMaxAge")||DN;let ng=null;const MN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LN)return;const s=n==null?void 0:n.token;ng!==s&&(ng=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xN(t=Ry()){const e=ff(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sk(t,{popupRedirectResolver:SN,persistence:[$k,Pk,TT]}),r=Iy("authTokenSyncURL");if(r){const i=MN(r);wk(n,i,()=>i(n.currentUser)),Ik(n,o=>i(o))}const s=Ey("auth");return s&&ok(n,`http://${s}`),n}NN("Browser");const FN={apiKey:"AIzaSyD928PKQ1qbAHTlCaFUBHks0zDqQ7ip7GE",authDomain:"task-manager-5fa7b.firebaseapp.com",projectId:"task-manager-5fa7b",storageBucket:"task-manager-5fa7b.appspot.com",messagingSenderId:"609503697743",appId:"1:609503697743:web:fcc2fc3d977191b361833a"},PT=by(FN),Ft=nO(PT),wt=xN(PT),Kt=tf("usersStore",()=>{const t=Ge(null),e=s=>{t.value=s},n=()=>{t.value=null},r=Ge(null);return{currentUser:t,userTasksCollection:r,setUser:e,clearUser:n}}),ST=tf("tasksStore",()=>{const t=zn({creationTime:null,endDate:"",name:"",description:"",completed:!1,inProgress:!1,createdById:"",createdByUsername:"",assignedToId:"",assignedToUsername:""}),e=zn({id:null,name:"",description:"",endDate:""});return{newTask:t,editingTask:e}});async function VN(){const t=Kt();return t.userTasksCollection?(await zE(fO(t.userTasksCollection,dO("creationTime","desc")))).docs.map(n=>({id:n.id,...n.data()})):[]}async function UN(){const t=Zt(Ft,"users");return(await zE(t)).docs.map(n=>({uid:n.id,...n.data()}))}async function $N(){const t=Kt();wt.onAuthStateChanged(async e=>{if(e===null)return t.clearUser(),null;{const n=mt(Ft,"users",wt.currentUser.uid),r=await Fr(n),s={uid:wt.currentUser.uid,email:wt.currentUser.email,username:r.data().username,jobTitle:r.data().jobTitle};return t.setUser(s),t.userTasksCollection=Zt(Ft,`users/${wt.currentUser.uid}/tasks`),s}})}async function mF(t){const e=Kt(),n=mt(e.userTasksCollection,t),r=(await Fr(n)).data(),s=Zt(Ft,`users/${r.assignedToId}/tasks`),i=Zt(Ft,`users/${r.createdById}/tasks`);await Promise.all([ds(mt(s,t),{inProgress:!r.inProgress}),ds(mt(i,t),{inProgress:!r.inProgress})])}async function gF(t){const e=Kt(),n=mt(e.userTasksCollection,t),r=(await Fr(n)).data(),s=Zt(Ft,`users/${r.assignedToId}/tasks`),i=Zt(Ft,`users/${r.createdById}/tasks`);await Promise.all([ds(mt(s,t),{completed:!r.completed,inProgress:!1}),ds(mt(i,t),{completed:!r.completed,inProgress:!1})])}async function _F({taskId:t,member:e}){const n=Kt(),r=mt(n.userTasksCollection,t),s=(await Fr(r)).data();await ds(r,{assignedToId:e.uid,assignedToUsername:e.username});const i=Zt(Ft,`users/${e.uid}/tasks`),o=mt(i,t);await YE(o,{...s,assignedToId:e.uid,assignedToUsername:e.username})}async function yF(){const t=Kt(),e=ST();if(e.editingTask.id){const n=mt(t.userTasksCollection,e.editingTask.id),r=(await Fr(n)).data(),s=Zt(Ft,`users/${r.assignedToId}/tasks`),i=Zt(Ft,`users/${r.createdById}/tasks`);await Promise.all([ds(mt(s,e.editingTask.id),{name:e.editingTask.name,description:e.editingTask.description,endDate:e.editingTask.endDate}),ds(mt(i,e.editingTask.id),{name:e.editingTask.name,description:e.editingTask.description,endDate:e.editingTask.endDate})])}}async function vF(t){const e=Kt(),n=mt(e.userTasksCollection,t),r=(await Fr(n)).data(),s=Zt(Ft,`users/${r.assignedToId}/tasks`),i=Zt(Ft,`users/${r.createdById}/tasks`);await Promise.all([Vm(mt(s,t)),Vm(mt(i,t))])}function EF(){const t=Kt(),e=ST();_O(t.userTasksCollection,{...e.newTask,creationTime:Date.now(),createdById:t.currentUser.uid,createdByUsername:t.currentUser.username,assignedToId:t.currentUser.uid,assignedToUsername:t.currentUser.username}),e.newTask.name="",e.newTask.description="",e.newTask.endDate=""}async function TF(t){const e=Kt(),{email:n,password:r}=t;await Tk(wt,n,r);const s=mt(Ft,"users",wt.currentUser.uid),i=await Fr(s);e.setUser({uid:wt.currentUser.uid,email:wt.currentUser.email,username:i.data().username,jobTitle:i.data().jobTitle}),e.userTasksCollection=Zt(Ft,`users/${wt.currentUser.uid}/tasks`)}async function IF(t){const e=Kt(),{email:n,password:r,username:s,jobTitle:i}=t;await Ek(wt,n,r);const o=mt(Ft,"users",wt.currentUser.uid);e.userTasksCollection=Zt(Ft,`users/${wt.currentUser.uid}/tasks`),await YE(o,{username:s,jobTitle:i});const a=await Fr(o);e.setUser({uid:wt.currentUser.uid,email:wt.currentUser.email,username:a.data().username,jobTitle:a.data().jobTitle})}async function BN(){const t=Kt();await Ak(wt),t.clearUser()}const aa=tf("alertsStore",()=>{const t=Ge([]);return{alerts:t,addNotification:(n,r)=>{let s=r;s||(s=n==="error"?"Something went wrong, please try again later":"Your data has been successfully saved!"),t.value.push({id:new Date().getTime(),title:s,type:n}),setTimeout(()=>{t.value.shift()},3e3)}}});function jN(){const t=aa();return cf({queryKey:["user"],queryFn:$N,onSuccess:e=>{console.log(e)},onError:()=>{t.addNotification("error","Error getting a current user!")}})}const wd="/task-manager/svg/logo.svg",OT=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},qN={},HN={class:"flex items-center gap-5 pl-6 h-screen justify-center"},WN=ie("img",{src:wd,alt:"logo",class:"w-14"},null,-1),KN=ie("span",{class:"text-5xl tracking-widest"},"TASKIE",-1),QN=[WN,KN];function GN(t,e){return me(),ke("div",HN,QN)}const zN=OT(qN,[["render",GN]]),YN="/task-manager/svg/close.svg",XN={class:"flex-1 space-y-2"},JN={class:"shrink-0"},ZN=ie("img",{src:YN,alt:"close",class:"w-6 h-6"},null,-1),eD=[ZN],tD={__name:"NotificationDefault",props:{intent:{type:String,validator(t){return["success","error"].includes(t)},default:"success"},title:{type:String,required:!0},onDismiss:Function},setup(t){return(e,n)=>(me(),ke("div",{class:Er(["flex rounded-md p-4 space-x-3",[{"bg-green-100":t.intent==="success","bg-red-100":t.intent==="error"}]])},[ie("div",XN,[ie("h2",{class:Er(["text-lg font-medium",[{"text-green-900":t.intent==="success","text-red-900":t.intent==="error"}]])},Qe(t.title),3)]),ie("div",JN,[ie("button",{onClick:n[0]||(n[0]=(...r)=>t.onDismiss&&t.onDismiss(...r)),class:Er(["p-0.5 rounded-md -m-1",[{"hover:bg-green-200":t.intent==="success","hover:bg-red-200":t.intent==="error"}]])},eD,2)])],2))}},nD={__name:"App",setup(t){const e=aa();console.log(e.alerts.length);const{isLoading:n}=jN();return console.log(`isLoading is ${n.value}`),(r,s)=>{const i=hi("router-view");return me(),ke("div",null,[ae(Zh,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:Tt(()=>[(me(),sn(hA,{to:"body"},[(me(!0),ke(et,null,Qh(Se(e).alerts,o=>(me(),sn(tD,{key:o.id,class:"fixed top-4 right-8 w-2/4",intent:o.type,title:o.title,"on-dismiss":()=>Se(e).alerts.shift()},null,8,["intent","title","on-dismiss"]))),128))]))]),_:1}),Se(n)?(me(),sn(zN,{key:0})):(me(),sn(i,{key:1}))])}}},rD="modulepreload",sD=function(t){return"/task-manager/"+t},rg={},Ra=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=sD(i),i in rg)return;rg[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":rD,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ss=typeof window<"u";function iD(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function iu(t,e){const n={};for(const r in e){const s=e[r];n[r]=En(s)?s.map(t):t(s)}return n}const Zi=()=>{},En=Array.isArray,oD=/\/$/,aD=t=>t.replace(oD,"");function ou(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=hD(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function cD(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lD(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ti(e.matched[r],n.matched[s])&&kT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ti(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function kT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!uD(t[n],e[n]))return!1;return!0}function uD(t,e){return En(t)?ig(t,e):En(e)?ig(e,t):t===e}function ig(t,e){return En(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function hD(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var So;(function(t){t.pop="pop",t.push="push"})(So||(So={}));var eo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(eo||(eo={}));function fD(t){if(!t)if(Ss){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),aD(t)}const dD=/^[^#]+#/;function pD(t,e){return t.replace(dD,"#")+e}function mD(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Rl=()=>({left:window.pageXOffset,top:window.pageYOffset});function gD(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=mD(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function og(t,e){return(history.state?history.state.position-e:-1)+t}const fh=new Map;function _D(t,e){fh.set(t,e)}function yD(t){const e=fh.get(t);return fh.delete(t),e}let vD=()=>location.protocol+"//"+location.host;function NT(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),sg(c,"")}return sg(n,t)+r+s}function ED(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const m=NT(t,location),v=n.value,E=e.value;let w=0;if(f){if(n.value=m,e.value=f,o&&o===v){o=null;return}w=E?f.position-E.position:0}else r(m);s.forEach(g=>{g(n.value,v,{delta:w,type:So.pop,direction:w?w>0?eo.forward:eo.back:eo.unknown})})};function c(){o=n.value}function l(f){s.push(f);const m=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(Le({},f.state,{scroll:Rl()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function ag(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Rl():null}}function TD(t){const{history:e,location:n}=window,r={value:NT(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:vD()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(c,l){const u=Le({},e.state,ag(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Le({},s.value,e.state,{forward:c,scroll:Rl()});i(u.current,u,!0);const h=Le({},ag(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function ID(t){t=fD(t);const e=TD(t),n=ED(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Le({location:"",base:t,go:r,createHref:pD.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function wD(t){return typeof t=="string"||t&&typeof t=="object"}function DT(t){return typeof t=="string"||typeof t=="symbol"}const ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},LT=Symbol("");var cg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(cg||(cg={}));function ni(t,e){return Le(new Error,{type:t,[LT]:!0},e)}function Un(t,e){return t instanceof Error&&LT in t&&(e==null||!!(t.type&e))}const lg="[^/]+?",AD={sensitive:!1,strict:!1,start:!0,end:!0},bD=/[.+*?^${}()[\]/\\]/g;function RD(t,e){const n=Le({},AD,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const f=l[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(bD,"\\$&"),m+=40;else if(f.type===1){const{value:v,repeatable:E,optional:w,regexp:g}=f;i.push({name:v,repeatable:E,optional:w});const I=g||lg;if(I!==lg){m+=10;try{new RegExp(`(${I})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${v}" (${I}): `+T.message)}}let b=E?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||(b=w&&l.length<2?`(?:/${b})`:"/"+b),w&&(b+="?"),s+=b,m+=20,w&&(m+=-8),E&&(m+=-20),I===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",v=i[f-1];h[v.name]=m&&v.repeatable?m.split("/"):m}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:v,repeatable:E,optional:w}=m,g=v in l?l[v]:"";if(En(g)&&!E)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const I=En(g)?g.join("/"):g;if(!I)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=I}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function CD(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function PD(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=CD(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ug(r))return 1;if(ug(s))return-1}return s.length-r.length}function ug(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const SD={type:0,value:""},OD=/[a-zA-Z0-9_]/;function kD(t){if(!t)return[[]];if(t==="/")return[[SD]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${l}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:OD.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function ND(t,e,n){const r=RD(kD(t.path),n),s=Le(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function DD(t,e){const n=[],r=new Map;e=dg({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,f){const m=!f,v=LD(u);v.aliasOf=f&&f.record;const E=dg(e,u),w=[v];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const T of b)w.push(Le({},v,{components:f?f.record.components:v.components,path:T,aliasOf:f?f.record:v}))}let g,I;for(const b of w){const{path:T}=b;if(h&&T[0]!=="/"){const P=h.record.path,O=P[P.length-1]==="/"?"":"/";b.path=h.record.path+(T&&O+T)}if(g=ND(b,h,E),f?f.alias.push(g):(I=I||g,I!==g&&I.alias.push(g),m&&u.name&&!fg(g)&&o(u.name)),v.children){const P=v.children;for(let O=0;O<P.length;O++)i(P[O],g,f&&f.children[O])}f=f||g,(g.record.components&&Object.keys(g.record.components).length||g.record.name||g.record.redirect)&&c(g)}return I?()=>{o(I)}:Zi}function o(u){if(DT(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&PD(u,n[h])>=0&&(u.record.path!==n[h].record.path||!MT(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!fg(u)&&r.set(u.record.name,u)}function l(u,h){let f,m={},v,E;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw ni(1,{location:u});E=f.record.name,m=Le(hg(h.params,f.keys.filter(I=>!I.optional).map(I=>I.name)),u.params&&hg(u.params,f.keys.map(I=>I.name))),v=f.stringify(m)}else if("path"in u)v=u.path,f=n.find(I=>I.re.test(v)),f&&(m=f.parse(v),E=f.record.name);else{if(f=h.name?r.get(h.name):n.find(I=>I.re.test(h.path)),!f)throw ni(1,{location:u,currentLocation:h});E=f.record.name,m=Le({},h.params,u.params),v=f.stringify(m)}const w=[];let g=f;for(;g;)w.unshift(g.record),g=g.parent;return{name:E,path:v,params:m,matched:w,meta:xD(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function hg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function LD(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:MD(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function MD(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function fg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function xD(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function dg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function MT(t,e){return e.children.some(n=>n===t||MT(t,n))}const xT=/#/g,FD=/&/g,VD=/\//g,UD=/=/g,$D=/\?/g,FT=/\+/g,BD=/%5B/g,jD=/%5D/g,VT=/%5E/g,qD=/%60/g,UT=/%7B/g,HD=/%7C/g,$T=/%7D/g,WD=/%20/g;function Ad(t){return encodeURI(""+t).replace(HD,"|").replace(BD,"[").replace(jD,"]")}function KD(t){return Ad(t).replace(UT,"{").replace($T,"}").replace(VT,"^")}function dh(t){return Ad(t).replace(FT,"%2B").replace(WD,"+").replace(xT,"%23").replace(FD,"%26").replace(qD,"`").replace(UT,"{").replace($T,"}").replace(VT,"^")}function QD(t){return dh(t).replace(UD,"%3D")}function GD(t){return Ad(t).replace(xT,"%23").replace($D,"%3F")}function zD(t){return t==null?"":GD(t).replace(VD,"%2F")}function Sc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function YD(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(FT," "),o=i.indexOf("="),a=Sc(o<0?i:i.slice(0,o)),c=o<0?null:Sc(i.slice(o+1));if(a in e){let l=e[a];En(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function pg(t){let e="";for(let n in t){const r=t[n];if(n=QD(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(En(r)?r.map(i=>i&&dh(i)):[r&&dh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function XD(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=En(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const JD=Symbol(""),mg=Symbol(""),bd=Symbol(""),BT=Symbol(""),ph=Symbol("");function Oi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function pr(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(ni(4,{from:n,to:e})):h instanceof Error?a(h):wD(h)?a(ni(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(r&&r.instances[s],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function au(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(ZD(a)){const l=(a.__vccOpts||a)[e];l&&s.push(pr(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=iD(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&pr(f,n,r,i,o)()}))}}return s}function ZD(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gg(t){const e=ln(bd),n=ln(BT),r=Fe(()=>e.resolve(Se(t.to))),s=Fe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(ti.bind(null,u));if(f>-1)return f;const m=_g(c[l-2]);return l>1&&_g(u)===m&&h[h.length-1].path!==m?h.findIndex(ti.bind(null,c[l-2])):f}),i=Fe(()=>s.value>-1&&r1(n.params,r.value.params)),o=Fe(()=>s.value>-1&&s.value===n.matched.length-1&&kT(n.params,r.value.params));function a(c={}){return n1(c)?e[Se(t.replace)?"replace":"push"](Se(t.to)).catch(Zi):Promise.resolve()}return{route:r,href:Fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const e1=Mo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gg,setup(t,{slots:e}){const n=zn(gg(t)),{options:r}=ln(bd),s=Fe(()=>({[yg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Vo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),t1=e1;function n1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function r1(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!En(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function _g(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yg=(t,e,n)=>t??e??n,s1=Mo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ln(ph),s=Fe(()=>t.route||r.value),i=ln(mg,0),o=Fe(()=>{let l=Se(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Fe(()=>s.value.matched[o.value]);La(mg,Fe(()=>o.value+1)),La(JD,a),La(ph,s);const c=Ge();return cn(()=>[c.value,a.value,t.name],([l,u,h],[f,m,v])=>{u&&(u.instances[h]=l,m&&m!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),l&&u&&(!m||!ti(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(E=>E(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return vg(n.default,{Component:f,route:l});const m=h.props[u],v=m?m===!0?l.params:typeof m=="function"?m(l):m:null,w=Vo(f,Le({},v,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return vg(n.default,{Component:w,route:l})||w}}});function vg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const i1=s1;function o1(t){const e=DD(t.routes,t),n=t.parseQuery||YD,r=t.stringifyQuery||pg,s=t.history,i=Oi(),o=Oi(),a=Oi(),c=$h(ar);let l=ar;Ss&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=iu.bind(null,L=>""+L),h=iu.bind(null,zD),f=iu.bind(null,Sc);function m(L,K){let q,z;return DT(L)?(q=e.getRecordMatcher(L),z=K):z=L,e.addRoute(z,q)}function v(L){const K=e.getRecordMatcher(L);K&&e.removeRoute(K)}function E(){return e.getRoutes().map(L=>L.record)}function w(L){return!!e.getRecordMatcher(L)}function g(L,K){if(K=Le({},K||c.value),typeof L=="string"){const p=ou(n,L,K.path),_=e.resolve({path:p.path},K),A=s.createHref(p.fullPath);return Le(p,_,{params:f(_.params),hash:Sc(p.hash),redirectedFrom:void 0,href:A})}let q;if("path"in L)q=Le({},L,{path:ou(n,L.path,K.path).path});else{const p=Le({},L.params);for(const _ in p)p[_]==null&&delete p[_];q=Le({},L,{params:h(p)}),K.params=h(K.params)}const z=e.resolve(q,K),ve=L.hash||"";z.params=u(f(z.params));const y=cD(r,Le({},L,{hash:KD(ve),path:z.path})),d=s.createHref(y);return Le({fullPath:y,hash:ve,query:r===pg?XD(L.query):L.query||{}},z,{redirectedFrom:void 0,href:d})}function I(L){return typeof L=="string"?ou(n,L,c.value.path):Le({},L)}function b(L,K){if(l!==L)return ni(8,{from:K,to:L})}function T(L){return S(L)}function P(L){return T(Le(I(L),{replace:!0}))}function O(L){const K=L.matched[L.matched.length-1];if(K&&K.redirect){const{redirect:q}=K;let z=typeof q=="function"?q(L):q;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=I(z):{path:z},z.params={}),Le({query:L.query,hash:L.hash,params:"path"in z?{}:L.params},z)}}function S(L,K){const q=l=g(L),z=c.value,ve=L.state,y=L.force,d=L.replace===!0,p=O(q);if(p)return S(Le(I(p),{state:typeof p=="object"?Le({},ve,p.state):ve,force:y,replace:d}),K||q);const _=q;_.redirectedFrom=K;let A;return!y&&lD(r,z,q)&&(A=ni(16,{to:_,from:z}),nt(z,z,!0,!1)),(A?Promise.resolve(A):V(_,z)).catch(C=>Un(C)?Un(C,2)?C:tt(C):he(C,_,z)).then(C=>{if(C){if(Un(C,2))return S(Le({replace:d},I(C.to),{state:typeof C.to=="object"?Le({},ve,C.to.state):ve,force:y}),K||_)}else C=B(_,z,!0,d,ve);return J(_,z,C),C})}function D(L,K){const q=b(L,K);return q?Promise.reject(q):Promise.resolve()}function N(L){const K=Qt.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(L):L()}function V(L,K){let q;const[z,ve,y]=a1(L,K);q=au(z.reverse(),"beforeRouteLeave",L,K);for(const p of z)p.leaveGuards.forEach(_=>{q.push(pr(_,L,K))});const d=D.bind(null,L,K);return q.push(d),Je(q).then(()=>{q=[];for(const p of i.list())q.push(pr(p,L,K));return q.push(d),Je(q)}).then(()=>{q=au(ve,"beforeRouteUpdate",L,K);for(const p of ve)p.updateGuards.forEach(_=>{q.push(pr(_,L,K))});return q.push(d),Je(q)}).then(()=>{q=[];for(const p of y)if(p.beforeEnter)if(En(p.beforeEnter))for(const _ of p.beforeEnter)q.push(pr(_,L,K));else q.push(pr(p.beforeEnter,L,K));return q.push(d),Je(q)}).then(()=>(L.matched.forEach(p=>p.enterCallbacks={}),q=au(y,"beforeRouteEnter",L,K),q.push(d),Je(q))).then(()=>{q=[];for(const p of o.list())q.push(pr(p,L,K));return q.push(d),Je(q)}).catch(p=>Un(p,8)?p:Promise.reject(p))}function J(L,K,q){a.list().forEach(z=>N(()=>z(L,K,q)))}function B(L,K,q,z,ve){const y=b(L,K);if(y)return y;const d=K===ar,p=Ss?history.state:{};q&&(z||d?s.replace(L.fullPath,Le({scroll:d&&p&&p.scroll},ve)):s.push(L.fullPath,ve)),c.value=L,nt(L,K,q,d),tt()}let se;function Re(){se||(se=s.listen((L,K,q)=>{if(!Vn.listening)return;const z=g(L),ve=O(z);if(ve){S(Le(ve,{replace:!0}),z).catch(Zi);return}l=z;const y=c.value;Ss&&_D(og(y.fullPath,q.delta),Rl()),V(z,y).catch(d=>Un(d,12)?d:Un(d,2)?(S(d.to,z).then(p=>{Un(p,20)&&!q.delta&&q.type===So.pop&&s.go(-1,!1)}).catch(Zi),Promise.reject()):(q.delta&&s.go(-q.delta,!1),he(d,z,y))).then(d=>{d=d||B(z,y,!1),d&&(q.delta&&!Un(d,8)?s.go(-q.delta,!1):q.type===So.pop&&Un(d,20)&&s.go(-1,!1)),J(z,y,d)}).catch(Zi)}))}let xe=Oi(),Z=Oi(),ye;function he(L,K,q){tt(L);const z=Z.list();return z.length?z.forEach(ve=>ve(L,K,q)):console.error(L),Promise.reject(L)}function Ne(){return ye&&c.value!==ar?Promise.resolve():new Promise((L,K)=>{xe.add([L,K])})}function tt(L){return ye||(ye=!L,Re(),xe.list().forEach(([K,q])=>L?q(L):K()),xe.reset()),L}function nt(L,K,q,z){const{scrollBehavior:ve}=t;if(!Ss||!ve)return Promise.resolve();const y=!q&&yD(og(L.fullPath,0))||(z||!q)&&history.state&&history.state.scroll||null;return Lo().then(()=>ve(L,K,y)).then(d=>d&&gD(d)).catch(d=>he(d,L,K))}const Xe=L=>s.go(L);let en;const Qt=new Set,Vn={currentRoute:c,listening:!0,addRoute:m,removeRoute:v,hasRoute:w,getRoutes:E,resolve:g,options:t,push:T,replace:P,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Z.add,isReady:Ne,install(L){const K=this;L.component("RouterLink",t1),L.component("RouterView",i1),L.config.globalProperties.$router=K,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Se(c)}),Ss&&!en&&c.value===ar&&(en=!0,T(s.location).catch(ve=>{}));const q={};for(const ve in ar)Object.defineProperty(q,ve,{get:()=>c.value[ve],enumerable:!0});L.provide(bd,K),L.provide(BT,y_(q)),L.provide(ph,c);const z=L.unmount;Qt.add(L),L.unmount=function(){Qt.delete(L),Qt.size<1&&(l=ar,se&&se(),se=null,c.value=ar,en=!1,ye=!1),z()}}};function Je(L){return L.reduce((K,q)=>K.then(()=>N(q)),Promise.resolve())}return Vn}function a1(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>ti(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>ti(l,c))||s.push(c))}return[n,r,s]}const c1="/task-manager/svg/home-white.svg",l1="/task-manager/svg/home.svg",u1="/task-manager/svg/task-white.svg",h1="/task-manager/svg/task.svg",f1="/task-manager/svg/team-white.svg",d1="/task-manager/svg/team.svg",p1="/task-manager/svg/logout-white.svg",m1="/task-manager/svg/logout.svg";function jT(t){return kh()?(xc(t),!0):!1}function ri(t){return typeof t=="function"?t():Se(t)}const qT=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const g1=Object.prototype.toString,_1=t=>g1.call(t)==="[object Object]",HT=()=>{},wF=y1();function y1(){var t,e;return qT&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function v1(t,e){function n(...r){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return n}const WT=t=>t();function E1(t=WT){const e=Ge(!0);function n(){e.value=!1}function r(){e.value=!0}const s=(...i)=>{e.value&&t(...i)};return{isActive:ui(e),pause:n,resume:r,eventFilter:s}}const AF={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function T1(t){return t||xn()}function I1(...t){if(t.length!==1)return pw(...t);const e=t[0];return typeof e=="function"?ui(hw(()=>({get:e,set:HT}))):Ge(e)}function w1(t,e,n={}){const{eventFilter:r=WT,...s}=n;return cn(t,v1(r,e),s)}function A1(t,e,n={}){const{eventFilter:r,...s}=n,{eventFilter:i,pause:o,resume:a,isActive:c}=E1(r);return{stop:w1(t,e,{...s,eventFilter:i}),pause:o,resume:a,isActive:c}}function KT(t,e=!0,n){const r=T1(n);r?xo(t,r):e?t():Lo(t)}function QT(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,s=$e(t),i=Ge(t);function o(a){if(arguments.length)return i.value=a,i.value;{const c=ri(n);return i.value=i.value===c?ri(r):c,i.value}}return s?o:[i,o]}function GT(t){var e;const n=ri(t);return(e=n==null?void 0:n.$el)!=null?e:n}const si=qT?window:void 0;function Eg(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=si):[e,n,r,s]=t,!e)return HT;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,h,f,m)=>(u.addEventListener(h,f,m),()=>u.removeEventListener(h,f,m)),c=cn(()=>[GT(e),ri(s)],([u,h])=>{if(o(),!u)return;const f=_1(h)?{...h}:h;i.push(...n.flatMap(m=>r.map(v=>a(u,m,v,f))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return jT(l),l}function b1(){const t=Ge(!1);return xn()&&xo(()=>{t.value=!0}),t}function R1(t){const e=b1();return Fe(()=>(e.value,!!t()))}function C1(t,e={}){const{window:n=si}=e,r=R1(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const i=Ge(!1),o=l=>{i.value=l.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o))},c=k_(()=>{r.value&&(a(),s=n.matchMedia(ri(t)),"addEventListener"in s?s.addEventListener("change",o):s.addListener(o),i.value=s.matches)});return jT(()=>{c(),a(),s=void 0}),i}const Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pa="__vueuse_ssr_handlers__",P1=S1();function S1(){return Pa in Ca||(Ca[Pa]=Ca[Pa]||{}),Ca[Pa]}function zT(t,e){return P1[t]||e}function O1(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const k1={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Tg="vueuse-storage";function N1(t,e,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:h=si,eventFilter:f,onError:m=N=>{console.error(N)},initOnMounted:v}=r,E=(u?$h:Ge)(typeof e=="function"?e():e);if(!n)try{n=zT("getDefaultStorage",()=>{var N;return(N=si)==null?void 0:N.localStorage})()}catch(N){m(N)}if(!n)return E;const w=ri(e),g=O1(w),I=(s=r.serializer)!=null?s:k1[g],{pause:b,resume:T}=A1(E,()=>P(E.value),{flush:i,deep:o,eventFilter:f});return h&&a&&KT(()=>{Eg(h,"storage",D),Eg(h,Tg,S),v&&D()}),v||D(),E;function P(N){try{if(N==null)n.removeItem(t);else{const V=I.write(N),J=n.getItem(t);J!==V&&(n.setItem(t,V),h&&h.dispatchEvent(new CustomEvent(Tg,{detail:{key:t,oldValue:J,newValue:V,storageArea:n}})))}}catch(V){m(V)}}function O(N){const V=N?N.newValue:n.getItem(t);if(V==null)return c&&w!=null&&n.setItem(t,I.write(w)),w;if(!N&&l){const J=I.read(V);return typeof l=="function"?l(J,w):g==="object"&&!Array.isArray(J)?{...w,...J}:J}else return typeof V!="string"?V:I.read(V)}function S(N){D(N.detail)}function D(N){if(!(N&&N.storageArea!==n)){if(N&&N.key==null){E.value=w;return}if(!(N&&N.key!==t)){b();try{(N==null?void 0:N.newValue)!==I.write(E.value)&&(E.value=O(N))}catch(V){m(V)}finally{N?Lo(T):T()}}}}}function YT(t){return C1("(prefers-color-scheme: dark)",t)}function D1(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:s=si,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l,disableTransition:u=!0}=t,h={auto:"",light:"light",dark:"dark",...t.modes||{}},f=YT({window:s}),m=Fe(()=>f.value?"dark":"light"),v=c||(o==null?I1(r):N1(o,r,i,{window:s,listenToStorageChanges:a})),E=Fe(()=>v.value==="auto"?m.value:v.value),w=zT("updateHTMLAttrs",(T,P,O)=>{const S=typeof T=="string"?s==null?void 0:s.document.querySelector(T):GT(T);if(!S)return;let D;if(u){D=s.document.createElement("style");const N="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";D.appendChild(document.createTextNode(N)),s.document.head.appendChild(D)}if(P==="class"){const N=O.split(/\s/g);Object.values(h).flatMap(V=>(V||"").split(/\s/g)).filter(Boolean).forEach(V=>{N.includes(V)?S.classList.add(V):S.classList.remove(V)})}else S.setAttribute(P,O);u&&(s.getComputedStyle(D).opacity,document.head.removeChild(D))});function g(T){var P;w(e,n,(P=h[T])!=null?P:T)}function I(T){t.onChanged?t.onChanged(T,g):g(T)}cn(E,I,{flush:"post",immediate:!0}),KT(()=>I(E.value));const b=Fe({get(){return l?v.value:E.value},set(T){v.value=T}});try{return Object.assign(b,{store:v,system:m,state:E})}catch{return b}}function Rd(t={}){const{valueDark:e="dark",valueLight:n="",window:r=si}=t,s=D1({...t,onChanged:(a,c)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,a==="dark",c,a):c(a)},modes:{dark:e,light:n}}),i=Fe(()=>s.system?s.system.value:YT({window:r}).value?"dark":"light");return Fe({get(){return s.value==="dark"},set(a){const c=a?"dark":"light";i.value===c?s.value="auto":s.value=c}})}function L1(){const t=af(),e=aa();return Vb({mutationFn:BN,onSuccess:()=>{t.invalidateQueries({queryKey:["user"]}),Ld.push("/"),e.addNotification("success","You are successfully logged out")},onError:()=>{e.addNotification("error","Error logging out!")}})}const M1={class:"w-64 h-screen fixed bg-white dark:bg-dark-bg-black flex flex-col justify-between py-20"},x1=ie("img",{src:wd,alt:"logo"},null,-1),F1=ie("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),V1={class:"flex flex-col gap-5 text-lg"},U1={key:0,src:c1,alt:"home-white"},$1={key:1,src:l1,alt:"home"},B1={key:0,src:u1,alt:"task-white"},j1={key:1,src:h1,alt:"task"},q1={key:0,src:f1,alt:"team-white"},H1={key:1,src:d1,alt:"team"},W1={key:0,src:p1,alt:"logout-white",class:"w-7 h-7"},K1={key:1,src:m1,alt:"logout",class:"w-7 h-7"},Q1={__name:"SideBar",setup(t){const e=Rd(),{mutateAsync:n}=L1(),r=()=>{n()};return(s,i)=>{const o=hi("router-link");return me(),ke("div",M1,[ae(o,{to:{name:"home"},class:"flex items-center gap-5 pl-6"},{default:Tt(()=>[x1,F1]),_:1}),ie("div",V1,[ae(o,{to:{name:"home"},class:"nav"},{default:Tt(()=>[Se(e)?(me(),ke("img",U1)):(me(),ke("img",$1)),on(" "+Qe(s.$t("sidebar.home")),1)]),_:1}),ae(o,{to:{name:"tasks"},class:"nav"},{default:Tt(()=>[Se(e)?(me(),ke("img",B1)):(me(),ke("img",j1)),on(" "+Qe(s.$t("sidebar.tasks")),1)]),_:1}),ae(o,{to:{name:"team"},class:"nav"},{default:Tt(()=>[Se(e)?(me(),ke("img",q1)):(me(),ke("img",H1)),on(" "+Qe(s.$t("sidebar.team")),1)]),_:1})]),ie("div",null,[ae(o,{to:"",class:"nav text-xl",onClick:r},{default:Tt(()=>[Se(e)?(me(),ke("img",W1)):(me(),ke("img",K1)),on(" "+Qe(s.$t("sidebar.logOut")),1)]),_:1})])])}}},XT="/task-manager/svg/sun.svg",JT="/task-manager/svg/moon.svg";/*!
  * shared v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const mh=typeof window<"u",$r=(t,e=!1)=>e?Symbol.for(t):Symbol(t),G1=(t,e,n)=>z1({l:t,k:e,s:n}),z1=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),at=t=>typeof t=="number"&&isFinite(t),Y1=t=>eI(t)==="[object Date]",Dr=t=>eI(t)==="[object RegExp]",Cl=t=>de(t)&&Object.keys(t).length===0,Rt=Object.assign;let Ig;const jn=()=>Ig||(Ig=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wg(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const X1=Object.prototype.hasOwnProperty;function Oo(t,e){return X1.call(t,e)}const We=Array.isArray,Ue=t=>typeof t=="function",Q=t=>typeof t=="string",Ee=t=>typeof t=="boolean",De=t=>t!==null&&typeof t=="object",J1=t=>De(t)&&Ue(t.then)&&Ue(t.catch),ZT=Object.prototype.toString,eI=t=>ZT.call(t),de=t=>{if(!De(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Z1=t=>t==null?"":We(t)||de(t)&&t.toString===ZT?JSON.stringify(t,null,2):String(t);function eL(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function Cd(t){let e=t;return()=>++e}function tL(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Sa=t=>!De(t)||We(t);function to(t,e){if(Sa(t)||Sa(e))throw new Error("Invalid value");for(const n in t)Oo(t,n)&&(Sa(t[n])||Sa(e[n])?e[n]=t[n]:to(t[n],e[n]))}/*!
  * message-compiler v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function nL(t,e,n){return{line:t,column:e,offset:n}}function gh(t,e,n){const r={start:t,end:e};return n!=null&&(r.source=n),r}const rL=/\{([0-9a-zA-Z]+)\}/g;function sL(t,...e){return e.length===1&&iL(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(rL,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const tI=Object.assign,Ag=t=>typeof t=="string",iL=t=>t!==null&&typeof t=="object";function nI(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const oe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},oL={[oe.EXPECTED_TOKEN]:"Expected token: '{0}'",[oe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[oe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[oe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[oe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[oe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[oe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[oe.EMPTY_PLACEHOLDER]:"Empty placeholder",[oe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[oe.INVALID_LINKED_FORMAT]:"Invalid linked format",[oe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[oe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[oe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[oe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[oe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[oe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Ii(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=sL((s||oL)[t]||"",...i||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function aL(t){throw t}const $n=" ",cL="\r",Ut=`
`,lL=String.fromCharCode(8232),uL=String.fromCharCode(8233);function hL(t){const e=t;let n=0,r=1,s=1,i=0;const o=S=>e[S]===cL&&e[S+1]===Ut,a=S=>e[S]===Ut,c=S=>e[S]===uL,l=S=>e[S]===lL,u=S=>o(S)||a(S)||c(S)||l(S),h=()=>n,f=()=>r,m=()=>s,v=()=>i,E=S=>o(S)||c(S)||l(S)?Ut:e[S],w=()=>E(n),g=()=>E(n+i);function I(){return i=0,u(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function b(){return o(n+i)&&i++,i++,e[n+i]}function T(){n=0,r=1,s=1,i=0}function P(S=0){i=S}function O(){const S=n+i;for(;S!==n;)I();i=0}return{index:h,line:f,column:m,peekOffset:v,charAt:E,currentChar:w,currentPeek:g,next:I,peek:b,reset:T,resetPeek:P,skipToPeek:O}}const cr=void 0,fL=".",bg="'",dL="tokenizer";function pL(t,e={}){const n=e.location!==!1,r=hL(t),s=()=>r.index(),i=()=>nL(r.line(),r.column(),r.index()),o=i(),a=s(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function h(d,p,_,...A){const C=l();if(p.column+=_,p.offset+=_,u){const x=n?gh(C.startLoc,p):null,$=Ii(d,x,{domain:dL,args:A});u($)}}function f(d,p,_){d.endLoc=i(),d.currentType=p;const A={type:p};return n&&(A.loc=gh(d.startLoc,d.endLoc)),_!=null&&(A.value=_),A}const m=d=>f(d,14);function v(d,p){return d.currentChar()===p?(d.next(),p):(h(oe.EXPECTED_TOKEN,i(),0,p),"")}function E(d){let p="";for(;d.currentPeek()===$n||d.currentPeek()===Ut;)p+=d.currentPeek(),d.peek();return p}function w(d){const p=E(d);return d.skipToPeek(),p}function g(d){if(d===cr)return!1;const p=d.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p===95}function I(d){if(d===cr)return!1;const p=d.charCodeAt(0);return p>=48&&p<=57}function b(d,p){const{currentType:_}=p;if(_!==2)return!1;E(d);const A=g(d.currentPeek());return d.resetPeek(),A}function T(d,p){const{currentType:_}=p;if(_!==2)return!1;E(d);const A=d.currentPeek()==="-"?d.peek():d.currentPeek(),C=I(A);return d.resetPeek(),C}function P(d,p){const{currentType:_}=p;if(_!==2)return!1;E(d);const A=d.currentPeek()===bg;return d.resetPeek(),A}function O(d,p){const{currentType:_}=p;if(_!==8)return!1;E(d);const A=d.currentPeek()===".";return d.resetPeek(),A}function S(d,p){const{currentType:_}=p;if(_!==9)return!1;E(d);const A=g(d.currentPeek());return d.resetPeek(),A}function D(d,p){const{currentType:_}=p;if(!(_===8||_===12))return!1;E(d);const A=d.currentPeek()===":";return d.resetPeek(),A}function N(d,p){const{currentType:_}=p;if(_!==10)return!1;const A=()=>{const x=d.currentPeek();return x==="{"?g(d.peek()):x==="@"||x==="%"||x==="|"||x===":"||x==="."||x===$n||!x?!1:x===Ut?(d.peek(),A()):g(x)},C=A();return d.resetPeek(),C}function V(d){E(d);const p=d.currentPeek()==="|";return d.resetPeek(),p}function J(d){const p=E(d),_=d.currentPeek()==="%"&&d.peek()==="{";return d.resetPeek(),{isModulo:_,hasSpace:p.length>0}}function B(d,p=!0){const _=(C=!1,x="",$=!1)=>{const j=d.currentPeek();return j==="{"?x==="%"?!1:C:j==="@"||!j?x==="%"?!0:C:j==="%"?(d.peek(),_(C,"%",!0)):j==="|"?x==="%"||$?!0:!(x===$n||x===Ut):j===$n?(d.peek(),_(!0,$n,$)):j===Ut?(d.peek(),_(!0,Ut,$)):!0},A=_();return p&&d.resetPeek(),A}function se(d,p){const _=d.currentChar();return _===cr?cr:p(_)?(d.next(),_):null}function Re(d){return se(d,_=>{const A=_.charCodeAt(0);return A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===95||A===36})}function xe(d){return se(d,_=>{const A=_.charCodeAt(0);return A>=48&&A<=57})}function Z(d){return se(d,_=>{const A=_.charCodeAt(0);return A>=48&&A<=57||A>=65&&A<=70||A>=97&&A<=102})}function ye(d){let p="",_="";for(;p=xe(d);)_+=p;return _}function he(d){w(d);const p=d.currentChar();return p!=="%"&&h(oe.EXPECTED_TOKEN,i(),0,p),d.next(),"%"}function Ne(d){let p="";for(;;){const _=d.currentChar();if(_==="{"||_==="}"||_==="@"||_==="|"||!_)break;if(_==="%")if(B(d))p+=_,d.next();else break;else if(_===$n||_===Ut)if(B(d))p+=_,d.next();else{if(V(d))break;p+=_,d.next()}else p+=_,d.next()}return p}function tt(d){w(d);let p="",_="";for(;p=Re(d);)_+=p;return d.currentChar()===cr&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),_}function nt(d){w(d);let p="";return d.currentChar()==="-"?(d.next(),p+=`-${ye(d)}`):p+=ye(d),d.currentChar()===cr&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),p}function Xe(d){w(d),v(d,"'");let p="",_="";const A=x=>x!==bg&&x!==Ut;for(;p=se(d,A);)p==="\\"?_+=en(d):_+=p;const C=d.currentChar();return C===Ut||C===cr?(h(oe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),C===Ut&&(d.next(),v(d,"'")),_):(v(d,"'"),_)}function en(d){const p=d.currentChar();switch(p){case"\\":case"'":return d.next(),`\\${p}`;case"u":return Qt(d,p,4);case"U":return Qt(d,p,6);default:return h(oe.UNKNOWN_ESCAPE_SEQUENCE,i(),0,p),""}}function Qt(d,p,_){v(d,p);let A="";for(let C=0;C<_;C++){const x=Z(d);if(!x){h(oe.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${p}${A}${d.currentChar()}`);break}A+=x}return`\\${p}${A}`}function Vn(d){w(d);let p="",_="";const A=C=>C!=="{"&&C!=="}"&&C!==$n&&C!==Ut;for(;p=se(d,A);)_+=p;return _}function Je(d){let p="",_="";for(;p=Re(d);)_+=p;return _}function L(d){const p=(_=!1,A)=>{const C=d.currentChar();return C==="{"||C==="%"||C==="@"||C==="|"||C==="("||C===")"||!C||C===$n?A:C===Ut||C===fL?(A+=C,d.next(),p(_,A)):(A+=C,d.next(),p(!0,A))};return p(!1,"")}function K(d){w(d);const p=v(d,"|");return w(d),p}function q(d,p){let _=null;switch(d.currentChar()){case"{":return p.braceNest>=1&&h(oe.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),d.next(),_=f(p,2,"{"),w(d),p.braceNest++,_;case"}":return p.braceNest>0&&p.currentType===2&&h(oe.EMPTY_PLACEHOLDER,i(),0),d.next(),_=f(p,3,"}"),p.braceNest--,p.braceNest>0&&w(d),p.inLinked&&p.braceNest===0&&(p.inLinked=!1),_;case"@":return p.braceNest>0&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),_=z(d,p)||m(p),p.braceNest=0,_;default:let C=!0,x=!0,$=!0;if(V(d))return p.braceNest>0&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),_=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,_;if(p.braceNest>0&&(p.currentType===5||p.currentType===6||p.currentType===7))return h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),p.braceNest=0,ve(d,p);if(C=b(d,p))return _=f(p,5,tt(d)),w(d),_;if(x=T(d,p))return _=f(p,6,nt(d)),w(d),_;if($=P(d,p))return _=f(p,7,Xe(d)),w(d),_;if(!C&&!x&&!$)return _=f(p,13,Vn(d)),h(oe.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,_.value),w(d),_;break}return _}function z(d,p){const{currentType:_}=p;let A=null;const C=d.currentChar();switch((_===8||_===9||_===12||_===10)&&(C===Ut||C===$n)&&h(oe.INVALID_LINKED_FORMAT,i(),0),C){case"@":return d.next(),A=f(p,8,"@"),p.inLinked=!0,A;case".":return w(d),d.next(),f(p,9,".");case":":return w(d),d.next(),f(p,10,":");default:return V(d)?(A=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,A):O(d,p)||D(d,p)?(w(d),z(d,p)):S(d,p)?(w(d),f(p,12,Je(d))):N(d,p)?(w(d),C==="{"?q(d,p)||A:f(p,11,L(d))):(_===8&&h(oe.INVALID_LINKED_FORMAT,i(),0),p.braceNest=0,p.inLinked=!1,ve(d,p))}}function ve(d,p){let _={type:14};if(p.braceNest>0)return q(d,p)||m(p);if(p.inLinked)return z(d,p)||m(p);switch(d.currentChar()){case"{":return q(d,p)||m(p);case"}":return h(oe.UNBALANCED_CLOSING_BRACE,i(),0),d.next(),f(p,3,"}");case"@":return z(d,p)||m(p);default:if(V(d))return _=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,_;const{isModulo:C,hasSpace:x}=J(d);if(C)return x?f(p,0,Ne(d)):f(p,4,he(d));if(B(d))return f(p,0,Ne(d));break}return _}function y(){const{currentType:d,offset:p,startLoc:_,endLoc:A}=c;return c.lastType=d,c.lastOffset=p,c.lastStartLoc=_,c.lastEndLoc=A,c.offset=s(),c.startLoc=i(),r.currentChar()===cr?f(c,14):ve(r,c)}return{nextToken:y,currentOffset:s,currentPosition:i,context:l}}const mL="parser",gL=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function _L(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function yL(t={}){const e=t.location!==!1,{onError:n}=t;function r(g,I,b,T,...P){const O=g.currentPosition();if(O.offset+=T,O.column+=T,n){const S=e?gh(b,O):null,D=Ii(I,S,{domain:mL,args:P});n(D)}}function s(g,I,b){const T={type:g};return e&&(T.start=I,T.end=I,T.loc={start:b,end:b}),T}function i(g,I,b,T){T&&(g.type=T),e&&(g.end=I,g.loc&&(g.loc.end=b))}function o(g,I){const b=g.context(),T=s(3,b.offset,b.startLoc);return T.value=I,i(T,g.currentOffset(),g.currentPosition()),T}function a(g,I){const b=g.context(),{lastOffset:T,lastStartLoc:P}=b,O=s(5,T,P);return O.index=parseInt(I,10),g.nextToken(),i(O,g.currentOffset(),g.currentPosition()),O}function c(g,I){const b=g.context(),{lastOffset:T,lastStartLoc:P}=b,O=s(4,T,P);return O.key=I,g.nextToken(),i(O,g.currentOffset(),g.currentPosition()),O}function l(g,I){const b=g.context(),{lastOffset:T,lastStartLoc:P}=b,O=s(9,T,P);return O.value=I.replace(gL,_L),g.nextToken(),i(O,g.currentOffset(),g.currentPosition()),O}function u(g){const I=g.nextToken(),b=g.context(),{lastOffset:T,lastStartLoc:P}=b,O=s(8,T,P);return I.type!==12?(r(g,oe.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),O.value="",i(O,T,P),{nextConsumeToken:I,node:O}):(I.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,wn(I)),O.value=I.value||"",i(O,g.currentOffset(),g.currentPosition()),{node:O})}function h(g,I){const b=g.context(),T=s(7,b.offset,b.startLoc);return T.value=I,i(T,g.currentOffset(),g.currentPosition()),T}function f(g){const I=g.context(),b=s(6,I.offset,I.startLoc);let T=g.nextToken();if(T.type===9){const P=u(g);b.modifier=P.node,T=P.nextConsumeToken||g.nextToken()}switch(T.type!==10&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(T)),T=g.nextToken(),T.type===2&&(T=g.nextToken()),T.type){case 11:T.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(T)),b.key=h(g,T.value||"");break;case 5:T.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(T)),b.key=c(g,T.value||"");break;case 6:T.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(T)),b.key=a(g,T.value||"");break;case 7:T.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(T)),b.key=l(g,T.value||"");break;default:r(g,oe.UNEXPECTED_EMPTY_LINKED_KEY,I.lastStartLoc,0);const P=g.context(),O=s(7,P.offset,P.startLoc);return O.value="",i(O,P.offset,P.startLoc),b.key=O,i(b,P.offset,P.startLoc),{nextConsumeToken:T,node:b}}return i(b,g.currentOffset(),g.currentPosition()),{node:b}}function m(g){const I=g.context(),b=I.currentType===1?g.currentOffset():I.offset,T=I.currentType===1?I.endLoc:I.startLoc,P=s(2,b,T);P.items=[];let O=null;do{const N=O||g.nextToken();switch(O=null,N.type){case 0:N.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(N)),P.items.push(o(g,N.value||""));break;case 6:N.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(N)),P.items.push(a(g,N.value||""));break;case 5:N.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(N)),P.items.push(c(g,N.value||""));break;case 7:N.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,wn(N)),P.items.push(l(g,N.value||""));break;case 8:const V=f(g);P.items.push(V.node),O=V.nextConsumeToken||null;break}}while(I.currentType!==14&&I.currentType!==1);const S=I.currentType===1?I.lastOffset:g.currentOffset(),D=I.currentType===1?I.lastEndLoc:g.currentPosition();return i(P,S,D),P}function v(g,I,b,T){const P=g.context();let O=T.items.length===0;const S=s(1,I,b);S.cases=[],S.cases.push(T);do{const D=m(g);O||(O=D.items.length===0),S.cases.push(D)}while(P.currentType!==14);return O&&r(g,oe.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),i(S,g.currentOffset(),g.currentPosition()),S}function E(g){const I=g.context(),{offset:b,startLoc:T}=I,P=m(g);return I.currentType===14?P:v(g,b,T,P)}function w(g){const I=pL(g,tI({},t)),b=I.context(),T=s(0,b.offset,b.startLoc);return e&&T.loc&&(T.loc.source=g),T.body=E(I),t.onCacheKey&&(T.cacheKey=t.onCacheKey(g)),b.currentType!==14&&r(I,oe.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,g[b.offset]||""),i(T,I.currentOffset(),I.currentPosition()),T}return{parse:w}}function wn(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function vL(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function Rg(t,e){for(let n=0;n<t.length;n++)Pd(t[n],e)}function Pd(t,e){switch(t.type){case 1:Rg(t.cases,e),e.helper("plural");break;case 2:Rg(t.items,e);break;case 6:Pd(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function EL(t,e={}){const n=vL(t);n.helper("normalize"),t.body&&Pd(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function TL(t){const e=t.body;return e.type===2?Cg(e):e.cases.forEach(n=>Cg(n)),t}function Cg(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=nI(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const IL="minifier";function Os(t){switch(t.t=t.type,t.type){case 0:const e=t;Os(e.body),e.b=e.body,delete e.body;break;case 1:const n=t,r=n.cases;for(let u=0;u<r.length;u++)Os(r[u]);n.c=r,delete n.cases;break;case 2:const s=t,i=s.items;for(let u=0;u<i.length;u++)Os(i[u]);s.i=i,delete s.items,s.static&&(s.s=s.static,delete s.static);break;case 3:case 9:case 8:case 7:const o=t;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=t;Os(a.key),a.k=a.key,delete a.key,a.modifier&&(Os(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const c=t;c.i=c.index,delete c.index;break;case 4:const l=t;l.k=l.key,delete l.key;break;default:throw Ii(oe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:IL,args:[t.type]})}delete t.type}const wL="parser";function AL(t,e){const{sourceMap:n,filename:r,breakLineCode:s,needIndent:i}=e,o=e.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:i,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const c=()=>a;function l(w,g){a.code+=w}function u(w,g=!0){const I=g?s:"";l(i?I+"  ".repeat(w):I)}function h(w=!0){const g=++a.indentLevel;w&&u(g)}function f(w=!0){const g=--a.indentLevel;w&&u(g)}function m(){u(a.indentLevel)}return{context:c,push:l,indent:h,deindent:f,newline:m,helper:w=>`_${w}`,needIndent:()=>a.needIndent}}function bL(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),ii(t,e.key),e.modifier?(t.push(", "),ii(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function RL(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(ii(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function CL(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(ii(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function PL(t,e){e.body?ii(t,e.body):t.push("null")}function ii(t,e){const{helper:n}=t;switch(e.type){case 0:PL(t,e);break;case 1:CL(t,e);break;case 2:RL(t,e);break;case 6:bL(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Ii(oe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:wL,args:[e.type]})}}const SL=(t,e={})=>{const n=Ag(e.mode)?e.mode:"normal",r=Ag(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],c=AL(t,{mode:n,filename:r,sourceMap:s,breakLineCode:i,needIndent:o});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(o),a.length>0&&(c.push(`const { ${nI(a.map(h=>`${h}: _${h}`),", ")} } = ctx`),c.newline()),c.push("return "),ii(c,t),c.deindent(o),c.push("}"),delete t.helpers;const{code:l,map:u}=c.context();return{ast:t,code:l,map:u?u.toJSON():void 0}};function OL(t,e={}){const n=tI({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=yL(n).parse(t);return r?(i&&TL(a),s&&Os(a),{ast:a,code:""}):(EL(a,n),SL(a,n))}/*!
  * core-base v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function kL(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(jn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(jn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(jn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Br=[];Br[0]={w:[0],i:[3,0],"[":[4],o:[7]};Br[1]={w:[1],".":[2],"[":[4],o:[7]};Br[2]={w:[2],i:[3,0],0:[3,0]};Br[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Br[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Br[5]={"'":[4,0],o:8,l:[5,0]};Br[6]={'"':[4,0],o:8,l:[6,0]};const NL=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function DL(t){return NL.test(t)}function LL(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function ML(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function xL(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:DL(e)?LL(e):"*"+e}function FL(t){const e=[];let n=-1,r=0,s=0,i,o,a,c,l,u,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=xL(o),o===!1))return!1;f[1]()}};function m(){const v=t[n+1];if(r===5&&v==="'"||r===6&&v==='"')return n++,a="\\"+v,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&m())){if(c=ML(i),h=Br[r],l=h[c]||h.l||8,l===8||(r=l[0],l[1]!==void 0&&(u=f[l[1]],u&&(a=i,u()===!1))))return;if(r===7)return e}}const Pg=new Map;function VL(t,e){return De(t)?t[e]:null}function UL(t,e){if(!De(t))return null;let n=Pg.get(e);if(n||(n=FL(e),n&&Pg.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=s[n[i]];if(o===void 0||Ue(s))return null;s=o,i++}return s}const $L=t=>t,BL=t=>"",jL="text",qL=t=>t.length===0?"":eL(t),HL=Z1;function Sg(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function WL(t){const e=at(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(at(t.named.count)||at(t.named.n))?at(t.named.count)?t.named.count:at(t.named.n)?t.named.n:e:e}function KL(t,e){e.count||(e.count=t),e.n||(e.n=t)}function QL(t={}){const e=t.locale,n=WL(t),r=De(t.pluralRules)&&Q(e)&&Ue(t.pluralRules[e])?t.pluralRules[e]:Sg,s=De(t.pluralRules)&&Q(e)&&Ue(t.pluralRules[e])?Sg:void 0,i=g=>g[r(n,g.length,s)],o=t.list||[],a=g=>o[g],c=t.named||{};at(t.pluralIndex)&&KL(n,c);const l=g=>c[g];function u(g){const I=Ue(t.messages)?t.messages(g):De(t.messages)?t.messages[g]:!1;return I||(t.parent?t.parent.message(g):BL)}const h=g=>t.modifiers?t.modifiers[g]:$L,f=de(t.processor)&&Ue(t.processor.normalize)?t.processor.normalize:qL,m=de(t.processor)&&Ue(t.processor.interpolate)?t.processor.interpolate:HL,v=de(t.processor)&&Q(t.processor.type)?t.processor.type:jL,w={list:a,named:l,plural:i,linked:(g,...I)=>{const[b,T]=I;let P="text",O="";I.length===1?De(b)?(O=b.modifier||O,P=b.type||P):Q(b)&&(O=b||O):I.length===2&&(Q(b)&&(O=b||O),Q(T)&&(P=T||P));const S=u(g)(w),D=P==="vnode"&&We(S)&&O?S[0]:S;return O?h(O)(D,P):D},message:u,type:v,interpolate:m,normalize:f,values:Rt({},o,c)};return w}let ko=null;function GL(t){ko=t}function zL(t,e,n){ko&&ko.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const YL=XL("function:translate");function XL(t){return e=>ko&&ko.emit(t,e)}const JL={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8},rI=oe.__EXTEND_POINT__,Kr=Cd(rI),pn={INVALID_ARGUMENT:rI,INVALID_DATE_ARGUMENT:Kr(),INVALID_ISO_DATE_ARGUMENT:Kr(),NOT_SUPPORT_NON_STRING_MESSAGE:Kr(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Kr(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Kr(),NOT_SUPPORT_LOCALE_TYPE:Kr(),__EXTEND_POINT__:Kr()};function On(t){return Ii(t,null,void 0)}function Sd(t,e){return e.locale!=null?Og(e.locale):Og(t.locale)}let cu;function Og(t){if(Q(t))return t;if(Ue(t)){if(t.resolvedOnce&&cu!=null)return cu;if(t.constructor.name==="Function"){const e=t();if(J1(e))throw On(pn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return cu=e}else throw On(pn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw On(pn.NOT_SUPPORT_LOCALE_TYPE)}function ZL(t,e,n){return[...new Set([n,...We(e)?e:De(e)?Object.keys(e):Q(e)?[e]:[n]])]}function sI(t,e,n){const r=Q(n)?n:oi,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;We(o);)o=kg(i,o,e);const a=We(e)||!de(e)?e:e.default?e.default:null;o=Q(a)?[a]:a,We(o)&&kg(i,o,!1),s.__localeChainCache.set(r,i)}return i}function kg(t,e,n){let r=!0;for(let s=0;s<e.length&&Ee(r);s++){const i=e[s];Q(i)&&(r=eM(t,e[s],n))}return r}function eM(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=tM(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function tM(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(We(n)||de(n))&&n[s]&&(r=n[s])}return r}const nM="9.8.0",Pl=-1,oi="en-US",Ng="",Dg=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function rM(){return{upper:(t,e)=>e==="text"&&Q(t)?t.toUpperCase():e==="vnode"&&De(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Q(t)?t.toLowerCase():e==="vnode"&&De(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Q(t)?Dg(t):e==="vnode"&&De(t)&&"__v_isVNode"in t?Dg(t.children):t}}let iI;function Lg(t){iI=t}let oI;function sM(t){oI=t}let aI;function iM(t){aI=t}let cI=null;const oM=t=>{cI=t},aM=()=>cI;let lI=null;const Mg=t=>{lI=t},cM=()=>lI;let xg=0;function lM(t={}){const e=Ue(t.onWarn)?t.onWarn:tL,n=Q(t.version)?t.version:nM,r=Q(t.locale)||Ue(t.locale)?t.locale:oi,s=Ue(r)?oi:r,i=We(t.fallbackLocale)||de(t.fallbackLocale)||Q(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=de(t.messages)?t.messages:{[s]:{}},a=de(t.datetimeFormats)?t.datetimeFormats:{[s]:{}},c=de(t.numberFormats)?t.numberFormats:{[s]:{}},l=Rt({},t.modifiers||{},rM()),u=t.pluralRules||{},h=Ue(t.missing)?t.missing:null,f=Ee(t.missingWarn)||Dr(t.missingWarn)?t.missingWarn:!0,m=Ee(t.fallbackWarn)||Dr(t.fallbackWarn)?t.fallbackWarn:!0,v=!!t.fallbackFormat,E=!!t.unresolving,w=Ue(t.postTranslation)?t.postTranslation:null,g=de(t.processor)?t.processor:null,I=Ee(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter,T=Ue(t.messageCompiler)?t.messageCompiler:iI,P=Ue(t.messageResolver)?t.messageResolver:oI||VL,O=Ue(t.localeFallbacker)?t.localeFallbacker:aI||ZL,S=De(t.fallbackContext)?t.fallbackContext:void 0,D=t,N=De(D.__datetimeFormatters)?D.__datetimeFormatters:new Map,V=De(D.__numberFormatters)?D.__numberFormatters:new Map,J=De(D.__meta)?D.__meta:{};xg++;const B={version:n,cid:xg,locale:r,fallbackLocale:i,messages:o,modifiers:l,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:m,fallbackFormat:v,unresolving:E,postTranslation:w,processor:g,warnHtmlMessage:I,escapeParameter:b,messageCompiler:T,messageResolver:P,localeFallbacker:O,fallbackContext:S,onWarn:e,__meta:J};return B.datetimeFormats=a,B.numberFormats=c,B.__datetimeFormatters=N,B.__numberFormatters=V,__INTLIFY_PROD_DEVTOOLS__&&zL(B,n,J),B}function Od(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return Q(a)?a:e}else return e}function ki(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function lu(t){return n=>uM(n,t)}function uM(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const r=n,s=r.c||r.cases;return t.plural(s.reduce((i,o)=>[...i,Fg(t,o)],[]))}else return Fg(t,n)}function Fg(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const r=(e.i||e.items).reduce((s,i)=>[...s,_h(t,i)],[]);return t.normalize(r)}}function _h(t,e){const n=e.t||e.type;switch(n){case 3:const r=e;return r.v||r.value;case 9:const s=e;return s.v||s.value;case 4:const i=e;return t.interpolate(t.named(i.k||i.key));case 5:const o=e;return t.interpolate(t.list(o.i!=null?o.i:o.index));case 6:const a=e,c=a.m||a.modifier;return t.linked(_h(t,a.k||a.key),c?_h(t,c):void 0,t.type);case 7:const l=e;return l.v||l.value;case 8:const u=e;return u.v||u.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const uI=t=>t;let Ds=Object.create(null);const ai=t=>De(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function hI(t,e={}){let n=!1;const r=e.onError||aL;return e.onError=s=>{n=!0,r(s)},{...OL(t,e),detectError:n}}const hM=(t,e)=>{if(!Q(t))throw On(pn.NOT_SUPPORT_NON_STRING_MESSAGE);{Ee(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||uI)(t),s=Ds[r];if(s)return s;const{code:i,detectError:o}=hI(t,e),a=new Function(`return ${i}`)();return o?a:Ds[r]=a}};function fM(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Q(t)){Ee(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||uI)(t),s=Ds[r];if(s)return s;const{ast:i,detectError:o}=hI(t,{...e,location:!1,jit:!0}),a=lu(i);return o?a:Ds[r]=a}else{const n=t.cacheKey;if(n){const r=Ds[n];return r||(Ds[n]=lu(t))}else return lu(t)}}const Vg=()=>"",nn=t=>Ue(t);function Ug(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[c,l]=yh(...e),u=Ee(l.missingWarn)?l.missingWarn:t.missingWarn,h=Ee(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,f=Ee(l.escapeParameter)?l.escapeParameter:t.escapeParameter,m=!!l.resolvedMessage,v=Q(l.default)||Ee(l.default)?Ee(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:"",E=n||v!=="",w=Sd(t,l);f&&dM(l);let[g,I,b]=m?[c,w,a[w]||{}]:fI(t,c,w,o,h,u),T=g,P=c;if(!m&&!(Q(T)||ai(T)||nn(T))&&E&&(T=v,P=T),!m&&(!(Q(T)||ai(T)||nn(T))||!Q(I)))return s?Pl:c;let O=!1;const S=()=>{O=!0},D=nn(T)?T:dI(t,c,I,T,P,S);if(O)return T;const N=gM(t,I,b,l),V=QL(N),J=pM(t,D,V),B=r?r(J,c):J;if(__INTLIFY_PROD_DEVTOOLS__){const se={timestamp:Date.now(),key:Q(c)?c:nn(T)?T.key:"",locale:I||(nn(T)?T.locale:""),format:Q(T)?T:nn(T)?T.source:"",message:B};se.meta=Rt({},t.__meta,aM()||{}),YL(se)}return B}function dM(t){We(t.list)?t.list=t.list.map(e=>Q(e)?wg(e):e):De(t.named)&&Object.keys(t.named).forEach(e=>{Q(t.named[e])&&(t.named[e]=wg(t.named[e]))})}function fI(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,r,n);let h={},f,m=null;const v="translate";for(let E=0;E<u.length&&(f=u[E],h=o[f]||{},(m=c(h,e))===null&&(m=h[e]),!(Q(m)||ai(m)||nn(m)));E++){const w=Od(t,e,f,i,v);w!==e&&(m=w)}return[m,f,h]}function dI(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(nn(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||e,l}if(o==null){const l=()=>r;return l.locale=n,l.key=e,l}const c=o(r,mM(t,n,s,r,a,i));return c.locale=n,c.key=e,c.source=r,c}function pM(t,e,n){return e(n)}function yh(...t){const[e,n,r]=t,s={};if(!Q(e)&&!at(e)&&!nn(e)&&!ai(e))throw On(pn.INVALID_ARGUMENT);const i=at(e)?String(e):(nn(e),e);return at(n)?s.plural=n:Q(n)?s.default=n:de(n)&&!Cl(n)?s.named=n:We(n)&&(s.list=n),at(r)?s.plural=r:Q(r)?s.default=r:de(r)&&Rt(s,r),[i,s]}function mM(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>G1(e,n,o)}}function gM(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:m=>{let v=o(n,m);if(v==null&&u){const[,,E]=fI(u,m,e,a,c,l);v=o(E,m)}if(Q(v)||ai(v)){let E=!1;const g=dI(t,m,e,v,m,()=>{E=!0});return E?Vg:g}else return nn(v)?v:Vg}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),at(r.plural)&&(f.pluralIndex=r.plural),f}function $g(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,h]=vh(...e),f=Ee(u.missingWarn)?u.missingWarn:t.missingWarn;Ee(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const m=!!u.part,v=Sd(t,u),E=o(t,s,v);if(!Q(c)||c==="")return new Intl.DateTimeFormat(v,h).format(l);let w={},g,I=null;const b="datetime format";for(let O=0;O<E.length&&(g=E[O],w=n[g]||{},I=w[c],!de(I));O++)Od(t,c,g,f,b);if(!de(I)||!Q(g))return r?Pl:c;let T=`${g}__${c}`;Cl(h)||(T=`${T}__${JSON.stringify(h)}`);let P=a.get(T);return P||(P=new Intl.DateTimeFormat(g,Rt({},I,h)),a.set(T,P)),m?P.formatToParts(l):P.format(l)}const pI=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function vh(...t){const[e,n,r,s]=t,i={};let o={},a;if(Q(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw On(pn.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw On(pn.INVALID_ISO_DATE_ARGUMENT)}}else if(Y1(e)){if(isNaN(e.getTime()))throw On(pn.INVALID_DATE_ARGUMENT);a=e}else if(at(e))a=e;else throw On(pn.INVALID_ARGUMENT);return Q(n)?i.key=n:de(n)&&Object.keys(n).forEach(c=>{pI.includes(c)?o[c]=n[c]:i[c]=n[c]}),Q(r)?i.locale=r:de(r)&&(o=r),de(s)&&(o=s),[i.key||"",a,i,o]}function Bg(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function jg(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,h]=Eh(...e),f=Ee(u.missingWarn)?u.missingWarn:t.missingWarn;Ee(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const m=!!u.part,v=Sd(t,u),E=o(t,s,v);if(!Q(c)||c==="")return new Intl.NumberFormat(v,h).format(l);let w={},g,I=null;const b="number format";for(let O=0;O<E.length&&(g=E[O],w=n[g]||{},I=w[c],!de(I));O++)Od(t,c,g,f,b);if(!de(I)||!Q(g))return r?Pl:c;let T=`${g}__${c}`;Cl(h)||(T=`${T}__${JSON.stringify(h)}`);let P=a.get(T);return P||(P=new Intl.NumberFormat(g,Rt({},I,h)),a.set(T,P)),m?P.formatToParts(l):P.format(l)}const mI=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Eh(...t){const[e,n,r,s]=t,i={};let o={};if(!at(e))throw On(pn.INVALID_ARGUMENT);const a=e;return Q(n)?i.key=n:de(n)&&Object.keys(n).forEach(c=>{mI.includes(c)?o[c]=n[c]:i[c]=n[c]}),Q(r)?i.locale=r:de(r)&&(o=r),de(s)&&(o=s),[i.key||"",a,i,o]}function qg(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}kL();/*!
  * vue-i18n v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const _M="9.8.0";function yM(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(jn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(jn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(jn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(jn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(jn().__INTLIFY_PROD_DEVTOOLS__=!1)}const gI=JL.__EXTEND_POINT__,lr=Cd(gI);lr(),lr(),lr(),lr(),lr(),lr(),lr(),lr();const _I=pn.__EXTEND_POINT__,jt=Cd(_I),lt={UNEXPECTED_RETURN_TYPE:_I,INVALID_ARGUMENT:jt(),MUST_BE_CALL_SETUP_TOP:jt(),NOT_INSTALLED:jt(),NOT_AVAILABLE_IN_LEGACY_MODE:jt(),REQUIRED_VALUE:jt(),INVALID_VALUE:jt(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:jt(),NOT_INSTALLED_WITH_PROVIDE:jt(),UNEXPECTED_ERROR:jt(),NOT_COMPATIBLE_LEGACY_VUE_I18N:jt(),BRIDGE_SUPPORT_VUE_2_ONLY:jt(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:jt(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:jt(),__EXTEND_POINT__:jt()};function gt(t,...e){return Ii(t,null,void 0)}const Th=$r("__translateVNode"),Ih=$r("__datetimeParts"),wh=$r("__numberParts"),yI=$r("__setPluralRules"),vI=$r("__injectWithOption"),Ah=$r("__dispose");function No(t){if(!De(t))return t;for(const e in t)if(Oo(t,e))if(!e.includes("."))De(t[e])&&No(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]in s||(s[n[o]]={}),!De(s[n[o]])){i=!0;break}s=s[n[o]]}i||(s[n[r]]=t[e],delete t[e]),De(s[n[r]])&&No(s[n[r]])}return t}function Sl(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=de(n)?n:We(r)?{}:{[t]:{}};if(We(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},to(l,o[c])):to(l,o)}else Q(a)&&to(JSON.parse(a),o)}),s==null&&i)for(const a in o)Oo(o,a)&&No(o[a]);return o}function EI(t){return t.type}function TI(t,e,n){let r=De(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=Sl(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(De(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(De(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function Hg(t){return ae(Fo,null,t,0)}const Wg="__INTLIFY_META__",Kg=()=>[],vM=()=>!1;let Qg=0;function Gg(t){return(e,n,r,s)=>t(n,r,xn()||void 0,s)}const EM=()=>{const t=xn();let e=null;return t&&(e=EI(t)[Wg])?{[Wg]:e}:null};function kd(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,i=t.flatJson;let o=Ee(t.inheritLocale)?t.inheritLocale:!0;const a=Ge(n&&o?n.locale.value:Q(t.locale)?t.locale:oi),c=Ge(n&&o?n.fallbackLocale.value:Q(t.fallbackLocale)||We(t.fallbackLocale)||de(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),l=Ge(Sl(a.value,t)),u=Ge(de(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),h=Ge(de(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=n?n.missingWarn:Ee(t.missingWarn)||Dr(t.missingWarn)?t.missingWarn:!0,m=n?n.fallbackWarn:Ee(t.fallbackWarn)||Dr(t.fallbackWarn)?t.fallbackWarn:!0,v=n?n.fallbackRoot:Ee(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,w=Ue(t.missing)?t.missing:null,g=Ue(t.missing)?Gg(t.missing):null,I=Ue(t.postTranslation)?t.postTranslation:null,b=n?n.warnHtmlMessage:Ee(t.warnHtmlMessage)?t.warnHtmlMessage:!0,T=!!t.escapeParameter;const P=n?n.modifiers:de(t.modifiers)?t.modifiers:{};let O=t.pluralRules||n&&n.pluralRules,S;S=(()=>{s&&Mg(null);const R={version:_M,locale:a.value,fallbackLocale:c.value,messages:l.value,modifiers:P,pluralRules:O,missing:g===null?void 0:g,missingWarn:f,fallbackWarn:m,fallbackFormat:E,unresolving:!0,postTranslation:I===null?void 0:I,warnHtmlMessage:b,escapeParameter:T,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};R.datetimeFormats=u.value,R.numberFormats=h.value,R.__datetimeFormatters=de(S)?S.__datetimeFormatters:void 0,R.__numberFormatters=de(S)?S.__numberFormatters:void 0;const k=lM(R);return s&&Mg(k),k})(),ki(S,a.value,c.value);function N(){return[a.value,c.value,l.value,u.value,h.value]}const V=Fe({get:()=>a.value,set:R=>{a.value=R,S.locale=a.value}}),J=Fe({get:()=>c.value,set:R=>{c.value=R,S.fallbackLocale=c.value,ki(S,a.value,R)}}),B=Fe(()=>l.value),se=Fe(()=>u.value),Re=Fe(()=>h.value);function xe(){return Ue(I)?I:null}function Z(R){I=R,S.postTranslation=R}function ye(){return w}function he(R){R!==null&&(g=Gg(R)),w=R,S.missing=g}const Ne=(R,k,Y,ce,Te,Be)=>{N();let ht;try{__INTLIFY_PROD_DEVTOOLS__,s||(S.fallbackContext=n?cM():void 0),ht=R(S)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(S.fallbackContext=void 0)}if(Y!=="translate exists"&&at(ht)&&ht===Pl||Y==="translate exists"&&!ht){const[nr,Ol]=k();return n&&v?ce(n):Te(nr)}else{if(Be(ht))return ht;throw gt(lt.UNEXPECTED_RETURN_TYPE)}};function tt(...R){return Ne(k=>Reflect.apply(Ug,null,[k,...R]),()=>yh(...R),"translate",k=>Reflect.apply(k.t,k,[...R]),k=>k,k=>Q(k))}function nt(...R){const[k,Y,ce]=R;if(ce&&!De(ce))throw gt(lt.INVALID_ARGUMENT);return tt(k,Y,Rt({resolvedMessage:!0},ce||{}))}function Xe(...R){return Ne(k=>Reflect.apply($g,null,[k,...R]),()=>vh(...R),"datetime format",k=>Reflect.apply(k.d,k,[...R]),()=>Ng,k=>Q(k))}function en(...R){return Ne(k=>Reflect.apply(jg,null,[k,...R]),()=>Eh(...R),"number format",k=>Reflect.apply(k.n,k,[...R]),()=>Ng,k=>Q(k))}function Qt(R){return R.map(k=>Q(k)||at(k)||Ee(k)?Hg(String(k)):k)}const Je={normalize:Qt,interpolate:R=>R,type:"vnode"};function L(...R){return Ne(k=>{let Y;const ce=k;try{ce.processor=Je,Y=Reflect.apply(Ug,null,[ce,...R])}finally{ce.processor=null}return Y},()=>yh(...R),"translate",k=>k[Th](...R),k=>[Hg(k)],k=>We(k))}function K(...R){return Ne(k=>Reflect.apply(jg,null,[k,...R]),()=>Eh(...R),"number format",k=>k[wh](...R),Kg,k=>Q(k)||We(k))}function q(...R){return Ne(k=>Reflect.apply($g,null,[k,...R]),()=>vh(...R),"datetime format",k=>k[Ih](...R),Kg,k=>Q(k)||We(k))}function z(R){O=R,S.pluralRules=O}function ve(R,k){return Ne(()=>{if(!R)return!1;const Y=Q(k)?k:a.value,ce=p(Y),Te=S.messageResolver(ce,R);return ai(Te)||nn(Te)||Q(Te)},()=>[R],"translate exists",Y=>Reflect.apply(Y.te,Y,[R,k]),vM,Y=>Ee(Y))}function y(R){let k=null;const Y=sI(S,c.value,a.value);for(let ce=0;ce<Y.length;ce++){const Te=l.value[Y[ce]]||{},Be=S.messageResolver(Te,R);if(Be!=null){k=Be;break}}return k}function d(R){const k=y(R);return k??(n?n.tm(R)||{}:{})}function p(R){return l.value[R]||{}}function _(R,k){if(i){const Y={[R]:k};for(const ce in Y)Oo(Y,ce)&&No(Y[ce]);k=Y[R]}l.value[R]=k,S.messages=l.value}function A(R,k){l.value[R]=l.value[R]||{};const Y={[R]:k};for(const ce in Y)Oo(Y,ce)&&No(Y[ce]);k=Y[R],to(k,l.value[R]),S.messages=l.value}function C(R){return u.value[R]||{}}function x(R,k){u.value[R]=k,S.datetimeFormats=u.value,Bg(S,R,k)}function $(R,k){u.value[R]=Rt(u.value[R]||{},k),S.datetimeFormats=u.value,Bg(S,R,k)}function j(R){return h.value[R]||{}}function U(R,k){h.value[R]=k,S.numberFormats=h.value,qg(S,R,k)}function ee(R,k){h.value[R]=Rt(h.value[R]||{},k),S.numberFormats=h.value,qg(S,R,k)}Qg++,n&&mh&&(cn(n.locale,R=>{o&&(a.value=R,S.locale=R,ki(S,a.value,c.value))}),cn(n.fallbackLocale,R=>{o&&(c.value=R,S.fallbackLocale=R,ki(S,a.value,c.value))}));const H={id:Qg,locale:V,fallbackLocale:J,get inheritLocale(){return o},set inheritLocale(R){o=R,R&&n&&(a.value=n.locale.value,c.value=n.fallbackLocale.value,ki(S,a.value,c.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:B,get modifiers(){return P},get pluralRules(){return O||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(R){f=R,S.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(R){m=R,S.fallbackWarn=m},get fallbackRoot(){return v},set fallbackRoot(R){v=R},get fallbackFormat(){return E},set fallbackFormat(R){E=R,S.fallbackFormat=E},get warnHtmlMessage(){return b},set warnHtmlMessage(R){b=R,S.warnHtmlMessage=R},get escapeParameter(){return T},set escapeParameter(R){T=R,S.escapeParameter=R},t:tt,getLocaleMessage:p,setLocaleMessage:_,mergeLocaleMessage:A,getPostTranslationHandler:xe,setPostTranslationHandler:Z,getMissingHandler:ye,setMissingHandler:he,[yI]:z};return H.datetimeFormats=se,H.numberFormats=Re,H.rt=nt,H.te=ve,H.tm=d,H.d=Xe,H.n=en,H.getDateTimeFormat=C,H.setDateTimeFormat=x,H.mergeDateTimeFormat=$,H.getNumberFormat=j,H.setNumberFormat=U,H.mergeNumberFormat=ee,H[vI]=r,H[Th]=L,H[Ih]=q,H[wh]=K,H}function TM(t){const e=Q(t.locale)?t.locale:oi,n=Q(t.fallbackLocale)||We(t.fallbackLocale)||de(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Ue(t.missing)?t.missing:void 0,s=Ee(t.silentTranslationWarn)||Dr(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=Ee(t.silentFallbackWarn)||Dr(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ee(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=de(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=Ue(t.postTranslation)?t.postTranslation:void 0,h=Q(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,m=Ee(t.sync)?t.sync:!0;let v=t.messages;if(de(t.sharedMessages)){const P=t.sharedMessages;v=Object.keys(P).reduce((S,D)=>{const N=S[D]||(S[D]={});return Rt(N,P[D]),S},v||{})}const{__i18n:E,__root:w,__injectWithOption:g}=t,I=t.datetimeFormats,b=t.numberFormats,T=t.flatJson;return{locale:e,fallbackLocale:n,messages:v,flatJson:T,datetimeFormats:I,numberFormats:b,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:m,__i18n:E,__root:w,__injectWithOption:g}}function bh(t={},e){{const n=kd(TM(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return Ee(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=Ee(i)?!i:i},get silentFallbackWarn(){return Ee(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=Ee(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,c]=i,l={};let u=null,h=null;if(!Q(o))throw gt(lt.INVALID_ARGUMENT);const f=o;return Q(a)?l.locale=a:We(a)?u=a:de(a)&&(h=a),We(c)?u=c:de(c)&&(h=c),Reflect.apply(n.t,n,[f,u||h||{},l])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,c]=i,l={plural:1};let u=null,h=null;if(!Q(o))throw gt(lt.INVALID_ARGUMENT);const f=o;return Q(a)?l.locale=a:at(a)?l.plural=a:We(a)?u=a:de(a)&&(h=a),Q(c)?l.locale=c:We(c)?u=c:de(c)&&(h=c),Reflect.apply(n.t,n,[f,u||h||{},l])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return s.__extender=r,s}}const Nd={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function IM({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===et?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},{})}function II(t){return et}const wM=Mo({name:"i18n-t",props:Rt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>at(t)||!isNaN(t)}},Nd),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||wi({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(h=>h!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Q(t.plural)?+t.plural:t.plural);const a=IM(e,i),c=s[Th](t.keypath,a,o),l=Rt({},r),u=Q(t.tag)||De(t.tag)?t.tag:II();return Vo(u,l,c)}}}),zg=wM;function AM(t){return We(t)&&!Q(t[0])}function wI(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),Q(t.format)?o.key=t.format:De(t.format)&&(Q(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,m)=>n.includes(m)?Rt({},f,{[m]:t.format[m]}):f,{}));const c=r(t.value,o,a);let l=[o.key];We(c)?l=c.map((f,m)=>{const v=s[f.type],E=v?v({[f.type]:f.value,index:m,parts:c}):[f.value];return AM(E)&&(E[0].key=`${f.type}-${m}`),E}):Q(c)&&(l=[c]);const u=Rt({},i),h=Q(t.tag)||De(t.tag)?t.tag:II();return Vo(h,u,l)}}const bM=Mo({name:"i18n-n",props:Rt({value:{type:Number,required:!0},format:{type:[String,Object]}},Nd),setup(t,e){const n=t.i18n||wi({useScope:"parent",__useComponent:!0});return wI(t,e,mI,(...r)=>n[wh](...r))}}),Yg=bM,RM=Mo({name:"i18n-d",props:Rt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Nd),setup(t,e){const n=t.i18n||wi({useScope:"parent",__useComponent:!0});return wI(t,e,pI,(...r)=>n[Ih](...r))}}),Xg=RM;function CM(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function PM(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw gt(lt.UNEXPECTED_ERROR);const u=CM(t,a.$),h=Jg(l);return[Reflect.apply(u.t,u,[...Zg(h)]),u]};return{created:(o,a)=>{const[c,l]=e(a);mh&&t.global===l&&(o.__i18nWatcher=cn(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{mh&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=Jg(a);o.textContent=Reflect.apply(c.t,c,[...Zg(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function Jg(t){if(Q(t))return{path:t};if(de(t)){if(!("path"in t))throw gt(lt.REQUIRED_VALUE,"path");return t}else throw gt(lt.INVALID_VALUE)}function Zg(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return Q(n)&&(o.locale=n),at(s)&&(o.plural=s),at(i)&&(o.plural=i),[e,a,o]}function SM(t,e,...n){const r=de(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Ee(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":zg.name,"I18nT"].forEach(o=>t.component(o,zg)),[Yg.name,"I18nN"].forEach(o=>t.component(o,Yg)),[Xg.name,"I18nD"].forEach(o=>t.component(o,Xg))),t.directive("t",PM(e))}function OM(t,e,n){return{beforeCreate(){const r=xn();if(!r)throw gt(lt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=e_(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=bh(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=e_(t,s);else{this.$i18n=bh({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&TI(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=xn();if(!r)throw gt(lt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function e_(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[yI](e.pluralizationRules||t.pluralizationRules);const n=Sl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const kM=$r("global-vue-i18n");function NM(t={},e){const n=__VUE_I18N_LEGACY_API__&&Ee(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Ee(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,i=new Map,[o,a]=DM(t,n),c=$r("");function l(f){return i.get(f)||null}function u(f,m){i.set(f,m)}function h(f){i.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(m,...v){if(m.__VUE_I18N_SYMBOL__=c,m.provide(m.__VUE_I18N_SYMBOL__,f),de(v[0])){const g=v[0];f.__composerExtend=g.__composerExtend,f.__vueI18nExtend=g.__vueI18nExtend}let E=null;!n&&r&&(E=jM(m,f.global)),__VUE_I18N_FULL_INSTALL__&&SM(m,f,...v),__VUE_I18N_LEGACY_API__&&n&&m.mixin(OM(a,a.__composer,f));const w=m.unmount;m.unmount=()=>{E&&E(),f.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:l,__setInstance:u,__deleteInstance:h};return f}}function wi(t={}){const e=xn();if(e==null)throw gt(lt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw gt(lt.NOT_INSTALLED);const n=LM(e),r=xM(n),s=EI(e),i=MM(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw gt(lt.NOT_AVAILABLE_IN_LEGACY_MODE);return $M(e,i,r,t)}if(i==="global")return TI(r,t,s),r;if(i==="parent"){let c=FM(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(e);if(a==null){const c=Rt({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=kd(c),o.__composerExtend&&(a[Ah]=o.__composerExtend(a)),UM(o,e,a),o.__setInstance(e,a)}return a}function DM(t,e,n){const r=Oh();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>bh(t)):r.run(()=>kd(t));if(s==null)throw gt(lt.UNEXPECTED_ERROR);return[r,s]}}function LM(t){{const e=ln(t.isCE?kM:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw gt(t.isCE?lt.NOT_INSTALLED_WITH_PROVIDE:lt.UNEXPECTED_ERROR);return e}}function MM(t,e){return Cl(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function xM(t){return t.mode==="composition"?t.global:t.global.__composer}function FM(t,e,n=!1){let r=null;const s=e.root;let i=VM(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[vI]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function VM(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function UM(t,e,n){xo(()=>{},e),Kh(()=>{const r=n;t.__deleteInstance(e);const s=r[Ah];s&&(s(),delete r[Ah])},e)}function $M(t,e,n,r={}){const s=e==="local",i=$h(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw gt(lt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Ee(r.inheritLocale)?r.inheritLocale:!Q(r.locale),a=Ge(!s||o?n.locale.value:Q(r.locale)?r.locale:oi),c=Ge(!s||o?n.fallbackLocale.value:Q(r.fallbackLocale)||We(r.fallbackLocale)||de(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),l=Ge(Sl(a.value,r)),u=Ge(de(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),h=Ge(de(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:Ee(r.missingWarn)||Dr(r.missingWarn)?r.missingWarn:!0,m=s?n.fallbackWarn:Ee(r.fallbackWarn)||Dr(r.fallbackWarn)?r.fallbackWarn:!0,v=s?n.fallbackRoot:Ee(r.fallbackRoot)?r.fallbackRoot:!0,E=!!r.fallbackFormat,w=Ue(r.missing)?r.missing:null,g=Ue(r.postTranslation)?r.postTranslation:null,I=s?n.warnHtmlMessage:Ee(r.warnHtmlMessage)?r.warnHtmlMessage:!0,b=!!r.escapeParameter,T=s?n.modifiers:de(r.modifiers)?r.modifiers:{},P=r.pluralRules||s&&n.pluralRules;function O(){return[a.value,c.value,l.value,u.value,h.value]}const S=Fe({get:()=>i.value?i.value.locale.value:a.value,set:p=>{i.value&&(i.value.locale.value=p),a.value=p}}),D=Fe({get:()=>i.value?i.value.fallbackLocale.value:c.value,set:p=>{i.value&&(i.value.fallbackLocale.value=p),c.value=p}}),N=Fe(()=>i.value?i.value.messages.value:l.value),V=Fe(()=>u.value),J=Fe(()=>h.value);function B(){return i.value?i.value.getPostTranslationHandler():g}function se(p){i.value&&i.value.setPostTranslationHandler(p)}function Re(){return i.value?i.value.getMissingHandler():w}function xe(p){i.value&&i.value.setMissingHandler(p)}function Z(p){return O(),p()}function ye(...p){return i.value?Z(()=>Reflect.apply(i.value.t,null,[...p])):Z(()=>"")}function he(...p){return i.value?Reflect.apply(i.value.rt,null,[...p]):""}function Ne(...p){return i.value?Z(()=>Reflect.apply(i.value.d,null,[...p])):Z(()=>"")}function tt(...p){return i.value?Z(()=>Reflect.apply(i.value.n,null,[...p])):Z(()=>"")}function nt(p){return i.value?i.value.tm(p):{}}function Xe(p,_){return i.value?i.value.te(p,_):!1}function en(p){return i.value?i.value.getLocaleMessage(p):{}}function Qt(p,_){i.value&&(i.value.setLocaleMessage(p,_),l.value[p]=_)}function Vn(p,_){i.value&&i.value.mergeLocaleMessage(p,_)}function Je(p){return i.value?i.value.getDateTimeFormat(p):{}}function L(p,_){i.value&&(i.value.setDateTimeFormat(p,_),u.value[p]=_)}function K(p,_){i.value&&i.value.mergeDateTimeFormat(p,_)}function q(p){return i.value?i.value.getNumberFormat(p):{}}function z(p,_){i.value&&(i.value.setNumberFormat(p,_),h.value[p]=_)}function ve(p,_){i.value&&i.value.mergeNumberFormat(p,_)}const y={get id(){return i.value?i.value.id:-1},locale:S,fallbackLocale:D,messages:N,datetimeFormats:V,numberFormats:J,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(p){i.value&&(i.value.inheritLocale=p)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(l.value)},get modifiers(){return i.value?i.value.modifiers:T},get pluralRules(){return i.value?i.value.pluralRules:P},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:f},set missingWarn(p){i.value&&(i.value.missingWarn=p)},get fallbackWarn(){return i.value?i.value.fallbackWarn:m},set fallbackWarn(p){i.value&&(i.value.missingWarn=p)},get fallbackRoot(){return i.value?i.value.fallbackRoot:v},set fallbackRoot(p){i.value&&(i.value.fallbackRoot=p)},get fallbackFormat(){return i.value?i.value.fallbackFormat:E},set fallbackFormat(p){i.value&&(i.value.fallbackFormat=p)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:I},set warnHtmlMessage(p){i.value&&(i.value.warnHtmlMessage=p)},get escapeParameter(){return i.value?i.value.escapeParameter:b},set escapeParameter(p){i.value&&(i.value.escapeParameter=p)},t:ye,getPostTranslationHandler:B,setPostTranslationHandler:se,getMissingHandler:Re,setMissingHandler:xe,rt:he,d:Ne,n:tt,tm:nt,te:Xe,getLocaleMessage:en,setLocaleMessage:Qt,mergeLocaleMessage:Vn,getDateTimeFormat:Je,setDateTimeFormat:L,mergeDateTimeFormat:K,getNumberFormat:q,setNumberFormat:z,mergeNumberFormat:ve};function d(p){p.locale.value=a.value,p.fallbackLocale.value=c.value,Object.keys(l.value).forEach(_=>{p.mergeLocaleMessage(_,l.value[_])}),Object.keys(u.value).forEach(_=>{p.mergeDateTimeFormat(_,u.value[_])}),Object.keys(h.value).forEach(_=>{p.mergeNumberFormat(_,h.value[_])}),p.escapeParameter=b,p.fallbackFormat=E,p.fallbackRoot=v,p.fallbackWarn=m,p.missingWarn=f,p.warnHtmlMessage=I}return F_(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw gt(lt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const p=i.value=t.proxy.$i18n.__composer;e==="global"?(a.value=p.locale.value,c.value=p.fallbackLocale.value,l.value=p.messages.value,u.value=p.datetimeFormats.value,h.value=p.numberFormats.value):s&&d(p)}),y}const BM=["locale","fallbackLocale","availableLocales"],t_=["t","rt","d","n","tm","te"];function jM(t,e){const n=Object.create(null);return BM.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw gt(lt.UNEXPECTED_ERROR);const o=$e(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,t_.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw gt(lt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,t_.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}yM();__INTLIFY_JIT_COMPILATION__?Lg(fM):Lg(hM);sM(UL);iM(sI);if(__INTLIFY_PROD_DEVTOOLS__){const t=jn();t.__INTLIFY__=!0,GL(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const qM={class:"ml-64 color px-10 pt-10 flex items-center justify-end"},HM={class:"flex items-center gap-6"},WM={key:0,src:XT,alt:"sun"},KM={key:1,src:JT,alt:"moon",class:"w-7 h-7"},QM=["src"],GM={key:0,class:"flex flex-col"},zM={__name:"HeaderDefault",setup(t){const e=Rd(),n=QT(e),r=Kt();function s(c,l){return Math.floor(c+Math.random()*(l+1-c))}const{locale:i}=wi({useScope:"global"}),o=()=>{i.value="ua"},a=()=>{i.value="en"};return(c,l)=>{const u=hi("router-link");return me(),ke("div",qM,[ie("div",HM,[ie("div",null,[ie("button",{class:"p-3 border-r-2",onClick:o},"UA"),ie("button",{class:"p-3",onClick:a},"EN")]),ie("button",{onClick:l[0]||(l[0]=h=>Se(n)())},[Se(e)?(me(),ke("img",WM)):(me(),ke("img",KM))]),ae(u,{to:""},{default:Tt(()=>[ie("img",{src:`./svg/avatars/${s(1,10)}-avatar.svg`,class:"w-10",alt:"user"},null,8,QM)]),_:1}),Se(r).currentUser?(me(),ke("div",GM,[ae(u,{to:""},{default:Tt(()=>[on(Qe(Se(r).currentUser.username),1)]),_:1}),ae(u,{to:"",class:"text-light-gray"},{default:Tt(()=>[on(Qe(Se(r).currentUser.jobTitle),1)]),_:1})])):mA("",!0)])])}}},YM={__name:"LayoutDefault",setup(t){return(e,n)=>(me(),ke(et,null,[ae(Q1),ae(zM),jw(e.$slots,"default")],64))}},XM={class:"bg-white dark:bg-dark-bg-black px-32 text-lg w-full fixed top-0 left-0"},JM={class:"flex justify-between p-5"},ZM=ie("img",{src:wd,alt:"logo"},null,-1),ex=ie("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),tx={class:"flex gap-11 items-center"},nx={key:0,src:XT,alt:"sun"},rx={key:1,src:JT,alt:"moon",class:"w-7 h-7"},sx={class:"h-screen pt-52 w-96 m-auto text-center"},ix={class:"text-5xl mb-6"},ox={class:"block text-lg mb-6"},ax={__name:"HomeDefault",setup(t){const e=Rd(),n=QT(e),{locale:r}=wi({useScope:"global"}),s=()=>{r.value="ua",localStorage.setItem("lang",r.value)},i=()=>{r.value="en",localStorage.setItem("lang",r.value)};return(o,a)=>{const c=hi("router-link");return me(),ke(et,null,[ie("div",XM,[ie("nav",JM,[ae(c,{to:{name:"home"},class:"flex gap-3 items-center"},{default:Tt(()=>[ZM,ex]),_:1}),ie("div",tx,[ie("div",null,[ie("button",{class:"p-3 border-r-2",onClick:s},"UA"),ie("button",{class:"p-3",onClick:i},"EN")]),ie("button",{onClick:a[0]||(a[0]=l=>Se(n)())},[Se(e)?(me(),ke("img",nx)):(me(),ke("img",rx))]),ae(c,{to:{name:"login"},class:"p-2 hover:opacity-70 underline"},{default:Tt(()=>[on(Qe(o.$t("buttons.logIn")),1)]),_:1}),ae(c,{to:{name:"signup"},class:"flex justify-center items-center gap-5 text-white h-10 bg-black dark:bg-white dark:text-black px-2 rounded-lg hover:bg-blue-600 hover:text-black dark:hover:hover:bg-blue-600 dark:hover:text-black"},{default:Tt(()=>[on(Qe(o.$t("buttons.getStarted")),1)]),_:1})])])]),ie("div",sx,[ie("h1",ix,Qe(o.$t("titles.titleHome")),1),ie("span",ox,Qe(o.$t("texts.textHome")),1),ae(c,{to:{name:"signup"},class:"flex justify-center items-center gap-5 text-white text-lg bg-black p-2 rounded-lg hover:bg-blue-600 hover:text-black w-40 m-auto"},{default:Tt(()=>[on(Qe(o.$t("buttons.getStarted")),1)]),_:1})])],64)}}};function Dd(){const t=aa();return cf({queryKey:["tasks"],queryFn:VN,onError:()=>{t.addNotification("error","Error loading tasks!")}})}const cx={class:"block text-2xl mb-3"},lx={class:"block break-words mb-7"},ux={class:"block mb-3"},hx={class:"py-1 px-3 rounded-2xl bg-emerald-400 dark:bg-emerald-900 text-sm"},fx={class:"block"},dx={__name:"TasksHome",setup(t){const{data:e}=Dd(),n=Kt();return(r,s)=>{const i=hi("router-link");return me(),sn(i,{to:{name:"tasks"},class:"flex [&>*:first-child]:ml-0"},{default:Tt(()=>[(me(!0),ke(et,null,Qh(Se(e),o=>(me(),ke("div",{class:"h-48 w-64 -ml-16 border border-light-gray border-l-4 border-l-zinc-400 rounded-xl bg-white dark:bg-dark-bg-black p-4 flex flex-col justify-between gap-3",key:o.id},[ie("div",null,[ie("span",cx,Qe(o.name),1),ie("span",lx,Qe(o.description),1),ie("span",ux,[on(Qe(r.$t("tasks.createdBy"))+" ",1),ie("span",hx,Qe(o.createdByUsername),1)]),ie("span",fx,[on(Qe(r.$t("tasks.assignedTo"))+" ",1),ie("span",{class:Er(["py-1 px-3 rounded-2xl text-sm",[{"bg-emerald-400":o.assignedToId===Se(n).currentUser.uid,"dark:bg-emerald-900":o.assignedToId===Se(n).currentUser.uid,"bg-lime-300":o.assignedToId!==Se(n).currentUser.uid,"dark:bg-lime-800":o.assignedToId!==Se(n).currentUser.uid}]])},Qe(o.assignedToUsername),3)])])]))),128))]),_:1})}}};function AI(){const t=aa();return cf({queryKey:["team"],queryFn:UN,onError:()=>{t.addNotification("error","Error getting team members!")}})}const px={class:"flex justify-between items-center"},mx={class:"block mb-6"},gx=["src"],_x={class:"block text-sm text-light-gray"},yx={__name:"TeamHome",setup(t){const{data:e}=AI();function n(r,s){return Math.floor(r+Math.random()*(s+1-r))}return(r,s)=>{const i=hi("router-link");return me(),sn(i,{to:{name:"team"},class:"flex [&>*:first-child]:ml-0"},{default:Tt(()=>[(me(!0),ke(et,null,Qh(Se(e),o=>(me(),ke("div",{key:o.uid,class:"-ml-20 border-2 border-emerald-500 rounded-xl w-52 bg-white dark:bg-dark-bg-black dark:border-zinc-400 p-3"},[ie("div",px,[ie("span",mx,Qe(o.username),1),ie("img",{src:`/svg/avatars/${n(1,10)}-avatar.svg`,alt:"avatar",class:"w-12"},null,8,gx)]),ie("span",_x,Qe(o.jobTitle),1)]))),128))]),_:1})}}},vx={class:"ml-64 mt-20 mb-40 px-5"},Ex={class:"text-3xl mb-8"},Tx={class:"ml-64 px-5"},Ix={class:"text-3xl mb-8"},wx={__name:"HomeMain",setup(t){const{data:e}=Dd(),{data:n}=AI();return(r,s)=>{var i,o;return me(),ke(et,null,[ie("div",vx,[ie("h1",Ex,Qe(r.$t("titles.tasksLength"))+" "+Qe((i=Se(e))==null?void 0:i.length),1),ae(dx)]),ie("div",Tx,[ie("h1",Ix,Qe(r.$t("titles.teamLength"))+" "+Qe((o=Se(n))==null?void 0:o.length),1),ae(yx)])],64)}}},Ax={},bx={class:"bg-gradient-to-r from-zinc-300 animate-pulse rounded-lg"};function Rx(t,e){return me(),ke("div",bx,"")}const Kn=OT(Ax,[["render",Rx]]),Cx={class:"h-48 w-64 border -ml-16 border-light-gray border-l-4 border-l-zinc-400 rounded-xl bg-white dark:bg-dark-bg-black p-4 flex flex-col justify-between gap-3"},Oa={__name:"TasksHomeSceleton",setup(t){return(e,n)=>(me(),ke("div",Cx,[ie("div",null,[ae(Kn,{class:"w-40 h-10 mb-3"}),ae(Kn,{class:"max-w-[90%] mb-3"}),ae(Kn,{class:"max-w-[50%] h-7 mb-1"}),ae(Kn,{class:"max-w-[50%] h-7"})])]))}},Px={class:"border-2 border-zinc-300 rounded-xl w-52 bg-white dark:bg-dark-bg-black dark:border-zinc-400 p-3"},Sx={class:"flex justify-between items-center"},ka={__name:"MemberSceleton",setup(t){return(e,n)=>(me(),ke("div",Px,[ie("div",Sx,[ae(Kn,{class:"h-7 w-24"}),ae(Kn,{class:"h-12 w-12 rounded-full"})]),ae(Kn,{class:"w-36 h-7"})]))}},Ox={class:"ml-64 mt-20 mb-40 px-5"},kx={class:"flex [&>*:first-child]:ml-0"},Nx={class:"ml-64 px-5"},Dx={class:"flex [&>*:first-child]:ml-0"},Lx={__name:"HomeMainSceleton",setup(t){return(e,n)=>(me(),ke(et,null,[ie("div",Ox,[ae(Kn,{class:"w-40 h-10 mb-5"}),ie("div",kx,[ae(Oa),ae(Oa),ae(Oa),ae(Oa)])]),ie("div",Nx,[ae(Kn,{class:"w-40 h-10 mb-5"}),ie("div",Dx,[ae(ka,{class:"-mb-20"}),ae(ka,{class:"-mb-20"}),ae(ka,{class:"-mb-20"}),ae(ka,{class:"-mb-20"})])])],64))}},Mx={__name:"HomeView",setup(t){const{isLoading:e}=Dd(),n=Kt();return(r,s)=>(me(),ke("div",null,[Se(n).currentUser?(me(),sn(YM,{key:0},{default:Tt(()=>[Se(e)?(me(),sn(Lx,{key:0})):(me(),sn(wx,{key:1}))]),_:1})):(me(),sn(ax,{key:1}))]))}},Ld=o1({history:ID("/task-manager"),routes:[{path:"/",name:"home",component:Mx},{path:"/login",name:"login",component:()=>Ra(()=>import("./LogIn-dee52f1d.js"),[])},{path:"/signup",name:"signup",component:()=>Ra(()=>import("./SignUp-9e4a2666.js"),[])},{path:"/tasks",name:"tasks",component:()=>Ra(()=>import("./TasksView-369b9f6c.js"),["assets/TasksView-369b9f6c.js","assets/TasksView-5666f5c5.css"]),meta:{requiresAuth:!0}},{path:"/team",name:"team",component:()=>Ra(()=>import("./TeamView-339339d2.js"),[]),meta:{requiresAuth:!0}}]});Ld.beforeEach((t,e,n)=>{if(t.matched.some(r=>r.meta.requiresAuth)&&!wt.currentUser){n("/");return}n()});const xx={titleHome:"The best platform for cross-functional work",newTasks:"New tasks",inProgress:"In Progress",completed:"Completed",team:"Team members",noTask:"You don't have any tasks yet",noTeam:"You don't have any team members yet",tasksLength:"Your tasks : ",teamLength:"Your team members : ",noSearchTask:"Can't find any task matches "},Fx={textHome:"Want more efficiency in your organization? Taskie is easy for all teams to use, so you can deliver quality work, faster.",textLogIn:"Don't have an account?",selectJob:"Please select your job title:",textSignUp:"Already have an account?",selectMember:"Select a team member"},Vx={getStarted:"Get started",logIn:"Log In",signUp:"Sign Up",addNew:"Add New",add:"Add",cancel:"Cancel",confirm:"Confirm",edit:"Edit",inProgress:"In Progress",complete:"Complete",assign:"Assign to:"},Ux={email:"Input your email address",password:"Input your password",createPassword:"Create your password",username:"Create your username",search:"Search",taskName:"Write a task name",taskDescription:"Write a task description",taskEndDate:"Select task's end date",changeEndDate:"Change task's end date",confirmPassword:"Confirm your password"},$x={home:"Home",tasks:"My tasks",team:"Team",settings:"Settings",logOut:"Log Out"},Bx={markNew:"New",markInProgress:"In Progress",markCompleted:"Completed",createdBy:"Created By:",assignedTo:"Assigned to:",creationDate:"Creation Date:",endDate:"End Date:"},jx={titles:xx,texts:Fx,buttons:Vx,placeholders:Ux,sidebar:$x,tasks:Bx},qx={titleHome:"    ",newTasks:" ",inProgress:" ",completed:"",team:" ",noTask:"  ",noTeam:"   ",tasksLength:"   : ",teamLength:"  : ",noSearchTask:"  ,      "},Hx={textHome:"     ? Taskie      ,       .",textLogIn:"  ?",selectJob:"  :",textSignUp:"  ?",selectMember:"  "},Wx={getStarted:"",logIn:"",signUp:"",addNew:"  ",add:"",cancel:"",confirm:"",edit:"",inProgress:" ",complete:"",assign:" :"},Kx={email:"  email",password:"  ",createPassword:"  ",username:"  ",search:"",taskName:" ",taskDescription:" ",taskEndDate:"   ",changeEndDate:"   ",confirmPassword:"  "},Qx={home:" ",tasks:" ",team:"",settings:"",logOut:""},Gx={markNew:" ",markInProgress:" ",markCompleted:"",createdBy:":",assignedTo:" :",creationDate:":",endDate:""},zx={titles:qx,texts:Hx,buttons:Wx,placeholders:Kx,sidebar:Qx,tasks:Gx},Yx="eu",Xx={en:jx,ua:zx},Jx=Object.assign(Xx),Zx=localStorage.getItem("lang"),eF=NM({legacy:!1,locale:Zx||Yx,fallbackLocale:"en",messages:Jx}),ca=eb(nD,{setup(){const{t}=wi();return{t}}});ca.use(eF);ca.use(rb());ca.use(Ld);ca.use(xb);ca.mount("#app");export{hF as $,Hs as A,ln as B,La as C,Lo as D,IF as E,et as F,Qh as G,cF as H,Ru as I,Mo as J,iF as K,pw as L,xo as M,Kh as N,sF as O,jw as P,tF as Q,pA as R,gA as S,sn as T,nF as U,hA as V,mA as W,Zh as X,Er as Y,Vo as Z,wd as _,aa as a,uF as a0,Lc as a1,xw as a2,oF as a3,kh as a4,xc as a5,EF as a6,ST as a7,AF as a8,wF as a9,HT as aa,_1 as ab,ri as ac,jT as ad,I1 as ae,qT as af,yF as ag,vF as ah,OT as ai,Rd as aj,YN as ak,mF as al,gF as am,_F as an,Kt as ao,AI as ap,Dd as aq,Kn as ar,YM as as,Vb as b,Ge as c,hi as d,ke as e,ie as f,ae as g,lF as h,rF as i,on as j,xn as k,TF as l,F_ as m,cn as n,me as o,$e as p,zn as q,Ld as r,V_ as s,Qe as t,af as u,aF as v,Tt as w,Fe as x,Se as y,Ir as z};
