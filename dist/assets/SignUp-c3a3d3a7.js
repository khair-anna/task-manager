import{n as Ee,r as k,p as Oe,q as S,x as W,y as N,z as _e,A as v,B as $,C as je,D as Pe,E as Y,G as ee,H as te,u as Ce,a as Ve,o as w,c as R,b as x,d as re,w as ne,e as Te,f as A,v as I,F as C,I as T,t as E,J as Ae,g as Le,_ as ze,K as Se,h as L,i as Ie,j as se,l as Ue,L as De,k as Ne,m as Fe}from"./index-1b7fe851.js";function ae(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function _(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ae(Object(r),!0).forEach(function(t){Be(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Be(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function le(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((r,t)=>(n.includes(t)||(r[t]=$(e[t])),r),{})}function D(e){return typeof e=="function"}function Ge(e){return je(e)||Pe(e)}function $e(e,n,r){let t=e;const a=n.split(".");for(let c=0;c<a.length;c++){if(!t[a[c]])return r;t=t[a[c]]}return t}function q(e,n,r){return v(()=>e.some(t=>$e(n,t,{[r]:!1})[r]))}function oe(e,n,r){return v(()=>e.reduce((t,a)=>{const c=$e(n,a,{[r]:!1})[r]||[];return t.concat(c)},[]))}function fe(e,n,r,t){return e.call(t,$(n),$(r),t)}function me(e){return e.$valid!==void 0?!e.$valid:!e}function Me(e,n,r,t,a,c,g){let{$lazy:o,$rewardEarly:u}=a,i=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],l=arguments.length>8?arguments[8]:void 0,m=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const p=k(!!t.value),s=k(0);r.value=!1;const f=S([n,t].concat(i,h),()=>{if(o&&!t.value||u&&!m.value&&!r.value)return;let d;try{d=fe(e,n,l,g)}catch(y){d=Promise.reject(y)}s.value++,r.value=!!s.value,p.value=!1,Promise.resolve(d).then(y=>{s.value--,r.value=!!s.value,c.value=y,p.value=me(y)}).catch(y=>{s.value--,r.value=!!s.value,c.value=y,p.value=!0})},{immediate:!0,deep:typeof n=="object"});return{$invalid:p,$unwatch:f}}function qe(e,n,r,t,a,c,g,o){let{$lazy:u,$rewardEarly:i}=t;const l=()=>({}),m=v(()=>{if(u&&!r.value||i&&!o.value)return!1;let h=!0;try{const p=fe(e,n,g,c);a.value=p,h=me(p)}catch(p){a.value=p}return h});return{$unwatch:l,$invalid:m}}function We(e,n,r,t,a,c,g,o,u,i,l){const m=k(!1),h=e.$params||{},p=k(null);let s,f;e.$async?{$invalid:s,$unwatch:f}=Me(e.$validator,n,m,r,t,p,a,e.$watchTargets,u,i,l):{$invalid:s,$unwatch:f}=qe(e.$validator,n,r,t,p,a,u,i);const d=e.$message;return{$message:D(d)?v(()=>d(le({$pending:m,$invalid:s,$params:le(h),$model:n,$response:p,$validator:c,$propertyPath:o,$property:g}))):d||"",$params:h,$pending:m,$invalid:s,$response:p,$unwatch:f}}function He(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=$(e),r=Object.keys(n),t={},a={},c={};let g=null;return r.forEach(o=>{const u=n[o];switch(!0){case D(u.$validator):t[o]=u;break;case D(u):t[o]={$validator:u};break;case o==="$validationGroups":g=u;break;case o.startsWith("$"):c[o]=u;break;default:a[o]=u}}),{rules:t,nestedValidators:a,config:c,validationGroups:g}}const Je="__root";function Ke(e,n,r,t,a,c,g,o,u){const i=Object.keys(e),l=t.get(a,e),m=k(!1),h=k(!1),p=k(0);if(l){if(!l.$partial)return l;l.$unwatch(),m.value=l.$dirty.value}const s={$dirty:m,$path:a,$touch:()=>{m.value||(m.value=!0)},$reset:()=>{m.value&&(m.value=!1)},$commit:()=>{}};return i.length?(i.forEach(f=>{s[f]=We(e[f],n,s.$dirty,c,g,f,r,a,u,h,p)}),s.$externalResults=v(()=>o.value?[].concat(o.value).map((f,d)=>({$propertyPath:a,$property:r,$validator:"$externalResults",$uid:`${a}-externalResult-${d}`,$message:f,$params:{},$response:null,$pending:!1})):[]),s.$invalid=v(()=>{const f=i.some(d=>$(s[d].$invalid));return h.value=f,!!s.$externalResults.value.length||f}),s.$pending=v(()=>i.some(f=>$(s[f].$pending))),s.$error=v(()=>s.$dirty.value?s.$pending.value||s.$invalid.value:!1),s.$silentErrors=v(()=>i.filter(f=>$(s[f].$invalid)).map(f=>{const d=s[f];return N({$propertyPath:a,$property:r,$validator:f,$uid:`${a}-${f}`,$message:d.$message,$params:d.$params,$response:d.$response,$pending:d.$pending})}).concat(s.$externalResults.value)),s.$errors=v(()=>s.$dirty.value?s.$silentErrors.value:[]),s.$unwatch=()=>i.forEach(f=>{s[f].$unwatch()}),s.$commit=()=>{h.value=!0,p.value=Date.now()},t.set(a,e,s),s):(l&&t.set(a,e,s),s)}function Ze(e,n,r,t,a,c,g){const o=Object.keys(e);return o.length?o.reduce((u,i)=>(u[i]=H({validations:e[i],state:n,key:i,parentKey:r,resultsCache:t,globalConfig:a,instance:c,externalResults:g}),u),{}):{}}function Xe(e,n,r){const t=v(()=>[n,r].filter(s=>s).reduce((s,f)=>s.concat(Object.values($(f))),[])),a=v({get(){return e.$dirty.value||(t.value.length?t.value.every(s=>s.$dirty):!1)},set(s){e.$dirty.value=s}}),c=v(()=>{const s=$(e.$silentErrors)||[],f=t.value.filter(d=>($(d).$silentErrors||[]).length).reduce((d,y)=>d.concat(...y.$silentErrors),[]);return s.concat(f)}),g=v(()=>{const s=$(e.$errors)||[],f=t.value.filter(d=>($(d).$errors||[]).length).reduce((d,y)=>d.concat(...y.$errors),[]);return s.concat(f)}),o=v(()=>t.value.some(s=>s.$invalid)||$(e.$invalid)||!1),u=v(()=>t.value.some(s=>$(s.$pending))||$(e.$pending)||!1),i=v(()=>t.value.some(s=>s.$dirty)||t.value.some(s=>s.$anyDirty)||a.value),l=v(()=>a.value?u.value||o.value:!1),m=()=>{e.$touch(),t.value.forEach(s=>{s.$touch()})},h=()=>{e.$commit(),t.value.forEach(s=>{s.$commit()})},p=()=>{e.$reset(),t.value.forEach(s=>{s.$reset()})};return t.value.length&&t.value.every(s=>s.$dirty)&&m(),{$dirty:a,$errors:g,$invalid:o,$anyDirty:i,$error:l,$pending:u,$touch:m,$reset:p,$silentErrors:c,$commit:h}}function H(e){let{validations:n,state:r,key:t,parentKey:a,childResults:c,resultsCache:g,globalConfig:o={},instance:u,externalResults:i}=e;const l=a?`${a}.${t}`:t,{rules:m,nestedValidators:h,config:p,validationGroups:s}=He(n),f=_(_({},o),p),d=t?v(()=>{const b=$(r);return b?$(b[t]):void 0}):r,y=_({},$(i)||{}),K=v(()=>{const b=$(i);return t?b?$(b[t]):void 0:b}),Z=Ke(m,d,t,g,l,f,u,K,r),j=Ze(h,d,l,g,f,u,K),X={};s&&Object.entries(s).forEach(b=>{let[P,O]=b;X[P]={$invalid:q(O,j,"$invalid"),$error:q(O,j,"$error"),$pending:q(O,j,"$pending"),$errors:oe(O,j,"$errors"),$silentErrors:oe(O,j,"$silentErrors")}});const{$dirty:F,$errors:ge,$invalid:B,$anyDirty:ve,$error:he,$pending:G,$touch:M,$reset:ye,$silentErrors:be,$commit:Q}=Xe(Z,j,c),xe=t?v({get:()=>$(d),set:b=>{F.value=!0;const P=$(r),O=$(i);O&&(O[t]=y[t]),W(P[t])?P[t].value=b:P[t]=b}}):null;t&&f.$autoDirty&&S(d,()=>{F.value||M();const b=$(i);b&&(b[t]=y[t])},{flush:"sync"});async function we(){return M(),f.$rewardEarly&&(Q(),await te()),await te(),new Promise(b=>{if(!G.value)return b(!B.value);const P=S(G,()=>{b(!B.value),P()})})}function Re(b){return(c.value||{})[b]}function ke(){W(i)?i.value=y:Object.keys(y).length===0?Object.keys(i).forEach(b=>{delete i[b]}):Object.assign(i,y)}return N(_(_(_({},Z),{},{$model:xe,$dirty:F,$error:he,$errors:ge,$invalid:B,$anyDirty:ve,$pending:G,$touch:M,$reset:ye,$path:l||Je,$silentErrors:be,$validate:we,$commit:Q},c&&{$getResultsForChild:Re,$clearExternalResults:ke,$validationGroups:X}),j))}class Qe{constructor(){this.storage=new Map}set(n,r,t){this.storage.set(n,{rules:r,result:t})}checkRulesValidity(n,r,t){const a=Object.keys(t),c=Object.keys(r);return c.length!==a.length||!c.every(o=>a.includes(o))?!1:c.every(o=>r[o].$params?Object.keys(r[o].$params).every(u=>$(t[o].$params[u])===$(r[o].$params[u])):!0)}get(n,r){const t=this.storage.get(n);if(!t)return;const{rules:a,result:c}=t,g=this.checkRulesValidity(n,r,a),o=c.$unwatch?c.$unwatch:()=>({});return g?c:{$dirty:c.$dirty,$partial:!0,$unwatch:o}}}const U={COLLECT_ALL:!0,COLLECT_NONE:!1},ie=Symbol("vuelidate#injectChildResults"),ue=Symbol("vuelidate#removeChildResults");function Ye(e){let{$scope:n,instance:r}=e;const t={},a=k([]),c=v(()=>a.value.reduce((l,m)=>(l[m]=$(t[m]),l),{}));function g(l,m){let{$registerAs:h,$scope:p,$stopPropagation:s}=m;s||n===U.COLLECT_NONE||p===U.COLLECT_NONE||n!==U.COLLECT_ALL&&n!==p||(t[h]=l,a.value.push(h))}r.__vuelidateInjectInstances=[].concat(r.__vuelidateInjectInstances||[],g);function o(l){a.value=a.value.filter(m=>m!==l),delete t[l]}r.__vuelidateRemoveInstances=[].concat(r.__vuelidateRemoveInstances||[],o);const u=Y(ie,[]);ee(ie,r.__vuelidateInjectInstances);const i=Y(ue,[]);return ee(ue,r.__vuelidateRemoveInstances),{childResults:c,sendValidationResultsToParent:u,removeValidationResultsFromParent:i}}function pe(e){return new Proxy(e,{get(n,r){return typeof n[r]=="object"?pe(n[r]):v(()=>n[r])}})}let ce=0;function et(e,n){var r;let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(t=e,e=void 0,n=void 0);let{$registerAs:a,$scope:c=U.COLLECT_ALL,$stopPropagation:g,$externalResults:o,currentVueInstance:u}=t;const i=u||((r=Ee())===null||r===void 0?void 0:r.proxy),l=i?i.$options:{};a||(ce+=1,a=`_vuelidate_${ce}`);const m=k({}),h=new Qe,{childResults:p,sendValidationResultsToParent:s,removeValidationResultsFromParent:f}=i?Ye({$scope:c,instance:i}):{childResults:k({})};if(!e&&l.validations){const d=l.validations;n=k({}),Oe(()=>{n.value=i,S(()=>D(d)?d.call(n.value,new pe(n.value)):d,y=>{m.value=H({validations:y,state:n,childResults:p,resultsCache:h,globalConfig:t,instance:i,externalResults:o||i.vuelidateExternalResults})},{immediate:!0})}),t=l.validationsConfig||t}else{const d=W(e)||Ge(e)?e:N(e||{});S(d,y=>{m.value=H({validations:y,state:n,childResults:p,resultsCache:h,globalConfig:t,instance:i??{},externalResults:o})},{immediate:!0})}return i&&(s.forEach(d=>d(m,{$registerAs:a,$scope:c,$stopPropagation:g})),_e(()=>f.forEach(d=>d(a)))),v(()=>_(_({},$(m.value)),p.value))}const J=e=>{if(e=$(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let n in e)return!0;return!1}return!!String(e).length},tt=e=>(e=$(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function V(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=>(t=$(t),!J(t)||n.every(a=>(a.lastIndex=0,a.test(t))))}V(/^[a-zA-Z]*$/);V(/^[a-zA-Z0-9]*$/);V(/^\d*(\.\d+)?$/);const rt=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var nt=V(rt),st={$validator:nt,$message:"Value is not a valid email address",$params:{type:"email"}};function at(e){return n=>!J(n)||tt(n)>=$(e)}function de(e){return{$validator:at(e),$message:n=>{let{$params:r}=n;return`This field should be at least ${r.min} characters long`},$params:{min:e,type:"minLength"}}}function lt(e){return typeof e=="string"&&(e=e.trim()),J(e)}var z={$validator:lt,$message:"Value is required",$params:{type:"required"}};function ot(e){return n=>$(n)===$(e)}function it(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"other";return{$validator:ot(e),$message:r=>`The value must be equal to the ${n} value`,$params:{equalTo:e,otherName:n,type:"sameAs"}}}const ut=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;V(ut);V(/(^[0-9]*$)|(^-[0-9]+$)/);V(/^[-]?\d*(\.\d+)?$/);const ct={class:"pl-32 pt-7"},dt=x("img",{src:ze,alt:"logo"},null,-1),$t=x("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),ft={class:"flex flex-col items-center justify-center h-screen -mt-7"},mt=["placeholder"],pt=["placeholder"],gt=["placeholder"],vt=["placeholder"],ht={class:"dark:text-zinc-400"},yt={disabled:""},bt={type:"submit",class:"border-2 rounded-lg mx-auto text-xl bg-main-blue py-1 px-2 text-black dark:text-zinc-200 dark:border-0"},xt={class:"mt-10 block text-center"},wt={class:"block pb-3 dark:text-zinc-400"},kt={__name:"SignUp",setup(e){const n=k(["BackEnd developer","FrontEnd developer","HR manager","Office manager","Project Manager","Security specialist","UI/UX"]),r=N({username:"",email:"",password:"",confirmPassword:"",jobTitle:""}),t=v(()=>({username:{required:z,minLength:de(4)},email:{required:z,email:st},password:{required:z,minLength:de(8)},confirmPassword:{required:z,sameAs:it(r.password)},jobTitle:{required:z}})),a=et(t,r),c=Ce(),g=async o=>{if(await a.value.$validate()){const{email:i,password:l,username:m,jobTitle:h}=o;try{await Se(L,i,l);const p=Ie(se,"users",L.currentUser.uid);c.userTasksCollection=Ue(se,`users/${L.currentUser.uid}/tasks`),await De(p,{username:m,jobTitle:h});const s=await Ne(p);c.setUser({uid:L.currentUser.uid,email:L.currentUser.email,username:s.data().username,jobTitle:s.data().jobTitle})}catch(p){switch(p.code){case"auth/email-already-in-use":alert("Email already in use");break;case"auth/invalid-email":alert("Invalid email");break;case"auth/operation-not-allowed":alert("Operation not allowed");break;case"auth/weak-password":alert("Weak password");break;default:console.log(p.message)}return}Fe.push("/")}};return(o,u)=>{const i=Ve("router-link");return w(),R(C,null,[x("div",ct,[re(i,{to:{name:"home"},class:"flex gap-3 items-center"},{default:ne(()=>[dt,$t]),_:1})]),x("div",ft,[x("form",{onSubmit:u[5]||(u[5]=Te(l=>g(r),["prevent"])),class:"flex flex-col gap-5"},[A(x("input",{type:"text",name:"name",placeholder:o.$t("placeholders.username"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":u[0]||(u[0]=l=>r.username=l)},null,8,mt),[[I,r.username]]),(w(!0),R(C,null,T($(a).username.$errors,l=>(w(),R("span",{key:l.$uid,class:"text-sm text-red-600 -mt-5"},E(l.$message),1))),128)),A(x("input",{name:"email",placeholder:o.$t("placeholders.email"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":u[1]||(u[1]=l=>r.email=l)},null,8,pt),[[I,r.email]]),(w(!0),R(C,null,T($(a).email.$errors,l=>(w(),R("span",{key:l.$uid,class:"text-sm text-red-600 -mt-5"},E(l.$message),1))),128)),A(x("input",{name:"password",type:"password",placeholder:o.$t("placeholders.createPassword"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":u[2]||(u[2]=l=>r.password=l)},null,8,gt),[[I,r.password]]),(w(!0),R(C,null,T($(a).password.$errors,l=>(w(),R("span",{key:l.$uid,class:"text-sm text-red-600 -mt-5"},E(l.$message),1))),128)),A(x("input",{name:"password",type:"password",placeholder:o.$t("placeholders.confirmPassword"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":u[3]||(u[3]=l=>r.confirmPassword=l)},null,8,vt),[[I,r.confirmPassword]]),(w(!0),R(C,null,T($(a).confirmPassword.$errors,l=>(w(),R("span",{key:l.$uid,class:"text-sm text-red-600 -mt-5"},E(l.$message),1))),128)),x("label",ht,E(o.$t("texts.selectJob")),1),A(x("select",{"onUpdate:modelValue":u[4]||(u[4]=l=>r.jobTitle=l),class:"dark:bg-dark-bg-black"},[x("option",yt,E(o.$t("texts.selectJob")),1),(w(!0),R(C,null,T(n.value,(l,m)=>(w(),R("option",{key:m},E(l),1))),128))],512),[[Ae,r.jobTitle]]),(w(!0),R(C,null,T($(a).jobTitle.$errors,l=>(w(),R("span",{key:l.$uid,class:"text-sm text-red-600 -mt-5"},E(l.$message),1))),128)),x("button",bt,E(o.$t("buttons.signUp")),1)],32),x("div",xt,[x("span",wt,E(o.$t("texts.textSignUp")),1),re(i,{to:{name:"login"},class:"underline text-lg dark:text-zinc-300"},{default:ne(()=>[Le(E(o.$t("buttons.logIn")),1)]),_:1})])])],64)}}};export{kt as default};
