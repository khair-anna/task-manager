(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ph(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const je={},Os=[],un=()=>{},RI=()=>!1,CI=/^on[^a-z]/,Sc=t=>CI.test(t),Sh=t=>t.startsWith("onUpdate:"),ut=Object.assign,Oh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},PI=Object.prototype.hasOwnProperty,Pe=(t,e)=>PI.call(t,e),te=Array.isArray,ks=t=>ko(t)==="[object Map]",Oc=t=>ko(t)==="[object Set]",Md=t=>ko(t)==="[object Date]",fe=t=>typeof t=="function",ze=t=>typeof t=="string",$s=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",kh=t=>(Ve(t)||fe(t))&&fe(t.then)&&fe(t.catch),Zg=Object.prototype.toString,ko=t=>Zg.call(t),SI=t=>ko(t).slice(8,-1),e_=t=>ko(t)==="[object Object]",Nh=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Na=Ph(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},OI=/-(\w)/g,kn=kc(t=>t.replace(OI,(e,n)=>n?n.toUpperCase():"")),kI=/\B([A-Z])/g,fs=kc(t=>t.replace(kI,"-$1").toLowerCase()),Nc=kc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sl=kc(t=>t?`on${Nc(t)}`:""),ss=(t,e)=>!Object.is(t,e),Da=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ka=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Qa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},t_=t=>{const e=ze(t)?Number(t):NaN;return isNaN(e)?t:e};let xd;const lu=()=>xd||(xd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Dc(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ze(r)?MI(r):Dc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ze(t)||Ve(t))return t}const NI=/;(?![^(]*\))/g,DI=/:([^]+)/,LI=/\/\*[^]*?\*\//g;function MI(t){const e={};return t.replace(LI,"").split(NI).forEach(n=>{if(n){const r=n.split(DI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function No(t){let e="";if(ze(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const r=No(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Bx(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ze(e)&&(t.class=No(e)),n&&(t.style=Dc(n)),t}const xI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",FI=Ph(xI);function n_(t){return!!t||t===""}function VI(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Lc(t[r],e[r]);return n}function Lc(t,e){if(t===e)return!0;let n=Md(t),r=Md(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=$s(t),r=$s(e),n||r)return t===e;if(n=te(t),r=te(e),n||r)return n&&r?VI(t,e):!1;if(n=Ve(t),r=Ve(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Lc(t[o],e[o]))return!1}}return String(t)===String(e)}function UI(t,e){return t.findIndex(n=>Lc(n,e))}const Ge=t=>ze(t)?t:t==null?"":te(t)||Ve(t)&&(t.toString===Zg||!fe(t.toString))?JSON.stringify(t,r_,2):String(t),r_=(t,e)=>e&&e.__v_isRef?r_(t,e.value):ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Oc(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!te(e)&&!e_(e)?String(e):e;let Qt;class s_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qt,!e&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Qt;try{return Qt=this,e()}finally{Qt=n}}}on(){Qt=this}off(){Qt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Dh(t){return new s_(t)}function $I(t,e=Qt){e&&e.active&&e.effects.push(t)}function Lh(){return Qt}function Mc(t){Qt&&Qt.cleanups.push(t)}const Mh=t=>{const e=new Set(t);return e.w=0,e.n=0,e},i_=t=>(t.w&br)>0,o_=t=>(t.n&br)>0,BI=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=br},jI=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];i_(s)&&!o_(s)?s.delete(t):e[n++]=s,s.w&=~br,s.n&=~br}e.length=n}},Ga=new WeakMap;let Si=0,br=1;const uu=30;let cn;const es=Symbol(""),hu=Symbol("");class xh{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$I(this,r)}run(){if(!this.active)return this.fn();let e=cn,n=gr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=cn,cn=this,gr=!0,br=1<<++Si,Si<=uu?BI(this):Fd(this),this.fn()}finally{Si<=uu&&jI(this),br=1<<--Si,cn=this.parent,gr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cn===this?this.deferStop=!0:this.active&&(Fd(this),this.onStop&&this.onStop(),this.active=!1)}}function Fd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let gr=!0;const a_=[];function ii(){a_.push(gr),gr=!1}function oi(){const t=a_.pop();gr=t===void 0?!0:t}function qt(t,e,n){if(gr&&cn){let r=Ga.get(t);r||Ga.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Mh()),c_(s)}}function c_(t,e){let n=!1;Si<=uu?o_(t)||(t.n|=br,n=!i_(t)):n=!t.has(cn),n&&(t.add(cn),cn.deps.push(t))}function jn(t,e,n,r,s,i){const o=Ga.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&te(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!$s(u)&&u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":te(t)?Nh(n)&&a.push(o.get("length")):(a.push(o.get(es)),ks(t)&&a.push(o.get(hu)));break;case"delete":te(t)||(a.push(o.get(es)),ks(t)&&a.push(o.get(hu)));break;case"set":ks(t)&&a.push(o.get(es));break}if(a.length===1)a[0]&&fu(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);fu(Mh(c))}}function fu(t,e){const n=te(t)?t:[...t];for(const r of n)r.computed&&Vd(r);for(const r of n)r.computed||Vd(r)}function Vd(t,e){(t!==cn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function qI(t,e){var n;return(n=Ga.get(t))==null?void 0:n.get(e)}const HI=Ph("__proto__,__v_isRef,__isVue"),l_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($s)),Ud=WI();function WI(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ce(this);for(let i=0,o=this.length;i<o;i++)qt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(Ce)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ii();const r=Ce(this)[e].apply(this,n);return oi(),r}}),t}function KI(t){const e=Ce(this);return qt(e,"has",t),e.hasOwnProperty(t)}class u_{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?iw:p_:i?d_:f_).get(e))return e;const o=te(e);if(!s){if(o&&Pe(Ud,n))return Reflect.get(Ud,n,r);if(n==="hasOwnProperty")return KI}const a=Reflect.get(e,n,r);return($s(n)?l_.has(n):HI(n))||(s||qt(e,"get",n),i)?a:$e(a)?o&&Nh(n)?a:a.value:Ve(a)?s?ai(a):Hn(a):a}}class h_ extends u_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(Bs(i)&&$e(i)&&!$e(r))return!1;if(!this._shallow&&(!za(r)&&!Bs(r)&&(i=Ce(i),r=Ce(r)),!te(e)&&$e(i)&&!$e(r)))return i.value=r,!0;const o=te(e)&&Nh(n)?Number(n)<e.length:Pe(e,n),a=Reflect.set(e,n,r,s);return e===Ce(s)&&(o?ss(r,i)&&jn(e,"set",n,r):jn(e,"add",n,r)),a}deleteProperty(e,n){const r=Pe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&jn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!$s(n)||!l_.has(n))&&qt(e,"has",n),r}ownKeys(e){return qt(e,"iterate",te(e)?"length":es),Reflect.ownKeys(e)}}class QI extends u_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const GI=new h_,zI=new QI,YI=new h_(!0),Fh=t=>t,xc=t=>Reflect.getPrototypeOf(t);function ca(t,e,n=!1,r=!1){t=t.__v_raw;const s=Ce(t),i=Ce(e);n||(ss(e,i)&&qt(s,"get",e),qt(s,"get",i));const{has:o}=xc(s),a=r?Fh:n?$h:Zi;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function la(t,e=!1){const n=this.__v_raw,r=Ce(n),s=Ce(t);return e||(ss(t,s)&&qt(r,"has",t),qt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ua(t,e=!1){return t=t.__v_raw,!e&&qt(Ce(t),"iterate",es),Reflect.get(t,"size",t)}function $d(t){t=Ce(t);const e=Ce(this);return xc(e).has.call(e,t)||(e.add(t),jn(e,"add",t,t)),this}function Bd(t,e){e=Ce(e);const n=Ce(this),{has:r,get:s}=xc(n);let i=r.call(n,t);i||(t=Ce(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?ss(e,o)&&jn(n,"set",t,e):jn(n,"add",t,e),this}function jd(t){const e=Ce(this),{has:n,get:r}=xc(e);let s=n.call(e,t);s||(t=Ce(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&jn(e,"delete",t,void 0),i}function qd(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&jn(t,"clear",void 0,void 0),n}function ha(t,e){return function(r,s){const i=this,o=i.__v_raw,a=Ce(o),c=e?Fh:t?$h:Zi;return!t&&qt(a,"iterate",es),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function fa(t,e,n){return function(...r){const s=this.__v_raw,i=Ce(s),o=ks(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?Fh:e?$h:Zi;return!e&&qt(i,"iterate",c?hu:es),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Jn(t){return function(...e){return t==="delete"?!1:this}}function XI(){const t={get(i){return ca(this,i)},get size(){return ua(this)},has:la,add:$d,set:Bd,delete:jd,clear:qd,forEach:ha(!1,!1)},e={get(i){return ca(this,i,!1,!0)},get size(){return ua(this)},has:la,add:$d,set:Bd,delete:jd,clear:qd,forEach:ha(!1,!0)},n={get(i){return ca(this,i,!0)},get size(){return ua(this,!0)},has(i){return la.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:ha(!0,!1)},r={get(i){return ca(this,i,!0,!0)},get size(){return ua(this,!0)},has(i){return la.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:ha(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=fa(i,!1,!1),n[i]=fa(i,!0,!1),e[i]=fa(i,!1,!0),r[i]=fa(i,!0,!0)}),[t,n,e,r]}const[JI,ZI,ew,tw]=XI();function Vh(t,e){const n=e?t?tw:ew:t?ZI:JI;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Pe(n,s)&&s in r?n:r,s,i)}const nw={get:Vh(!1,!1)},rw={get:Vh(!1,!0)},sw={get:Vh(!0,!1)},f_=new WeakMap,d_=new WeakMap,p_=new WeakMap,iw=new WeakMap;function ow(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aw(t){return t.__v_skip||!Object.isExtensible(t)?0:ow(SI(t))}function Hn(t){return Bs(t)?t:Uh(t,!1,GI,nw,f_)}function m_(t){return Uh(t,!1,YI,rw,d_)}function ai(t){return Uh(t,!0,zI,sw,p_)}function Uh(t,e,n,r,s){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=aw(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function _r(t){return Bs(t)?_r(t.__v_raw):!!(t&&t.__v_isReactive)}function Bs(t){return!!(t&&t.__v_isReadonly)}function za(t){return!!(t&&t.__v_isShallow)}function g_(t){return _r(t)||Bs(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function Fc(t){return Ka(t,"__v_skip",!0),t}const Zi=t=>Ve(t)?Hn(t):t,$h=t=>Ve(t)?ai(t):t;function Bh(t){gr&&cn&&(t=Ce(t),c_(t.dep||(t.dep=Mh())))}function jh(t,e){t=Ce(t);const n=t.dep;n&&fu(n)}function $e(t){return!!(t&&t.__v_isRef===!0)}function We(t){return __(t,!1)}function qh(t){return __(t,!0)}function __(t,e){return $e(t)?t:new cw(t,e)}class cw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:Zi(e)}get value(){return Bh(this),this._value}set value(e){const n=this.__v_isShallow||za(e)||Bs(e);e=n?e:Ce(e),ss(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Zi(e),jh(this))}}function Fe(t){return $e(t)?t.value:t}const lw={get:(t,e,n)=>Fe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return $e(s)&&!$e(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function y_(t){return _r(t)?t:new Proxy(t,lw)}class uw{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Bh(this),()=>jh(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function hw(t){return new uw(t)}function Hh(t){const e=te(t)?new Array(t.length):{};for(const n in t)e[n]=v_(t,n);return e}class fw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qI(Ce(this._object),this._key)}}class dw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function pw(t,e,n){return $e(t)?t:fe(t)?new dw(t):Ve(t)&&arguments.length>1?v_(t,e,n):We(t)}function v_(t,e,n){const r=t[e];return $e(r)?r:new fw(t,e,n)}class mw{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new xh(e,()=>{this._dirty||(this._dirty=!0,jh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=Ce(this);return Bh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function gw(t,e,n=!1){let r,s;const i=fe(t);return i?(r=t,s=un):(r=t.get,s=t.set),new mw(r,s,i||!s,n)}function yr(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Do(i,e,n)}return s}function nn(t,e,n,r){if(fe(t)){const i=yr(t,e,n,r);return i&&kh(i)&&i.catch(o=>{Do(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(nn(t[i],e,n,r));return s}function Do(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){yr(c,null,10,[t,o,a]);return}}_w(t,n,s,r)}function _w(t,e,n,r=!0){console.error(t)}let eo=!1,du=!1;const Ot=[];let Tn=0;const Ns=[];let xn=null,Wr=0;const E_=Promise.resolve();let Wh=null;function Lo(t){const e=Wh||E_;return t?e.then(this?t.bind(this):t):e}function yw(t){let e=Tn+1,n=Ot.length;for(;e<n;){const r=e+n>>>1,s=Ot[r],i=to(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Kh(t){(!Ot.length||!Ot.includes(t,eo&&t.allowRecurse?Tn+1:Tn))&&(t.id==null?Ot.push(t):Ot.splice(yw(t.id),0,t),T_())}function T_(){!eo&&!du&&(du=!0,Wh=E_.then(w_))}function vw(t){const e=Ot.indexOf(t);e>Tn&&Ot.splice(e,1)}function pu(t){te(t)?Ns.push(...t):(!xn||!xn.includes(t,t.allowRecurse?Wr+1:Wr))&&Ns.push(t),T_()}function Hd(t,e=eo?Tn+1:0){for(;e<Ot.length;e++){const n=Ot[e];n&&n.pre&&(Ot.splice(e,1),e--,n())}}function I_(t){if(Ns.length){const e=[...new Set(Ns)];if(Ns.length=0,xn){xn.push(...e);return}for(xn=e,xn.sort((n,r)=>to(n)-to(r)),Wr=0;Wr<xn.length;Wr++)xn[Wr]();xn=null,Wr=0}}const to=t=>t.id==null?1/0:t.id,Ew=(t,e)=>{const n=to(t)-to(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function w_(t){du=!1,eo=!0,Ot.sort(Ew);const e=un;try{for(Tn=0;Tn<Ot.length;Tn++){const n=Ot[Tn];n&&n.active!==!1&&yr(n,null,14)}}finally{Tn=0,Ot.length=0,I_(),eo=!1,Wh=null,(Ot.length||Ns.length)&&w_()}}function Tw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||je;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||je;f&&(s=n.map(m=>ze(m)?m.trim():m)),h&&(s=n.map(Qa))}let a,c=r[a=Sl(e)]||r[a=Sl(kn(e))];!c&&i&&(c=r[a=Sl(fs(e))]),c&&nn(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,nn(l,t,6,s)}}function b_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!fe(t)){const c=l=>{const u=b_(l,e,!0);u&&(a=!0,ut(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ve(t)&&r.set(t,null),null):(te(i)?i.forEach(c=>o[c]=null):ut(o,i),Ve(t)&&r.set(t,o),o)}function Vc(t,e){return!t||!Sc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pe(t,e[0].toLowerCase()+e.slice(1))||Pe(t,fs(e))||Pe(t,e))}let mt=null,A_=null;function Ya(t){const e=mt;return mt=t,A_=t&&t.type.__scopeId||null,e}function pt(t,e=mt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&sp(-1);const i=Ya(e);let o;try{o=t(...s)}finally{Ya(i),r._d&&sp(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ol(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:m,ctx:_,inheritAttrs:T}=t;let w,g;const I=Ya(t);try{if(n.shapeFlag&4){const v=s||r;w=an(u.call(v,v,h,i,m,f,_)),g=c}else{const v=e;w=an(v.length>1?v(i,{attrs:c,slots:a,emit:l}):v(i,null)),g=e.props?c:ww(c)}}catch(v){Bi.length=0,Do(v,t,1),w=ie(jt)}let b=w;if(g&&T!==!1){const v=Object.keys(g),{shapeFlag:C}=b;v.length&&C&7&&(o&&v.some(Sh)&&(g=bw(g,o)),b=Ar(b,g))}return n.dirs&&(b=Ar(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),w=b,Ya(I),w}function Iw(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(so(r)){if(r.type!==jt||r.children==="v-if"){if(e)return;e=r}}else return}return e}const ww=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sc(n))&&((e||(e={}))[n]=t[n]);return e},bw=(t,e)=>{const n={};for(const r in t)(!Sh(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Aw(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Wd(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!Vc(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Wd(r,o,l):!0:!!o;return!1}function Wd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Vc(n,i))return!0}return!1}function Qh({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Gh="components";function ci(t,e){return C_(Gh,t,!0,e)||t}const R_=Symbol.for("v-ndc");function jx(t){return ze(t)?C_(Gh,t,!1)||t:t||R_}function C_(t,e,n=!0,r=!1){const s=mt||ot;if(s){const i=s.type;if(t===Gh){const a=Pb(i,!1);if(a&&(a===e||a===kn(e)||a===Nc(kn(e))))return i}const o=Kd(s[t]||i[t],e)||Kd(s.appContext[t],e);return!o&&r?i:o}}function Kd(t,e){return t&&(t[e]||t[kn(e)]||t[Nc(kn(e))])}const Rw=t=>t.__isSuspense,Cw={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,c,l){t==null?Sw(e,n,r,s,i,o,a,c,l):Ow(t,e,n,r,s,o,a,c,l)},hydrate:kw,create:zh,normalize:Nw},Pw=Cw;function no(t,e){const n=t.props&&t.props[e];fe(n)&&n()}function Sw(t,e,n,r,s,i,o,a,c){const{p:l,o:{createElement:u}}=c,h=u("div"),f=t.suspense=zh(t,s,r,e,h,n,i,o,a,c);l(null,f.pendingBranch=t.ssContent,h,null,r,f,i,o),f.deps>0?(no(t,"onPending"),no(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,o),Ds(f,t.ssFallback)):f.resolve(!1,!0)}function Ow(t,e,n,r,s,i,o,a,{p:c,um:l,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,m=e.ssFallback,{activeBranch:_,pendingBranch:T,isInFallback:w,isHydrating:g}=h;if(T)h.pendingBranch=f,In(f,T)?(c(T,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0?h.resolve():w&&(c(_,m,n,r,s,null,i,o,a),Ds(h,m))):(h.pendingId++,g?(h.isHydrating=!1,h.activeBranch=T):l(T,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),w?(c(null,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0?h.resolve():(c(_,m,n,r,s,null,i,o,a),Ds(h,m))):_&&In(f,_)?(c(_,f,n,r,s,h,i,o,a),h.resolve(!0)):(c(null,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0&&h.resolve()));else if(_&&In(f,_))c(_,f,n,r,s,h,i,o,a),Ds(h,f);else if(no(e,"onPending"),h.pendingBranch=f,h.pendingId++,c(null,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0)h.resolve();else{const{timeout:I,pendingId:b}=h;I>0?setTimeout(()=>{h.pendingId===b&&h.fallback(m)},I):I===0&&h.fallback(m)}}function zh(t,e,n,r,s,i,o,a,c,l,u=!1){const{p:h,m:f,um:m,n:_,o:{parentNode:T,remove:w}}=l;let g;const I=Lw(t);I&&e!=null&&e.pendingBranch&&(g=e.pendingId,e.deps++);const b=t.props?t_(t.props.timeout):void 0,v={vnode:t,parent:e,parentComponent:n,isSVG:o,container:r,hiddenContainer:s,anchor:i,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(C=!1,S=!1){const{vnode:P,activeBranch:N,pendingBranch:k,pendingId:x,effects:z,parentComponent:B,container:ee}=v;let ye=!1;if(v.isHydrating)v.isHydrating=!1;else if(!C){ye=N&&k.transition&&k.transition.mode==="out-in",ye&&(N.transition.afterLeave=()=>{x===v.pendingId&&(f(k,ee,me,0),pu(z))});let{anchor:me}=v;N&&(me=_(N),m(N,B,v,!0)),ye||f(k,ee,me,0)}Ds(v,k),v.pendingBranch=null,v.isInFallback=!1;let Ae=v.parent,Z=!1;for(;Ae;){if(Ae.pendingBranch){Ae.effects.push(...z),Z=!0;break}Ae=Ae.parent}!Z&&!ye&&pu(z),v.effects=[],I&&e&&e.pendingBranch&&g===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),no(P,"onResolve")},fallback(C){if(!v.pendingBranch)return;const{vnode:S,activeBranch:P,parentComponent:N,container:k,isSVG:x}=v;no(S,"onFallback");const z=_(P),B=()=>{v.isInFallback&&(h(null,C,k,z,N,null,x,a,c),Ds(v,C))},ee=C.transition&&C.transition.mode==="out-in";ee&&(P.transition.afterLeave=B),v.isInFallback=!0,m(P,N,null,!0),ee||B()},move(C,S,P){v.activeBranch&&f(v.activeBranch,C,S,P),v.container=C},next(){return v.activeBranch&&_(v.activeBranch)},registerDep(C,S){const P=!!v.pendingBranch;P&&v.deps++;const N=C.vnode.el;C.asyncDep.catch(k=>{Do(k,C,0)}).then(k=>{if(C.isUnmounted||v.isUnmounted||v.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:x}=C;wu(C,k,!1),N&&(x.el=N);const z=!N&&C.subTree.el;S(C,x,T(N||C.subTree.el),N?null:_(C.subTree),v,o,c),z&&w(z),Qh(C,x.el),P&&--v.deps===0&&v.resolve()})},unmount(C,S){v.isUnmounted=!0,v.activeBranch&&m(v.activeBranch,n,C,S),v.pendingBranch&&m(v.pendingBranch,n,C,S)}};return v}function kw(t,e,n,r,s,i,o,a,c){const l=e.suspense=zh(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),u=c(t,l.pendingBranch=e.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),u}function Nw(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Qd(r?n.default:n),t.ssFallback=r?Qd(n.fallback):ie(jt)}function Qd(t){let e;if(fe(t)){const n=js&&t._c;n&&(t._d=!1,Ie()),t=t(),n&&(t._d=!0,e=en,K_())}return te(t)&&(t=Iw(t)),t=an(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Dw(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):pu(t)}function Ds(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,s=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=s,Qh(r,s))}function Lw(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function P_(t,e){return Yh(t,null,e)}const da={};function rn(t,e,n){return Yh(t,e,n)}function Yh(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=je){var a;const c=Lh()===((a=ot)==null?void 0:a.scope)?ot:null;let l,u=!1,h=!1;if($e(t)?(l=()=>t.value,u=za(t)):_r(t)?(l=()=>t,r=!0):te(t)?(h=!0,u=t.some(v=>_r(v)||za(v)),l=()=>t.map(v=>{if($e(v))return v.value;if(_r(v))return Gr(v);if(fe(v))return yr(v,c,2)})):fe(t)?e?l=()=>yr(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return f&&f(),nn(t,c,3,[m])}:l=un,e&&r){const v=l;l=()=>Gr(v())}let f,m=v=>{f=I.onStop=()=>{yr(v,c,4)}},_;if(io)if(m=un,e?n&&nn(e,c,3,[l(),h?[]:void 0,m]):l(),s==="sync"){const v=kb();_=v.__watcherHandles||(v.__watcherHandles=[])}else return un;let T=h?new Array(t.length).fill(da):da;const w=()=>{if(I.active)if(e){const v=I.run();(r||u||(h?v.some((C,S)=>ss(C,T[S])):ss(v,T)))&&(f&&f(),nn(e,c,3,[v,T===da?void 0:h&&T[0]===da?[]:T,m]),T=v)}else I.run()};w.allowRecurse=!!e;let g;s==="sync"?g=w:s==="post"?g=()=>$t(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),g=()=>Kh(w));const I=new xh(l,g);e?n?w():T=I.run():s==="post"?$t(I.run.bind(I),c&&c.suspense):I.run();const b=()=>{I.stop(),c&&c.scope&&Oh(c.scope.effects,I)};return _&&_.push(b),b}function Mw(t,e,n){const r=this.proxy,s=ze(t)?t.includes(".")?S_(r,t):()=>r[t]:t.bind(r,r);let i;fe(e)?i=e:(i=e.handler,n=e);const o=ot;Rr(this);const a=Yh(s,i.bind(r),n);return o?Rr(o):vr(),a}function S_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Gr(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),$e(t))Gr(t.value,e);else if(te(t))for(let n=0;n<t.length;n++)Gr(t[n],e);else if(Oc(t)||ks(t))t.forEach(n=>{Gr(n,e)});else if(e_(t))for(const n in t)Gr(t[n],e);return t}function qx(t,e){const n=mt;if(n===null)return t;const r=jc(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=je]=e[i];o&&(fe(o)&&(o={mounted:o,updated:o}),o.deep&&Gr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function Ur(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(ii(),nn(c,n,8,[t.el,a,t,e]),oi())}}const or=Symbol("_leaveCb"),pa=Symbol("_enterCb");function xw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xo(()=>{t.isMounted=!0}),M_(()=>{t.isUnmounting=!0}),t}const Xt=[Function,Array],O_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xt,onEnter:Xt,onAfterEnter:Xt,onEnterCancelled:Xt,onBeforeLeave:Xt,onLeave:Xt,onAfterLeave:Xt,onLeaveCancelled:Xt,onBeforeAppear:Xt,onAppear:Xt,onAfterAppear:Xt,onAppearCancelled:Xt},Fw={name:"BaseTransition",props:O_,setup(t,{slots:e}){const n=hn(),r=xw();let s;return()=>{const i=e.default&&N_(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const T of i)if(T.type!==jt){o=T;break}}const a=Ce(t),{mode:c}=a;if(r.isLeaving)return kl(o);const l=Gd(o);if(!l)return kl(o);const u=mu(l,a,r,n);gu(l,u);const h=n.subTree,f=h&&Gd(h);let m=!1;const{getTransitionKey:_}=l.type;if(_){const T=_();s===void 0?s=T:T!==s&&(s=T,m=!0)}if(f&&f.type!==jt&&(!In(l,f)||m)){const T=mu(f,a,r,n);if(gu(f,T),c==="out-in")return r.isLeaving=!0,T.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},kl(o);c==="in-out"&&l.type!==jt&&(T.delayLeave=(w,g,I)=>{const b=k_(r,f);b[String(f.key)]=f,w[or]=()=>{g(),w[or]=void 0,delete u.delayedLeave},u.delayedLeave=I})}return o}}},Vw=Fw;function k_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function mu(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:T,onAppear:w,onAfterAppear:g,onAppearCancelled:I}=e,b=String(t.key),v=k_(n,t),C=(N,k)=>{N&&nn(N,r,9,k)},S=(N,k)=>{const x=k[1];C(N,k),te(N)?N.every(z=>z.length<=1)&&x():N.length<=1&&x()},P={mode:i,persisted:o,beforeEnter(N){let k=a;if(!n.isMounted)if(s)k=T||a;else return;N[or]&&N[or](!0);const x=v[b];x&&In(t,x)&&x.el[or]&&x.el[or](),C(k,[N])},enter(N){let k=c,x=l,z=u;if(!n.isMounted)if(s)k=w||c,x=g||l,z=I||u;else return;let B=!1;const ee=N[pa]=ye=>{B||(B=!0,ye?C(z,[N]):C(x,[N]),P.delayedLeave&&P.delayedLeave(),N[pa]=void 0)};k?S(k,[N,ee]):ee()},leave(N,k){const x=String(t.key);if(N[pa]&&N[pa](!0),n.isUnmounting)return k();C(h,[N]);let z=!1;const B=N[or]=ee=>{z||(z=!0,k(),ee?C(_,[N]):C(m,[N]),N[or]=void 0,v[x]===t&&delete v[x])};v[x]=t,f?S(f,[N,B]):B()},clone(N){return mu(N,e,n,r)}};return P}function kl(t){if(Uc(t))return t=Ar(t),t.children=null,t}function Gd(t){return Uc(t)?t.children?t.children[0]:void 0:t}function gu(t,e){t.shapeFlag&6&&t.component?gu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function N_(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===st?(o.patchFlag&128&&s++,r=r.concat(N_(o.children,e,a))):(e||o.type!==jt)&&r.push(a!=null?Ar(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Mo(t,e){return fe(t)?(()=>ut({name:t.name},e,{setup:t}))():t}const Vi=t=>!!t.type.__asyncLoader,Uc=t=>t.type.__isKeepAlive;function Uw(t,e){D_(t,"a",e)}function $w(t,e){D_(t,"da",e)}function D_(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($c(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Uc(s.parent.vnode)&&Bw(r,e,n,s),s=s.parent}}function Bw(t,e,n,r){const s=$c(e,t,r,!0);Xh(()=>{Oh(r[e],s)},n)}function $c(t,e,n=ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ii(),Rr(n);const a=nn(e,n,t,o);return vr(),oi(),a});return r?s.unshift(i):s.push(i),i}}const zn=t=>(e,n=ot)=>(!io||t==="sp")&&$c(t,(...r)=>e(...r),n),L_=zn("bm"),xo=zn("m"),jw=zn("bu"),qw=zn("u"),M_=zn("bum"),Xh=zn("um"),Hw=zn("sp"),Ww=zn("rtg"),Kw=zn("rtc");function Qw(t,e=ot){$c("ec",t,e)}function x_(t,e,n,r){let s;const i=n&&n[r];if(te(t)||ze(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Ve(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Hx(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(te(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function Gw(t,e,n={},r,s){if(mt.isCE||mt.parent&&Vi(mt.parent)&&mt.parent.isCE)return e!=="default"&&(n.name=e),ie("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),Ie();const o=i&&F_(i(n)),a=ts(st,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function F_(t){return t.some(e=>so(e)?!(e.type===jt||e.type===st&&!F_(e.children)):!0)?t:null}const _u=t=>t?z_(t)?jc(t)||t.proxy:_u(t.parent):null,Ui=ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_u(t.parent),$root:t=>_u(t.root),$emit:t=>t.emit,$options:t=>Jh(t),$forceUpdate:t=>t.f||(t.f=()=>Kh(t.update)),$nextTick:t=>t.n||(t.n=Lo.bind(t.proxy)),$watch:t=>Mw.bind(t)}),Nl=(t,e)=>t!==je&&!t.__isScriptSetup&&Pe(t,e),zw={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Nl(r,e))return o[e]=1,r[e];if(s!==je&&Pe(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Pe(l,e))return o[e]=3,i[e];if(n!==je&&Pe(n,e))return o[e]=4,n[e];yu&&(o[e]=0)}}const u=Ui[e];let h,f;if(u)return e==="$attrs"&&qt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==je&&Pe(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,Pe(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Nl(s,e)?(s[e]=n,!0):r!==je&&Pe(r,e)?(r[e]=n,!0):Pe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==je&&Pe(t,o)||Nl(e,o)||(a=i[0])&&Pe(a,o)||Pe(r,o)||Pe(Ui,o)||Pe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Wx(){return Yw().slots}function Yw(){const t=hn();return t.setupContext||(t.setupContext=X_(t))}function zd(t){return te(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Xw(t){const e=hn();let n=t();return vr(),kh(n)&&(n=n.catch(r=>{throw Rr(e),r})),[n,()=>Rr(e)]}let yu=!0;function Jw(t){const e=Jh(t),n=t.proxy,r=t.ctx;yu=!1,e.beforeCreate&&Yd(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:_,activated:T,deactivated:w,beforeDestroy:g,beforeUnmount:I,destroyed:b,unmounted:v,render:C,renderTracked:S,renderTriggered:P,errorCaptured:N,serverPrefetch:k,expose:x,inheritAttrs:z,components:B,directives:ee,filters:ye}=e;if(l&&Zw(l,r,null),o)for(const me in o){const ue=o[me];fe(ue)&&(r[me]=ue.bind(n))}if(s){const me=s.call(n,n);Ve(me)&&(t.data=Hn(me))}if(yu=!0,i)for(const me in i){const ue=i[me],Ne=fe(ue)?ue.bind(n,n):fe(ue.get)?ue.get.bind(n,n):un,et=!fe(ue)&&fe(ue.set)?ue.set.bind(n):un,tt=ke({get:Ne,set:et});Object.defineProperty(r,me,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Xe=>tt.value=Xe})}if(a)for(const me in a)V_(a[me],r,n,me);if(c){const me=fe(c)?c.call(n):c;Reflect.ownKeys(me).forEach(ue=>{La(ue,me[ue])})}u&&Yd(u,t,"c");function Z(me,ue){te(ue)?ue.forEach(Ne=>me(Ne.bind(n))):ue&&me(ue.bind(n))}if(Z(L_,h),Z(xo,f),Z(jw,m),Z(qw,_),Z(Uw,T),Z($w,w),Z(Qw,N),Z(Kw,S),Z(Ww,P),Z(M_,I),Z(Xh,v),Z(Hw,k),te(x))if(x.length){const me=t.exposed||(t.exposed={});x.forEach(ue=>{Object.defineProperty(me,ue,{get:()=>n[ue],set:Ne=>n[ue]=Ne})})}else t.exposed||(t.exposed={});C&&t.render===un&&(t.render=C),z!=null&&(t.inheritAttrs=z),B&&(t.components=B),ee&&(t.directives=ee)}function Zw(t,e,n=un){te(t)&&(t=vu(t));for(const r in t){const s=t[r];let i;Ve(s)?"default"in s?i=sn(s.from||r,s.default,!0):i=sn(s.from||r):i=sn(s),$e(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Yd(t,e,n){nn(te(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function V_(t,e,n,r){const s=r.includes(".")?S_(n,r):()=>n[r];if(ze(t)){const i=e[t];fe(i)&&rn(s,i)}else if(fe(t))rn(s,t.bind(n));else if(Ve(t))if(te(t))t.forEach(i=>V_(i,e,n,r));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&rn(s,i,t)}}function Jh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>Xa(c,l,o,!0)),Xa(c,e,o)),Ve(e)&&i.set(e,c),c}function Xa(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Xa(t,i,n,!0),s&&s.forEach(o=>Xa(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=eb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const eb={data:Xd,props:Jd,emits:Jd,methods:Oi,computed:Oi,beforeCreate:Mt,created:Mt,beforeMount:Mt,mounted:Mt,beforeUpdate:Mt,updated:Mt,beforeDestroy:Mt,beforeUnmount:Mt,destroyed:Mt,unmounted:Mt,activated:Mt,deactivated:Mt,errorCaptured:Mt,serverPrefetch:Mt,components:Oi,directives:Oi,watch:nb,provide:Xd,inject:tb};function Xd(t,e){return e?t?function(){return ut(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function tb(t,e){return Oi(vu(t),vu(e))}function vu(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mt(t,e){return t?[...new Set([].concat(t,e))]:e}function Oi(t,e){return t?ut(Object.create(null),t,e):e}function Jd(t,e){return t?te(t)&&te(e)?[...new Set([...t,...e])]:ut(Object.create(null),zd(t),zd(e??{})):e}function nb(t,e){if(!t)return e;if(!e)return t;const n=ut(Object.create(null),t);for(const r in e)n[r]=Mt(t[r],e[r]);return n}function U_(){return{app:null,config:{isNativeTag:RI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rb=0;function sb(t,e){return function(r,s=null){fe(r)||(r=ut({},r)),s!=null&&!Ve(s)&&(s=null);const i=U_(),o=new WeakSet;let a=!1;const c=i.app={_uid:rb++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Nb,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&fe(l.install)?(o.add(l),l.install(c,...u)):fe(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=ie(r,s);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,jc(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){ro=c;try{return l()}finally{ro=null}}};return c}}let ro=null;function La(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function sn(t,e,n=!1){const r=ot||mt;if(r||ro){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:ro._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&fe(e)?e.call(r&&r.proxy):e}}function ib(){return!!(ot||mt||ro)}function ob(t,e,n,r=!1){const s={},i={};Ka(i,Bc,1),t.propsDefaults=Object.create(null),$_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:m_(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function ab(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ce(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Vc(t.emitsOptions,f))continue;const m=e[f];if(c)if(Pe(i,f))m!==i[f]&&(i[f]=m,l=!0);else{const _=kn(f);s[_]=Eu(c,a,_,m,t,!1)}else m!==i[f]&&(i[f]=m,l=!0)}}}else{$_(t,e,s,i)&&(l=!0);let u;for(const h in a)(!e||!Pe(e,h)&&((u=fs(h))===h||!Pe(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Eu(c,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!Pe(e,h))&&(delete i[h],l=!0)}l&&jn(t,"set","$attrs")}function $_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Na(c))continue;const l=e[c];let u;s&&Pe(s,u=kn(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Vc(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=Ce(n),l=a||je;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Eu(s,c,h,l[h],t,!Pe(l,h))}}return o}function Eu(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Pe(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&fe(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(Rr(s),r=l[n]=c.call(null,e),vr())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===fs(n))&&(r=!0))}return r}function B_(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!fe(t)){const u=h=>{c=!0;const[f,m]=B_(h,e,!0);ut(o,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ve(t)&&r.set(t,Os),Os;if(te(i))for(let u=0;u<i.length;u++){const h=kn(i[u]);Zd(h)&&(o[h]=je)}else if(i)for(const u in i){const h=kn(u);if(Zd(h)){const f=i[u],m=o[h]=te(f)||fe(f)?{type:f}:ut({},f);if(m){const _=np(Boolean,m.type),T=np(String,m.type);m[0]=_>-1,m[1]=T<0||_<T,(_>-1||Pe(m,"default"))&&a.push(h)}}}const l=[o,a];return Ve(t)&&r.set(t,l),l}function Zd(t){return t[0]!=="$"}function ep(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function tp(t,e){return ep(t)===ep(e)}function np(t,e){return te(e)?e.findIndex(n=>tp(n,t)):fe(e)&&tp(e,t)?0:-1}const j_=t=>t[0]==="_"||t==="$stable",Zh=t=>te(t)?t.map(an):[an(t)],cb=(t,e,n)=>{if(e._n)return e;const r=pt((...s)=>Zh(e(...s)),n);return r._c=!1,r},q_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(j_(s))continue;const i=t[s];if(fe(i))e[s]=cb(s,i,r);else if(i!=null){const o=Zh(i);e[s]=()=>o}}},H_=(t,e)=>{const n=Zh(e);t.slots.default=()=>n},lb=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),Ka(e,"_",n)):q_(e,t.slots={})}else t.slots={},e&&H_(t,e);Ka(t.slots,Bc,1)},ub=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=je;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ut(s,e),!n&&a===1&&delete s._):(i=!e.$stable,q_(e,s)),o=e}else e&&(H_(t,e),o={default:1});if(i)for(const a in s)!j_(a)&&o[a]==null&&delete s[a]};function Tu(t,e,n,r,s=!1){if(te(t)){t.forEach((f,m)=>Tu(f,e&&(te(e)?e[m]:e),n,r,s));return}if(Vi(r)&&!s)return;const i=r.shapeFlag&4?jc(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===je?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(ze(l)?(u[l]=null,Pe(h,l)&&(h[l]=null)):$e(l)&&(l.value=null)),fe(c))yr(c,a,12,[o,u]);else{const f=ze(c),m=$e(c);if(f||m){const _=()=>{if(t.f){const T=f?Pe(h,c)?h[c]:u[c]:c.value;s?te(T)&&Oh(T,i):te(T)?T.includes(i)||T.push(i):f?(u[c]=[i],Pe(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,Pe(h,c)&&(h[c]=o)):m&&(c.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,$t(_,n)):_()}}}const $t=Dw;function hb(t){return fb(t)}function fb(t,e){const n=lu();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=un,insertStaticContent:_}=t,T=(E,d,p,y=null,A=null,O=null,F=!1,$=null,j=!!d.dynamicChildren)=>{if(E===d)return;E&&!In(E,d)&&(y=L(E),Xe(E,A,O,!0),E=null),d.patchFlag===-2&&(j=!1,d.dynamicChildren=null);const{type:U,ref:ne,shapeFlag:H}=d;switch(U){case Fo:w(E,d,p,y);break;case jt:g(E,d,p,y);break;case Dl:E==null&&I(d,p,y,F);break;case st:B(E,d,p,y,A,O,F,$,j);break;default:H&1?C(E,d,p,y,A,O,F,$,j):H&6?ee(E,d,p,y,A,O,F,$,j):(H&64||H&128)&&U.process(E,d,p,y,A,O,F,$,j,q)}ne!=null&&A&&Tu(ne,E&&E.ref,O,d||E,!d)},w=(E,d,p,y)=>{if(E==null)r(d.el=a(d.children),p,y);else{const A=d.el=E.el;d.children!==E.children&&l(A,d.children)}},g=(E,d,p,y)=>{E==null?r(d.el=c(d.children||""),p,y):d.el=E.el},I=(E,d,p,y)=>{[E.el,E.anchor]=_(E.children,d,p,y,E.el,E.anchor)},b=({el:E,anchor:d},p,y)=>{let A;for(;E&&E!==d;)A=f(E),r(E,p,y),E=A;r(d,p,y)},v=({el:E,anchor:d})=>{let p;for(;E&&E!==d;)p=f(E),s(E),E=p;s(d)},C=(E,d,p,y,A,O,F,$,j)=>{F=F||d.type==="svg",E==null?S(d,p,y,A,O,F,$,j):k(E,d,A,O,F,$,j)},S=(E,d,p,y,A,O,F,$)=>{let j,U;const{type:ne,props:H,shapeFlag:R,transition:D,dirs:X}=E;if(j=E.el=o(E.type,O,H&&H.is,H),R&8?u(j,E.children):R&16&&N(E.children,j,null,y,A,O&&ne!=="foreignObject",F,$),X&&Ur(E,null,y,"created"),P(j,E,E.scopeId,F,y),H){for(const Te in H)Te!=="value"&&!Na(Te)&&i(j,Te,null,H[Te],O,E.children,y,A,Je);"value"in H&&i(j,"value",null,H.value),(U=H.onVnodeBeforeMount)&&yn(U,y,E)}X&&Ur(E,null,y,"beforeMount");const ae=db(A,D);ae&&D.beforeEnter(j),r(j,d,p),((U=H&&H.onVnodeMounted)||ae||X)&&$t(()=>{U&&yn(U,y,E),ae&&D.enter(j),X&&Ur(E,null,y,"mounted")},A)},P=(E,d,p,y,A)=>{if(p&&m(E,p),y)for(let O=0;O<y.length;O++)m(E,y[O]);if(A){let O=A.subTree;if(d===O){const F=A.vnode;P(E,F,F.scopeId,F.slotScopeIds,A.parent)}}},N=(E,d,p,y,A,O,F,$,j=0)=>{for(let U=j;U<E.length;U++){const ne=E[U]=$?ar(E[U]):an(E[U]);T(null,ne,d,p,y,A,O,F,$)}},k=(E,d,p,y,A,O,F)=>{const $=d.el=E.el;let{patchFlag:j,dynamicChildren:U,dirs:ne}=d;j|=E.patchFlag&16;const H=E.props||je,R=d.props||je;let D;p&&$r(p,!1),(D=R.onVnodeBeforeUpdate)&&yn(D,p,d,E),ne&&Ur(d,E,p,"beforeUpdate"),p&&$r(p,!0);const X=A&&d.type!=="foreignObject";if(U?x(E.dynamicChildren,U,$,p,y,X,O):F||ue(E,d,$,null,p,y,X,O,!1),j>0){if(j&16)z($,d,H,R,p,y,A);else if(j&2&&H.class!==R.class&&i($,"class",null,R.class,A),j&4&&i($,"style",H.style,R.style,A),j&8){const ae=d.dynamicProps;for(let Te=0;Te<ae.length;Te++){const Be=ae[Te],ht=H[Be],Xn=R[Be];(Xn!==ht||Be==="value")&&i($,Be,ht,Xn,A,E.children,p,y,Je)}}j&1&&E.children!==d.children&&u($,d.children)}else!F&&U==null&&z($,d,H,R,p,y,A);((D=R.onVnodeUpdated)||ne)&&$t(()=>{D&&yn(D,p,d,E),ne&&Ur(d,E,p,"updated")},y)},x=(E,d,p,y,A,O,F)=>{for(let $=0;$<d.length;$++){const j=E[$],U=d[$],ne=j.el&&(j.type===st||!In(j,U)||j.shapeFlag&70)?h(j.el):p;T(j,U,ne,null,y,A,O,F,!0)}},z=(E,d,p,y,A,O,F)=>{if(p!==y){if(p!==je)for(const $ in p)!Na($)&&!($ in y)&&i(E,$,p[$],null,F,d.children,A,O,Je);for(const $ in y){if(Na($))continue;const j=y[$],U=p[$];j!==U&&$!=="value"&&i(E,$,U,j,F,d.children,A,O,Je)}"value"in y&&i(E,"value",p.value,y.value)}},B=(E,d,p,y,A,O,F,$,j)=>{const U=d.el=E?E.el:a(""),ne=d.anchor=E?E.anchor:a("");let{patchFlag:H,dynamicChildren:R,slotScopeIds:D}=d;D&&($=$?$.concat(D):D),E==null?(r(U,p,y),r(ne,p,y),N(d.children,p,ne,A,O,F,$,j)):H>0&&H&64&&R&&E.dynamicChildren?(x(E.dynamicChildren,R,p,A,O,F,$),(d.key!=null||A&&d===A.subTree)&&ef(E,d,!0)):ue(E,d,p,ne,A,O,F,$,j)},ee=(E,d,p,y,A,O,F,$,j)=>{d.slotScopeIds=$,E==null?d.shapeFlag&512?A.ctx.activate(d,p,y,F,j):ye(d,p,y,A,O,F,j):Ae(E,d,j)},ye=(E,d,p,y,A,O,F)=>{const $=E.component=bb(E,y,A);if(Uc(E)&&($.ctx.renderer=q),Ab($),$.asyncDep){if(A&&A.registerDep($,Z),!E.el){const j=$.subTree=ie(jt);g(null,j,d,p)}return}Z($,E,d,p,A,O,F)},Ae=(E,d,p)=>{const y=d.component=E.component;if(Aw(E,d,p))if(y.asyncDep&&!y.asyncResolved){me(y,d,p);return}else y.next=d,vw(y.update),y.update();else d.el=E.el,y.vnode=d},Z=(E,d,p,y,A,O,F)=>{const $=()=>{if(E.isMounted){let{next:ne,bu:H,u:R,parent:D,vnode:X}=E,ae=ne,Te;$r(E,!1),ne?(ne.el=X.el,me(E,ne,F)):ne=X,H&&Da(H),(Te=ne.props&&ne.props.onVnodeBeforeUpdate)&&yn(Te,D,ne,X),$r(E,!0);const Be=Ol(E),ht=E.subTree;E.subTree=Be,T(ht,Be,h(ht.el),L(ht),E,A,O),ne.el=Be.el,ae===null&&Qh(E,Be.el),R&&$t(R,A),(Te=ne.props&&ne.props.onVnodeUpdated)&&$t(()=>yn(Te,D,ne,X),A)}else{let ne;const{el:H,props:R}=d,{bm:D,m:X,parent:ae}=E,Te=Vi(d);if($r(E,!1),D&&Da(D),!Te&&(ne=R&&R.onVnodeBeforeMount)&&yn(ne,ae,d),$r(E,!0),H&&ve){const Be=()=>{E.subTree=Ol(E),ve(H,E.subTree,E,A,null)};Te?d.type.__asyncLoader().then(()=>!E.isUnmounted&&Be()):Be()}else{const Be=E.subTree=Ol(E);T(null,Be,p,y,E,A,O),d.el=Be.el}if(X&&$t(X,A),!Te&&(ne=R&&R.onVnodeMounted)){const Be=d;$t(()=>yn(ne,ae,Be),A)}(d.shapeFlag&256||ae&&Vi(ae.vnode)&&ae.vnode.shapeFlag&256)&&E.a&&$t(E.a,A),E.isMounted=!0,d=p=y=null}},j=E.effect=new xh($,()=>Kh(U),E.scope),U=E.update=()=>j.run();U.id=E.uid,$r(E,!0),U()},me=(E,d,p)=>{d.component=E;const y=E.vnode.props;E.vnode=d,E.next=null,ab(E,d.props,y,p),ub(E,d.children,p),ii(),Hd(),oi()},ue=(E,d,p,y,A,O,F,$,j=!1)=>{const U=E&&E.children,ne=E?E.shapeFlag:0,H=d.children,{patchFlag:R,shapeFlag:D}=d;if(R>0){if(R&128){et(U,H,p,y,A,O,F,$,j);return}else if(R&256){Ne(U,H,p,y,A,O,F,$,j);return}}D&8?(ne&16&&Je(U,A,O),H!==U&&u(p,H)):ne&16?D&16?et(U,H,p,y,A,O,F,$,j):Je(U,A,O,!0):(ne&8&&u(p,""),D&16&&N(H,p,y,A,O,F,$,j))},Ne=(E,d,p,y,A,O,F,$,j)=>{E=E||Os,d=d||Os;const U=E.length,ne=d.length,H=Math.min(U,ne);let R;for(R=0;R<H;R++){const D=d[R]=j?ar(d[R]):an(d[R]);T(E[R],D,p,null,A,O,F,$,j)}U>ne?Je(E,A,O,!0,!1,H):N(d,p,y,A,O,F,$,j,H)},et=(E,d,p,y,A,O,F,$,j)=>{let U=0;const ne=d.length;let H=E.length-1,R=ne-1;for(;U<=H&&U<=R;){const D=E[U],X=d[U]=j?ar(d[U]):an(d[U]);if(In(D,X))T(D,X,p,null,A,O,F,$,j);else break;U++}for(;U<=H&&U<=R;){const D=E[H],X=d[R]=j?ar(d[R]):an(d[R]);if(In(D,X))T(D,X,p,null,A,O,F,$,j);else break;H--,R--}if(U>H){if(U<=R){const D=R+1,X=D<ne?d[D].el:y;for(;U<=R;)T(null,d[U]=j?ar(d[U]):an(d[U]),p,X,A,O,F,$,j),U++}}else if(U>R)for(;U<=H;)Xe(E[U],A,O,!0),U++;else{const D=U,X=U,ae=new Map;for(U=X;U<=R;U++){const Wt=d[U]=j?ar(d[U]):an(d[U]);Wt.key!=null&&ae.set(Wt.key,U)}let Te,Be=0;const ht=R-X+1;let Xn=!1,Pl=0;const Ti=new Array(ht);for(U=0;U<ht;U++)Ti[U]=0;for(U=D;U<=H;U++){const Wt=E[U];if(Be>=ht){Xe(Wt,A,O,!0);continue}let _n;if(Wt.key!=null)_n=ae.get(Wt.key);else for(Te=X;Te<=R;Te++)if(Ti[Te-X]===0&&In(Wt,d[Te])){_n=Te;break}_n===void 0?Xe(Wt,A,O,!0):(Ti[_n-X]=U+1,_n>=Pl?Pl=_n:Xn=!0,T(Wt,d[_n],p,null,A,O,F,$,j),Be++)}const Dd=Xn?pb(Ti):Os;for(Te=Dd.length-1,U=ht-1;U>=0;U--){const Wt=X+U,_n=d[Wt],Ld=Wt+1<ne?d[Wt+1].el:y;Ti[U]===0?T(null,_n,p,Ld,A,O,F,$,j):Xn&&(Te<0||U!==Dd[Te]?tt(_n,p,Ld,2):Te--)}}},tt=(E,d,p,y,A=null)=>{const{el:O,type:F,transition:$,children:j,shapeFlag:U}=E;if(U&6){tt(E.component.subTree,d,p,y);return}if(U&128){E.suspense.move(d,p,y);return}if(U&64){F.move(E,d,p,q);return}if(F===st){r(O,d,p);for(let H=0;H<j.length;H++)tt(j[H],d,p,y);r(E.anchor,d,p);return}if(F===Dl){b(E,d,p);return}if(y!==2&&U&1&&$)if(y===0)$.beforeEnter(O),r(O,d,p),$t(()=>$.enter(O),A);else{const{leave:H,delayLeave:R,afterLeave:D}=$,X=()=>r(O,d,p),ae=()=>{H(O,()=>{X(),D&&D()})};R?R(O,X,ae):ae()}else r(O,d,p)},Xe=(E,d,p,y=!1,A=!1)=>{const{type:O,props:F,ref:$,children:j,dynamicChildren:U,shapeFlag:ne,patchFlag:H,dirs:R}=E;if($!=null&&Tu($,null,p,E,!0),ne&256){d.ctx.deactivate(E);return}const D=ne&1&&R,X=!Vi(E);let ae;if(X&&(ae=F&&F.onVnodeBeforeUnmount)&&yn(ae,d,E),ne&6)Dn(E.component,p,y);else{if(ne&128){E.suspense.unmount(p,y);return}D&&Ur(E,null,d,"beforeUnmount"),ne&64?E.type.remove(E,d,p,A,q,y):U&&(O!==st||H>0&&H&64)?Je(U,d,p,!1,!0):(O===st&&H&384||!A&&ne&16)&&Je(j,d,p),y&&Yt(E)}(X&&(ae=F&&F.onVnodeUnmounted)||D)&&$t(()=>{ae&&yn(ae,d,E),D&&Ur(E,null,d,"unmounted")},p)},Yt=E=>{const{type:d,el:p,anchor:y,transition:A}=E;if(d===st){Ht(p,y);return}if(d===Dl){v(E);return}const O=()=>{s(p),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(E.shapeFlag&1&&A&&!A.persisted){const{leave:F,delayLeave:$}=A,j=()=>F(p,O);$?$(E.el,O,j):j()}else O()},Ht=(E,d)=>{let p;for(;E!==d;)p=f(E),s(E),E=p;s(d)},Dn=(E,d,p)=>{const{bum:y,scope:A,update:O,subTree:F,um:$}=E;y&&Da(y),A.stop(),O&&(O.active=!1,Xe(F,E,d,p)),$&&$t($,d),$t(()=>{E.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Je=(E,d,p,y=!1,A=!1,O=0)=>{for(let F=O;F<E.length;F++)Xe(E[F],d,p,y,A)},L=E=>E.shapeFlag&6?L(E.component.subTree):E.shapeFlag&128?E.suspense.next():f(E.anchor||E.el),K=(E,d,p)=>{E==null?d._vnode&&Xe(d._vnode,null,null,!0):T(d._vnode||null,E,d,null,null,null,p),Hd(),I_(),d._vnode=E},q={p:T,um:Xe,m:tt,r:Yt,mt:ye,mc:N,pc:ue,pbc:x,n:L,o:t};let Y,ve;return e&&([Y,ve]=e(q)),{render:K,hydrate:Y,createApp:sb(K,Y)}}function $r({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function db(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ef(t,e,n=!1){const r=t.children,s=e.children;if(te(r)&&te(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ar(s[i]),a.el=o.el),n||ef(o,a)),a.type===Fo&&(a.el=o.el)}}function pb(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const mb=t=>t.__isTeleport,$i=t=>t&&(t.disabled||t.disabled===""),rp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Iu=(t,e)=>{const n=t&&t.to;return ze(n)?e?e(n):null:n},gb={__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:h,pbc:f,o:{insert:m,querySelector:_,createText:T,createComment:w}}=l,g=$i(e.props);let{shapeFlag:I,children:b,dynamicChildren:v}=e;if(t==null){const C=e.el=T(""),S=e.anchor=T("");m(C,n,r),m(S,n,r);const P=e.target=Iu(e.props,_),N=e.targetAnchor=T("");P&&(m(N,P),o=o||rp(P));const k=(x,z)=>{I&16&&u(b,x,z,s,i,o,a,c)};g?k(n,S):P&&k(P,N)}else{e.el=t.el;const C=e.anchor=t.anchor,S=e.target=t.target,P=e.targetAnchor=t.targetAnchor,N=$i(t.props),k=N?n:S,x=N?C:P;if(o=o||rp(S),v?(f(t.dynamicChildren,v,k,s,i,o,a),ef(t,e,!0)):c||h(t,e,k,x,s,i,o,a,!1),g)N?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ma(e,n,C,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const z=e.target=Iu(e.props,_);z&&ma(e,z,null,l,0)}else N&&ma(e,S,P,l,1)}W_(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:f}=t;if(h&&i(u),o&&i(l),a&16){const m=o||!$i(f);for(let _=0;_<c.length;_++){const T=c[_];s(T,e,n,m,!!T.dynamicChildren)}}},move:ma,hydrate:_b};function ma(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,h=i===2;if(h&&r(o,e,n),(!h||$i(u))&&c&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);h&&r(a,e,n)}function _b(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=Iu(e.props,c);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if($i(e.props))e.anchor=l(o(t),e,a(t),n,r,s,i),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(h,e,u,n,r,s,i)}W_(e)}return e.anchor&&o(e.anchor)}const Kx=gb;function W_(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const st=Symbol.for("v-fgt"),Fo=Symbol.for("v-txt"),jt=Symbol.for("v-cmt"),Dl=Symbol.for("v-stc"),Bi=[];let en=null;function Ie(t=!1){Bi.push(en=t?null:[])}function K_(){Bi.pop(),en=Bi[Bi.length-1]||null}let js=1;function sp(t){js+=t}function Q_(t){return t.dynamicChildren=js>0?en||Os:null,K_(),js>0&&en&&en.push(t),t}function xe(t,e,n,r,s,i){return Q_(he(t,e,n,r,s,i,!0))}function ts(t,e,n,r,s){return Q_(ie(t,e,n,r,s,!0))}function so(t){return t?t.__v_isVNode===!0:!1}function In(t,e){return t.type===e.type&&t.key===e.key}const Bc="__vInternal",G_=({key:t})=>t??null,Ma=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ze(t)||$e(t)||fe(t)?{i:mt,r:t,k:e,f:!!n}:t:null);function he(t,e=null,n=null,r=0,s=null,i=t===st?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&G_(e),ref:e&&Ma(e),scopeId:A_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:mt};return a?(tf(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=ze(n)?8:16),js>0&&!o&&en&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&en.push(c),c}const ie=yb;function yb(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===R_)&&(t=jt),so(t)){const a=Ar(t,e,!0);return n&&tf(a,n),js>0&&!i&&en&&(a.shapeFlag&6?en[en.indexOf(t)]=a:en.push(a)),a.patchFlag|=-2,a}if(Sb(t)&&(t=t.__vccOpts),e){e=vb(e);let{class:a,style:c}=e;a&&!ze(a)&&(e.class=No(a)),Ve(c)&&(g_(c)&&!te(c)&&(c=ut({},c)),e.style=Dc(c))}const o=ze(t)?1:Rw(t)?128:mb(t)?64:Ve(t)?4:fe(t)?2:0;return he(t,e,n,r,s,o,i,!0)}function vb(t){return t?g_(t)||Bc in t?ut({},t):t:null}function Ar(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Tb(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&G_(a),ref:e&&e.ref?n&&s?te(s)?s.concat(Ma(e)):[s,Ma(e)]:Ma(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==st?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ar(t.ssContent),ssFallback:t.ssFallback&&Ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function tn(t=" ",e=0){return ie(Fo,null,t,e)}function Eb(t="",e=!1){return e?(Ie(),ts(jt,null,t)):ie(jt,null,t)}function an(t){return t==null||typeof t=="boolean"?ie(jt):te(t)?ie(st,null,t.slice()):typeof t=="object"?ar(t):ie(Fo,null,String(t))}function ar(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ar(t)}function tf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),tf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Bc in e)?e._ctx=mt:s===3&&mt&&(mt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:mt},n=32):(e=String(e),r&64?(n=16,e=[tn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Tb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=No([e.class,r.class]));else if(s==="style")e.style=Dc([e.style,r.style]);else if(Sc(s)){const i=e[s],o=r[s];o&&i!==o&&!(te(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function yn(t,e,n,r=null){nn(t,e,7,[n,r])}const Ib=U_();let wb=0;function bb(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Ib,i={uid:wb++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new s_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:B_(r,s),emitsOptions:b_(r,s),emit:null,emitted:null,propsDefaults:je,inheritAttrs:r.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Tw.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const hn=()=>ot||mt;let nf,vs,ip="__VUE_INSTANCE_SETTERS__";(vs=lu()[ip])||(vs=lu()[ip]=[]),vs.push(t=>ot=t),nf=t=>{vs.length>1?vs.forEach(e=>e(t)):vs[0](t)};const Rr=t=>{nf(t),t.scope.on()},vr=()=>{ot&&ot.scope.off(),nf(null)};function z_(t){return t.vnode.shapeFlag&4}let io=!1;function Ab(t,e=!1){io=e;const{props:n,children:r}=t.vnode,s=z_(t);ob(t,n,s,e),lb(t,r);const i=s?Rb(t,e):void 0;return io=!1,i}function Rb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Fc(new Proxy(t.ctx,zw));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?X_(t):null;Rr(t),ii();const i=yr(r,t,0,[t.props,s]);if(oi(),vr(),kh(i)){if(i.then(vr,vr),e)return i.then(o=>{wu(t,o,e)}).catch(o=>{Do(o,t,0)});t.asyncDep=i}else wu(t,i,e)}else Y_(t,e)}function wu(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=y_(e)),Y_(t,n)}let op;function Y_(t,e,n){const r=t.type;if(!t.render){if(!e&&op&&!r.render){const s=r.template||Jh(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=ut(ut({isCustomElement:i,delimiters:a},o),c);r.render=op(s,l)}}t.render=r.render||un}{Rr(t),ii();try{Jw(t)}finally{oi(),vr()}}}function Cb(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return qt(t,"get","$attrs"),e[n]}}))}function X_(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Cb(t)},slots:t.slots,emit:t.emit,expose:e}}function jc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(y_(Fc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ui)return Ui[n](t)},has(e,n){return n in e||n in Ui}}))}function Pb(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function Sb(t){return fe(t)&&"__vccOpts"in t}const ke=(t,e)=>gw(t,e,io);function Vo(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!te(e)?so(e)?ie(t,null,[e]):ie(t,e):ie(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&so(n)&&(n=[n]),ie(t,e,n))}const Ob=Symbol.for("v-scx"),kb=()=>sn(Ob),Nb="3.3.8",Db="http://www.w3.org/2000/svg",Kr=typeof document<"u"?document:null,ap=Kr&&Kr.createElement("template"),Lb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?Kr.createElementNS(Db,t):Kr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Kr.createTextNode(t),createComment:t=>Kr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ap.innerHTML=r?`<svg>${t}</svg>`:t;const a=ap.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zn="transition",Ii="animation",oo=Symbol("_vtc"),J_=(t,{slots:e})=>Vo(Vw,Mb(t),e);J_.displayName="Transition";const Z_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};J_.props=ut({},O_,Z_);const Br=(t,e=[])=>{te(t)?t.forEach(n=>n(...e)):t&&t(...e)},cp=t=>t?te(t)?t.some(e=>e.length>1):t.length>1:!1;function Mb(t){const e={};for(const B in t)B in Z_||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,_=xb(s),T=_&&_[0],w=_&&_[1],{onBeforeEnter:g,onEnter:I,onEnterCancelled:b,onLeave:v,onLeaveCancelled:C,onBeforeAppear:S=g,onAppear:P=I,onAppearCancelled:N=b}=e,k=(B,ee,ye)=>{jr(B,ee?u:a),jr(B,ee?l:o),ye&&ye()},x=(B,ee)=>{B._isLeaving=!1,jr(B,h),jr(B,m),jr(B,f),ee&&ee()},z=B=>(ee,ye)=>{const Ae=B?P:I,Z=()=>k(ee,B,ye);Br(Ae,[ee,Z]),lp(()=>{jr(ee,B?c:i),er(ee,B?u:a),cp(Ae)||up(ee,r,T,Z)})};return ut(e,{onBeforeEnter(B){Br(g,[B]),er(B,i),er(B,o)},onBeforeAppear(B){Br(S,[B]),er(B,c),er(B,l)},onEnter:z(!1),onAppear:z(!0),onLeave(B,ee){B._isLeaving=!0;const ye=()=>x(B,ee);er(B,h),Ub(),er(B,f),lp(()=>{B._isLeaving&&(jr(B,h),er(B,m),cp(v)||up(B,r,w,ye))}),Br(v,[B,ye])},onEnterCancelled(B){k(B,!1),Br(b,[B])},onAppearCancelled(B){k(B,!0),Br(N,[B])},onLeaveCancelled(B){x(B),Br(C,[B])}})}function xb(t){if(t==null)return null;if(Ve(t))return[Ll(t.enter),Ll(t.leave)];{const e=Ll(t);return[e,e]}}function Ll(t){return t_(t)}function er(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[oo]||(t[oo]=new Set)).add(e)}function jr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[oo];n&&(n.delete(e),n.size||(t[oo]=void 0))}function lp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Fb=0;function up(t,e,n,r){const s=t._endId=++Fb,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Vb(t,e);if(!o)return r();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,f),i()},f=m=>{m.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,f)}function Vb(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),s=r(`${Zn}Delay`),i=r(`${Zn}Duration`),o=hp(s,i),a=r(`${Ii}Delay`),c=r(`${Ii}Duration`),l=hp(a,c);let u=null,h=0,f=0;e===Zn?o>0&&(u=Zn,h=o,f=i.length):e===Ii?l>0&&(u=Ii,h=l,f=c.length):(h=Math.max(o,l),u=h>0?o>l?Zn:Ii:null,f=u?u===Zn?i.length:c.length:0);const m=u===Zn&&/\b(transform|all)(,|$)/.test(r(`${Zn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:m}}function hp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>fp(n)+fp(t[r])))}function fp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ub(){return document.body.offsetHeight}function $b(t,e,n){const r=t[oo];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const rf=Symbol("_vod"),Qx={beforeMount(t,{value:e},{transition:n}){t[rf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):wi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),wi(t,!0),r.enter(t)):r.leave(t,()=>{wi(t,!1)}):wi(t,e))},beforeUnmount(t,{value:e}){wi(t,e)}};function wi(t,e){t.style.display=e?t[rf]:"none"}function Bb(t,e,n){const r=t.style,s=ze(n);if(n&&!s){if(e&&!ze(e))for(const i in e)n[i]==null&&bu(r,i,"");for(const i in n)bu(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),rf in t&&(r.display=i)}}const dp=/\s*!important$/;function bu(t,e,n){if(te(n))n.forEach(r=>bu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=jb(t,e);dp.test(n)?t.setProperty(fs(r),n.replace(dp,""),"important"):t[r]=n}}const pp=["Webkit","Moz","ms"],Ml={};function jb(t,e){const n=Ml[e];if(n)return n;let r=kn(e);if(r!=="filter"&&r in t)return Ml[e]=r;r=Nc(r);for(let s=0;s<pp.length;s++){const i=pp[s]+r;if(i in t)return Ml[e]=i}return e}const mp="http://www.w3.org/1999/xlink";function qb(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(mp,e.slice(6,e.length)):t.setAttributeNS(mp,e,n);else{const i=FI(e);n==null||i&&!n_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Hb(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=n_(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Qr(t,e,n,r){t.addEventListener(e,n,r)}function Wb(t,e,n,r){t.removeEventListener(e,n,r)}const gp=Symbol("_vei");function Kb(t,e,n,r,s=null){const i=t[gp]||(t[gp]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=Qb(e);if(r){const l=i[e]=Yb(r,s);Qr(t,a,l,c)}else o&&(Wb(t,a,o,c),i[e]=void 0)}}const _p=/(?:Once|Passive|Capture)$/;function Qb(t){let e;if(_p.test(t)){e={};let r;for(;r=t.match(_p);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):fs(t.slice(2)),e]}let xl=0;const Gb=Promise.resolve(),zb=()=>xl||(Gb.then(()=>xl=0),xl=Date.now());function Yb(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;nn(Xb(r,n.value),e,5,[r])};return n.value=t,n.attached=zb(),n}function Xb(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const yp=/^on[a-z]/,Jb=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?$b(t,r,s):e==="style"?Bb(t,n,r):Sc(e)?Sh(e)||Kb(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Zb(t,e,r,s))?Hb(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),qb(t,e,r,s))};function Zb(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&yp.test(e)&&fe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||yp.test(e)&&ze(n)?!1:e in t}const Ja=t=>{const e=t.props["onUpdate:modelValue"]||!1;return te(e)?n=>Da(e,n):e};function eA(t){t.target.composing=!0}function vp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ls=Symbol("_assign"),Gx={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Ls]=Ja(s);const i=r||s.props&&s.props.type==="number";Qr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Qa(a)),t[Ls](a)}),n&&Qr(t,"change",()=>{t.value=t.value.trim()}),e||(Qr(t,"compositionstart",eA),Qr(t,"compositionend",vp),Qr(t,"change",vp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[Ls]=Ja(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&Qa(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},zx={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Oc(e);Qr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Qa(Za(o)):Za(o));t[Ls](t.multiple?s?new Set(i):i:i[0])}),t[Ls]=Ja(r)},mounted(t,{value:e}){Ep(t,e)},beforeUpdate(t,e,n){t[Ls]=Ja(n)},updated(t,{value:e}){Ep(t,e)}};function Ep(t,e){const n=t.multiple;if(!(n&&!te(e)&&!Oc(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=Za(i);if(n)te(e)?i.selected=UI(e,o)>-1:i.selected=e.has(o);else if(Lc(Za(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Za(t){return"_value"in t?t._value:t.value}const tA=["ctrl","shift","alt","meta"],nA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>tA.some(n=>t[`${n}Key`]&&!e.includes(n))},Yx=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=nA[e[s]];if(i&&i(n,e))return}return t(n,...r)},rA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xx=(t,e)=>n=>{if(!("key"in n))return;const r=fs(n.key);if(e.some(s=>s===r||rA[s]===r))return t(n)},sA=ut({patchProp:Jb},Lb);let Tp;function ey(){return Tp||(Tp=hb(sA))}const Jx=(...t)=>{ey().render(...t)},iA=(...t)=>{const e=ey().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=oA(r);if(!s)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function oA(t){return ze(t)?document.querySelector(t):t}var aA=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ty;const qc=t=>ty=t,ny=Symbol();function Au(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ji;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ji||(ji={}));function cA(){const t=Dh(!0),e=t.run(()=>We({}));let n=[],r=[];const s=Fc({install(i){qc(s),s._a=i,i.provide(ny,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!aA?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const ry=()=>{};function Ip(t,e,n,r=ry){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Lh()&&Mc(s),s}function Es(t,...e){t.slice().forEach(n=>{n(...e)})}const lA=t=>t();function Ru(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Au(s)&&Au(r)&&t.hasOwnProperty(n)&&!$e(r)&&!_r(r)?t[n]=Ru(s,r):t[n]=r}return t}const uA=Symbol();function hA(t){return!Au(t)||!t.hasOwnProperty(uA)}const{assign:ir}=Object;function fA(t){return!!($e(t)&&t.effect)}function dA(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=Hh(n.state.value[t]);return ir(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Fc(ke(()=>{qc(n);const m=n._s.get(t);return o[f].call(m,m)})),h),{}))}return c=sy(t,l,e,n,r,!0),c}function sy(t,e,n={},r,s,i){let o;const a=ir({actions:{}},n),c={deep:!0};let l,u,h=[],f=[],m;const _=r.state.value[t];!i&&!_&&(r.state.value[t]={}),We({});let T;function w(N){let k;l=u=!1,typeof N=="function"?(N(r.state.value[t]),k={type:ji.patchFunction,storeId:t,events:m}):(Ru(r.state.value[t],N),k={type:ji.patchObject,payload:N,storeId:t,events:m});const x=T=Symbol();Lo().then(()=>{T===x&&(l=!0)}),u=!0,Es(h,k,r.state.value[t])}const g=i?function(){const{state:k}=n,x=k?k():{};this.$patch(z=>{ir(z,x)})}:ry;function I(){o.stop(),h=[],f=[],r._s.delete(t)}function b(N,k){return function(){qc(r);const x=Array.from(arguments),z=[],B=[];function ee(Z){z.push(Z)}function ye(Z){B.push(Z)}Es(f,{args:x,name:N,store:C,after:ee,onError:ye});let Ae;try{Ae=k.apply(this&&this.$id===t?this:C,x)}catch(Z){throw Es(B,Z),Z}return Ae instanceof Promise?Ae.then(Z=>(Es(z,Z),Z)).catch(Z=>(Es(B,Z),Promise.reject(Z))):(Es(z,Ae),Ae)}}const v={_p:r,$id:t,$onAction:Ip.bind(null,f),$patch:w,$reset:g,$subscribe(N,k={}){const x=Ip(h,N,k.detached,()=>z()),z=o.run(()=>rn(()=>r.state.value[t],B=>{(k.flush==="sync"?u:l)&&N({storeId:t,type:ji.direct,events:m},B)},ir({},c,k)));return x},$dispose:I},C=Hn(v);r._s.set(t,C);const P=(r._a&&r._a.runWithContext||lA)(()=>r._e.run(()=>(o=Dh()).run(e)));for(const N in P){const k=P[N];if($e(k)&&!fA(k)||_r(k))i||(_&&hA(k)&&($e(k)?k.value=_[N]:Ru(k,_[N])),r.state.value[t][N]=k);else if(typeof k=="function"){const x=b(N,k);P[N]=x,a.actions[N]=k}}return ir(C,P),ir(Ce(C),P),Object.defineProperty(C,"$state",{get:()=>r.state.value[t],set:N=>{w(k=>{ir(k,N)})}}),r._p.forEach(N=>{ir(C,o.run(()=>N({store:C,app:r._a,pinia:r,options:a})))}),_&&i&&n.hydrate&&n.hydrate(C.$state,_),l=!0,u=!0,C}function iy(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,c){const l=ib();return a=a||(l?sn(ny,null):null),a&&qc(a),a=ty,a._s.has(r)||(i?sy(r,e,s,a):dA(r,s,a)),a._s.get(r)}return o.$id=r,o}function Cu(t,e){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Cu(t,e)}function li(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cu(t,e)}var ui=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var s=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Se.apply(this,arguments)}var ec=typeof window>"u";function Ct(){}function pA(t,e){return typeof t=="function"?t(e):t}function Pu(t){return typeof t=="number"&&t>=0&&t!==1/0}function tc(t){return Array.isArray(t)?t:[t]}function oy(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fl(t,e,n){return Hc(t)?typeof e=="function"?Se({},n,{queryKey:t,queryFn:e}):Se({},e,{queryKey:t}):t}function cr(t,e,n){return Hc(t)?[Se({},e,{queryKey:t}),n]:[t||{},e]}function mA(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function wp(t,e){var n=t.active,r=t.exact,s=t.fetching,i=t.inactive,o=t.predicate,a=t.queryKey,c=t.stale;if(Hc(a)){if(r){if(e.queryHash!==sf(a,e.options))return!1}else if(!nc(e.queryKey,a))return!1}var l=mA(n,i);if(l==="none")return!1;if(l!=="all"){var u=e.isActive();if(l==="active"&&!u||l==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof s=="boolean"&&e.isFetching()!==s||o&&!o(e))}function bp(t,e){var n=t.exact,r=t.fetching,s=t.predicate,i=t.mutationKey;if(Hc(i)){if(!e.options.mutationKey)return!1;if(n){if(zr(e.options.mutationKey)!==zr(i))return!1}else if(!nc(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function sf(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||zr;return n(t)}function zr(t){var e=tc(t);return gA(e)}function gA(t){return JSON.stringify(t,function(e,n){return Su(n)?Object.keys(n).sort().reduce(function(r,s){return r[s]=n[s],r},{}):n})}function nc(t,e){return ay(tc(t),tc(e))}function ay(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!ay(t[n],e[n])}):!1}function rc(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Su(t)&&Su(e)){for(var r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{},a=0,c=0;c<i;c++){var l=n?c:s[c];o[l]=rc(t[l],e[l]),o[l]===t[l]&&a++}return r===i&&a===r?t:o}return e}function _A(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Su(t){if(!Ap(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!Ap(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ap(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hc(t){return typeof t=="string"||Array.isArray(t)}function yA(t){return new Promise(function(e){setTimeout(e,t)})}function Rp(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function cy(){if(typeof AbortController=="function")return new AbortController}var vA=function(t){li(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!ec&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(s){this.focused=s,s&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(s){s()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(ui),qi=new vA,EA=function(t){li(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!ec&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(s){this.online=s,s&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(s){s()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(ui),xa=new EA;function TA(t){return Math.min(1e3*Math.pow(2,t),3e4)}function sc(t){return typeof(t==null?void 0:t.cancel)=="function"}var ly=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Fa(t){return t instanceof ly}var uy=function(e){var n=this,r=!1,s,i,o,a;this.abort=e.abort,this.cancel=function(f){return s==null?void 0:s(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,m){o=f,a=m});var c=function(m){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(m),i==null||i(),o(m))},l=function(m){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(m),i==null||i(),a(m))},u=function(){return new Promise(function(m){i=m,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function f(){if(!n.isResolved){var m;try{m=e.fn()}catch(_){m=Promise.reject(_)}s=function(T){if(!n.isResolved&&(l(new ly(T)),n.abort==null||n.abort(),sc(m)))try{m.cancel()}catch{}},n.isTransportCancelable=sc(m),Promise.resolve(m).then(c).catch(function(_){var T,w;if(!n.isResolved){var g=(T=e.retry)!=null?T:3,I=(w=e.retryDelay)!=null?w:TA,b=typeof I=="function"?I(n.failureCount,_):I,v=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,_);if(r||!v){l(_);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,_),yA(b).then(function(){if(!qi.isFocused()||!xa.isOnline())return u()}).then(function(){r?l(_):f()})}})}};h()},IA=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(r){var s=this;this.transactions?this.queue.push(r):Rp(function(){s.notifyFn(r)})},e.batchCalls=function(r){var s=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];s.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&Rp(function(){r.batchNotifyFn(function(){s.forEach(function(i){r.notifyFn(i)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),dt=new IA,wA=console;function ic(){return wA}var bA=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var s;this.options=Se({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Pu(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,s){var i,o,a=this.state.data,c=pA(r,a);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,a,c)?c=a:this.options.structuralSharing!==!1&&(c=rc(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},e.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},e.cancel=function(r){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(r),i?i.then(Ct).catch(Ct):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!oy(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,s){var i=this,o,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(I){return I.options.queryFn});u&&this.setOptions(u.options)}var h=tc(this.queryKey),f=cy(),m={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var _=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},T={fetchOptions:s,options:this.options,queryKey:h,state:this.state,fetchFn:_,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var w;(w=this.options.behavior)==null||w.onFetch(T)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=T.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=T.fetchOptions)==null?void 0:g.meta})}return this.retryer=new uy({fn:T.fetchFn,abort:f==null||(c=f.abort)==null?void 0:c.bind(f),onSuccess:function(b){i.setData(b),i.cache.config.onSuccess==null||i.cache.config.onSuccess(b,i),i.cacheTime===0&&i.optionalRemove()},onError:function(b){Fa(b)&&b.silent||i.dispatch({type:"error",error:b}),Fa(b)||(i.cache.config.onError==null||i.cache.config.onError(b,i),ic().error(b)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:T.options.retry,retryDelay:T.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),dt.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,s){var i,o;switch(s.type){case"failed":return Se({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Se({},r,{isPaused:!0});case"continue":return Se({},r,{isPaused:!1});case"fetch":return Se({},r,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Se({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=s.error;return Fa(a)&&a.revert&&this.revertState?Se({},this.revertState):Se({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Se({},r,{isInvalidated:!0});case"setState":return Se({},r,s.state);default:return r}},t}(),hy=function(t){li(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var n=e.prototype;return n.build=function(s,i,o){var a,c=i.queryKey,l=(a=i.queryHash)!=null?a:sf(c,i),u=this.get(l);return u||(u=new bA({cache:this,queryKey:c,queryHash:l,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(u)),u},n.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},n.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},n.clear=function(){var s=this;dt.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},n.get=function(s){return this.queriesMap[s]},n.getAll=function(){return this.queries},n.find=function(s,i){var o=cr(s,i),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(c){return wp(a,c)})},n.findAll=function(s,i){var o=cr(s,i),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(c){return wp(a,c)}):this.queries},n.notify=function(s){var i=this;dt.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){var s=this;dt.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var s=this;dt.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(ui),AA=function(){function t(n){this.options=Se({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||fy(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ct).catch(Ct)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){s=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),ic().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,s;return this.retryer=new uy({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var s=this;this.state=RA(this.state,r),dt.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(r)}),s.mutationCache.notify(s)})},t}();function fy(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function RA(t,e){switch(e.type){case"failed":return Se({},t,{failureCount:t.failureCount+1});case"pause":return Se({},t,{isPaused:!0});case"continue":return Se({},t,{isPaused:!1});case"loading":return Se({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Se({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Se({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Se({},t,e.state);default:return t}}var dy=function(t){li(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var n=e.prototype;return n.build=function(s,i,o){var a=new AA({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(s){this.mutations.push(s),this.notify(s)},n.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},n.clear=function(){var s=this;dt.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return bp(s,i)})},n.findAll=function(s){return this.mutations.filter(function(i){return bp(s,i)})},n.notify=function(s){var i=this;dt.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return dt.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(Ct)})},Promise.resolve())})},e}(ui);function CA(){return{onFetch:function(e){e.fetchFn=function(){var n,r,s,i,o,a,c=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,l=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",m=((o=e.state.data)==null?void 0:o.pages)||[],_=((a=e.state.data)==null?void 0:a.pageParams)||[],T=cy(),w=T==null?void 0:T.signal,g=_,I=!1,b=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},v=function(ye,Ae,Z,me){return g=me?[Ae].concat(g):[].concat(g,[Ae]),me?[Z].concat(ye):[].concat(ye,[Z])},C=function(ye,Ae,Z,me){if(I)return Promise.reject("Cancelled");if(typeof Z>"u"&&!Ae&&ye.length)return Promise.resolve(ye);var ue={queryKey:e.queryKey,signal:w,pageParam:Z,meta:e.meta},Ne=b(ue),et=Promise.resolve(Ne).then(function(Xe){return v(ye,Z,Xe,me)});if(sc(Ne)){var tt=et;tt.cancel=Ne.cancel}return et},S;if(!m.length)S=C([]);else if(h){var P=typeof u<"u",N=P?u:Cp(e.options,m);S=C(m,P,N)}else if(f){var k=typeof u<"u",x=k?u:PA(e.options,m);S=C(m,k,x,!0)}else(function(){g=[];var ee=typeof e.options.getNextPageParam>"u",ye=c&&m[0]?c(m[0],0,m):!0;S=ye?C([],ee,_[0]):Promise.resolve(v([],_[0],m[0]));for(var Ae=function(ue){S=S.then(function(Ne){var et=c&&m[ue]?c(m[ue],ue,m):!0;if(et){var tt=ee?_[ue]:Cp(e.options,Ne);return C(Ne,ee,tt)}return Promise.resolve(v(Ne,_[ue],m[ue]))})},Z=1;Z<m.length;Z++)Ae(Z)})();var z=S.then(function(ee){return{pages:ee,pageParams:g}}),B=z;return B.cancel=function(){I=!0,T==null||T.abort(),sc(S)&&S.cancel()},z}}}}function Cp(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function PA(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var SA=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new hy,this.mutationCache=n.mutationCache||new dy,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=qi.subscribe(function(){qi.isFocused()&&xa.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=xa.subscribe(function(){qi.isFocused()&&xa.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(r,s){var i=cr(r,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(Se({},r,{fetching:!0})).length},e.getQueryData=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var i=s.queryKey,o=s.state,a=o.data;return[i,a]})},e.setQueryData=function(r,s,i){var o=Fl(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(s,i)},e.setQueriesData=function(r,s,i){var o=this;return dt.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,o.setQueryData(c,s,i)]})})},e.getQueryState=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state},e.removeQueries=function(r,s){var i=cr(r,s),o=i[0],a=this.queryCache;dt.batch(function(){a.findAll(o).forEach(function(c){a.remove(c)})})},e.resetQueries=function(r,s,i){var o=this,a=cr(r,s,i),c=a[0],l=a[1],u=this.queryCache,h=Se({},c,{active:!0});return dt.batch(function(){return u.findAll(c).forEach(function(f){f.reset()}),o.refetchQueries(h,l)})},e.cancelQueries=function(r,s,i){var o=this,a=cr(r,s,i),c=a[0],l=a[1],u=l===void 0?{}:l;typeof u.revert>"u"&&(u.revert=!0);var h=dt.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.cancel(u)})});return Promise.all(h).then(Ct).catch(Ct)},e.invalidateQueries=function(r,s,i){var o,a,c,l=this,u=cr(r,s,i),h=u[0],f=u[1],m=Se({},h,{active:(o=(a=h.refetchActive)!=null?a:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return dt.batch(function(){return l.queryCache.findAll(h).forEach(function(_){_.invalidate()}),l.refetchQueries(m,f)})},e.refetchQueries=function(r,s,i){var o=this,a=cr(r,s,i),c=a[0],l=a[1],u=dt.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.fetch(void 0,Se({},l,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(u).then(Ct);return l!=null&&l.throwOnError||(h=h.catch(Ct)),h},e.fetchQuery=function(r,s,i){var o=Fl(r,s,i),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},e.prefetchQuery=function(r,s,i){return this.fetchQuery(r,s,i).then(Ct).catch(Ct)},e.fetchInfiniteQuery=function(r,s,i){var o=Fl(r,s,i);return o.behavior=CA(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,s,i){return this.fetchInfiniteQuery(r,s,i).then(Ct).catch(Ct)},e.cancelMutations=function(){var r=this,s=dt.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(Ct).catch(Ct)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,s){var i=this.queryDefaults.find(function(o){return zr(r)===zr(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},e.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(i){return nc(r,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(r,s){var i=this.mutationDefaults.find(function(o){return zr(r)===zr(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},e.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(i){return nc(r,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=Se({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=sf(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Se({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),OA=function(t){li(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Pp(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Ou(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Ou(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(s,i){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&Sp(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},n.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(s,i){var o=this,a={},c=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(s).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return c(l),s[l]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),a},n.getNextResult=function(s){var i=this;return new Promise(function(o,a){var c=i.subscribe(function(l){l.isFetching||(c(),l.isError&&(s!=null&&s.throwOnError)?a(l.error):o(l))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(s){return this.fetch(Se({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},n.fetchOptimistic=function(s){var i=this,o=this.client.defaultQueryObserverOptions(s),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return i.createResult(a,o)})},n.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(Ct)),i},n.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(ec||this.currentResult.isStale||!Pu(this.options.staleTime))){var i=oy(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},o)}},n.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},n.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(ec||this.options.enabled===!1||!Pu(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||qi.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(s,i){var o=this.currentQuery,a=this.options,c=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,h=s!==o,f=h?s.state:this.currentQueryInitialState,m=h?this.currentResult:this.previousQueryResult,_=s.state,T=_.dataUpdatedAt,w=_.error,g=_.errorUpdatedAt,I=_.isFetching,b=_.status,v=!1,C=!1,S;if(i.optimisticResults){var P=this.hasListeners(),N=!P&&Pp(s,i),k=P&&Sp(s,o,i,a);(N||k)&&(I=!0,T||(b="loading"))}if(i.keepPreviousData&&!_.dataUpdateCount&&(m!=null&&m.isSuccess)&&b!=="error")S=m.data,T=m.dataUpdatedAt,b=m.status,v=!0;else if(i.select&&typeof _.data<"u")if(c&&_.data===(l==null?void 0:l.data)&&i.select===this.selectFn)S=this.selectResult;else try{this.selectFn=i.select,S=i.select(_.data),i.structuralSharing!==!1&&(S=rc(c==null?void 0:c.data,S)),this.selectResult=S,this.selectError=null}catch(B){ic().error(B),this.selectError=B}else S=_.data;if(typeof i.placeholderData<"u"&&typeof S>"u"&&(b==="loading"||b==="idle")){var x;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))x=c.data;else if(x=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof x<"u")try{x=i.select(x),i.structuralSharing!==!1&&(x=rc(c==null?void 0:c.data,x)),this.selectError=null}catch(B){ic().error(B),this.selectError=B}typeof x<"u"&&(b="success",S=x,C=!0)}this.selectError&&(w=this.selectError,S=this.selectResult,g=Date.now(),b="error");var z={status:b,isLoading:b==="loading",isSuccess:b==="success",isError:b==="error",isIdle:b==="idle",data:S,dataUpdatedAt:T,error:w,errorUpdatedAt:g,failureCount:_.fetchFailureCount,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>f.dataUpdateCount||_.errorUpdateCount>f.errorUpdateCount,isFetching:I,isRefetching:I&&b!=="loading",isLoadingError:b==="error"&&_.dataUpdatedAt===0,isPlaceholderData:C,isPreviousData:v,isRefetchError:b==="error"&&_.dataUpdatedAt!==0,isStale:of(s,i),refetch:this.refetch,remove:this.remove};return z},n.shouldNotifyListeners=function(s,i){if(!i)return!0;var o=this.options,a=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!a&&!c||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(s).some(function(u){var h=u,f=s[h]!==i[h],m=l==null?void 0:l.some(function(T){return T===u}),_=c==null?void 0:c.some(function(T){return T===u});return f&&!_&&(!l||m)})},n.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!_A(this.currentResult,i)){var o={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(Se({},o,s))}},n.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},n.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Fa(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(s){var i=this;dt.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(ui);function kA(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Pp(t,e){return kA(t,e)||t.state.dataUpdatedAt>0&&Ou(t,e,e.refetchOnMount)}function Ou(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&of(t,e)}return!1}function Sp(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&of(t,n)}function of(t,e){return t.isStaleByTime(e.staleTime)}var NA=function(t){li(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.setOptions(s),i.bindMethods(),i.updateResult(),i}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},n.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},n.onMutationUpdate=function(s){this.updateResult();var i={listeners:!0};s.type==="success"?i.onSuccess=!0:s.type==="error"&&(i.onError=!0),this.notify(i)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(s,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Se({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:fy(),i=Se({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},n.notify=function(s){var i=this;dt.batch(function(){i.mutateOptions&&(s.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):s.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},e}(ui),af={exports:{}},py={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},my=Object.keys(py).join("|"),DA=new RegExp(my,"g"),LA=new RegExp(my,""),gy=function(t){return t.replace(DA,function(e){return py[e]})},MA=function(t){return!!t.match(LA)};af.exports=gy;af.exports.has=MA;af.exports.remove=gy;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ku=function(t,e){return ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ku(t,e)};function cf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ku(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var En=function(){return En=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},En.apply(this,arguments)},xA="VUE_QUERY_CLIENT";function Nu(t){var e=t?":".concat(t):"";return"".concat(xA).concat(e)}function Kt(t){return typeof t=="string"||Array.isArray(t)}function FA(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),Kt(t)?typeof e=="function"?Object.assign(n,{mutationKey:t,mutationFn:e}):Object.assign(e,{mutationKey:t}):typeof t=="function"?Object.assign(e,{mutationFn:t}):t}function _y(t,e){Object.keys(t).forEach(function(n){t[n]=e[n]})}function Du(t,e){if(e){var n=e(t);if(n!==void 0||$e(t))return n}if(Array.isArray(t))return t.map(function(s){return Du(s,e)});if(typeof t=="object"&&VA(t)){var r=Object.entries(t).map(function(s){var i=s[0],o=s[1];return[i,Du(o,e)]});return Object.fromEntries(r)}return t}function re(t){return Du(t,function(e){if($e(e))return re(Fe(e))})}function VA(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function yy(t){var e;t===void 0&&(t="");var n=(e=hn())===null||e===void 0?void 0:e.proxy;if(!n)throw new Error("vue-query hooks can only be used inside setup() function.");var r=Nu(t),s=sn(r);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}var UA=function(t){cf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.find=function(n,r){var s=re(n),i=re(r);return t.prototype.find.call(this,s,i)},e.prototype.findAll=function(n,r){var s=re(n),i=re(r);return Kt(s)?t.prototype.findAll.call(this,s,i):t.prototype.findAll.call(this,s)},e}(hy),$A=function(t){cf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.find=function(n){return t.prototype.find.call(this,re(n))},e.prototype.findAll=function(n){return t.prototype.findAll.call(this,re(n))},e}(dy),Op=function(t){cf(e,t);function e(n){n===void 0&&(n={});var r=re(n),s={defaultOptions:re(r.defaultOptions),queryCache:r.queryCache||new UA,mutationCache:r.mutationCache||new $A};return t.call(this,s)||this}return e.prototype.isFetching=function(n,r){var s=re(n),i=re(r);return Kt(s)?t.prototype.isFetching.call(this,s,i):t.prototype.isFetching.call(this,s)},e.prototype.isMutating=function(n){return t.prototype.isMutating.call(this,re(n))},e.prototype.getQueryData=function(n,r){return t.prototype.getQueryData.call(this,re(n),re(r))},e.prototype.getQueriesData=function(n){var r=re(n);return Kt(r)?t.prototype.getQueriesData.call(this,r):t.prototype.getQueriesData.call(this,r)},e.prototype.setQueryData=function(n,r,s){return t.prototype.setQueryData.call(this,re(n),r,re(s))},e.prototype.setQueriesData=function(n,r,s){var i=re(n),o=re(s);return Kt(i)?t.prototype.setQueriesData.call(this,i,r,o):t.prototype.setQueriesData.call(this,i,r,o)},e.prototype.getQueryState=function(n,r){return t.prototype.getQueryState.call(this,re(n),re(r))},e.prototype.removeQueries=function(n,r){var s=re(n);return Kt(s)?t.prototype.removeQueries.call(this,s,re(r)):t.prototype.removeQueries.call(this,s)},e.prototype.resetQueries=function(n,r,s){var i=re(n),o=re(r);return Kt(i)?t.prototype.resetQueries.call(this,i,o,re(s)):t.prototype.resetQueries.call(this,i,o)},e.prototype.cancelQueries=function(n,r,s){var i=re(n),o=re(r);return Kt(i)?t.prototype.cancelQueries.call(this,i,o,re(s)):t.prototype.cancelQueries.call(this,i,o)},e.prototype.invalidateQueries=function(n,r,s){var i=re(n),o=re(r);return Kt(i)?t.prototype.invalidateQueries.call(this,i,o,re(s)):t.prototype.invalidateQueries.call(this,i,o)},e.prototype.refetchQueries=function(n,r,s){var i=re(n),o=re(r);return Kt(i)?t.prototype.refetchQueries.call(this,i,o,re(s)):t.prototype.refetchQueries.call(this,i,o)},e.prototype.fetchQuery=function(n,r,s){var i=re(n),o=re(r);return Kt(i)?t.prototype.fetchQuery.call(this,i,o,re(s)):t.prototype.fetchQuery.call(this,i)},e.prototype.prefetchQuery=function(n,r,s){return t.prototype.prefetchQuery.call(this,re(n),re(r),re(s))},e.prototype.fetchInfiniteQuery=function(n,r,s){var i=re(n),o=re(r);return Kt(i)?t.prototype.fetchInfiniteQuery.call(this,i,o,re(s)):t.prototype.fetchInfiniteQuery.call(this,i)},e.prototype.prefetchInfiniteQuery=function(n,r,s){return t.prototype.prefetchInfiniteQuery.call(this,re(n),re(r),re(s))},e.prototype.setDefaultOptions=function(n){t.prototype.setDefaultOptions.call(this,re(n))},e.prototype.setQueryDefaults=function(n,r){t.prototype.setQueryDefaults.call(this,re(n),re(r))},e.prototype.getQueryDefaults=function(n){return t.prototype.getQueryDefaults.call(this,re(n))},e.prototype.setMutationDefaults=function(n,r){t.prototype.setMutationDefaults.call(this,re(n),re(r))},e.prototype.getMutationDefaults=function(n){return t.prototype.getMutationDefaults.call(this,re(n))},e}(SA),kp;(function(t){t[t.Fetching=0]="Fetching",t[t.Fresh=1]="Fresh",t[t.Stale=2]="Stale",t[t.Inactive=3]="Inactive"})(kp||(kp={}));var BA={install:function(t,e){var n;e===void 0&&(e={});var r=Nu(e.queryClientKey),s;if("queryClient"in e&&e.queryClient)s=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)s=window.__VUE_QUERY_CONTEXT__;else{var i="queryClientConfig"in e?e.queryClientConfig:void 0;s=new Op(i),window.__VUE_QUERY_CONTEXT__=s}else{var i="queryClientConfig"in e?e.queryClientConfig:void 0;s=new Op(i)}s.mount();var o=function(){var c;s.unmount(),(c=e.additionalClients)===null||c===void 0||c.forEach(function(l){l.queryClient.unmount()})};if(t.onUnmount)t.onUnmount(o);else{var a=t.unmount;t.unmount=function(){o(),a()}}t.provide(r,s),(n=e.additionalClients)===null||n===void 0||n.forEach(function(c){var l=Nu(c.queryClientKey);t.provide(l,c.queryClient),c.queryClient.mount()})}};function jA(t,e,n,r){n===void 0&&(n={}),r===void 0&&(r={});var s=u(),i=yy(s.queryClientKey),o=i.defaultQueryObserverOptions(s),a=new t(i,o),c=Hn(a.getCurrentResult()),l=a.subscribe(function(h){_y(c,h)});return rn([function(){return e},function(){return n},function(){return r}],function(){a.setOptions(i.defaultQueryObserverOptions(u()))},{deep:!0}),Mc(function(){l()}),En(En({},Hh(ai(c))),{suspense:function(){return a.fetchOptimistic(o)}});function u(){var h;return Kt(e)?typeof n=="function"?h=En(En({},r),{queryKey:e,queryFn:n}):h=En(En({},n),{queryKey:e}):h=e,re(h)}}function vy(t,e,n){return jA(OA,t,e,n)}function qA(t,e,n){var r=FA(t,e,n),s=yy(r.queryClientKey),i=new NA(s,r),o=Hn(i.getCurrentResult()),a=i.subscribe(function(){_y(o,i.getCurrentResult())}),c=function(u,h){i.mutate(u,h).catch(function(){})};P_(function(){i.setOptions(r)}),Mc(function(){a()});var l=Hh(ai(o));return En(En({},l),{mutate:c,mutateAsync:o.mutate})}const HA="modulepreload",WA=function(t){return"/task-manager/"+t},Np={},ga=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=WA(i),i in Np)return;Np[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":HA,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Is=typeof window<"u";function KA(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function Vl(t,e){const n={};for(const r in e){const s=e[r];n[r]=fn(s)?s.map(t):t(s)}return n}const Hi=()=>{},fn=Array.isArray,QA=/\/$/,GA=t=>t.replace(QA,"");function Ul(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=JA(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function zA(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Dp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function YA(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&qs(e.matched[r],n.matched[s])&&Ey(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ey(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!XA(t[n],e[n]))return!1;return!0}function XA(t,e){return fn(t)?Lp(t,e):fn(e)?Lp(e,t):t===e}function Lp(t,e){return fn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function JA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ao;(function(t){t.pop="pop",t.push="push"})(ao||(ao={}));var Wi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wi||(Wi={}));function ZA(t){if(!t)if(Is){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),GA(t)}const e0=/^[^#]+#/;function t0(t,e){return t.replace(e0,"#")+e}function n0(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Wc=()=>({left:window.pageXOffset,top:window.pageYOffset});function r0(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=n0(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Mp(t,e){return(history.state?history.state.position-e:-1)+t}const Lu=new Map;function s0(t,e){Lu.set(t,e)}function i0(t){const e=Lu.get(t);return Lu.delete(t),e}let o0=()=>location.protocol+"//"+location.host;function Ty(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Dp(c,"")}return Dp(n,t)+r+s}function a0(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const m=Ty(t,location),_=n.value,T=e.value;let w=0;if(f){if(n.value=m,e.value=f,o&&o===_){o=null;return}w=T?f.position-T.position:0}else r(m);s.forEach(g=>{g(n.value,_,{delta:w,type:ao.pop,direction:w?w>0?Wi.forward:Wi.back:Wi.unknown})})};function c(){o=n.value}function l(f){s.push(f);const m=()=>{const _=s.indexOf(f);_>-1&&s.splice(_,1)};return i.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(Le({},f.state,{scroll:Wc()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function xp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Wc():null}}function c0(t){const{history:e,location:n}=window,r={value:Ty(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:o0()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(c,l){const u=Le({},e.state,xp(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Le({},s.value,e.state,{forward:c,scroll:Wc()});i(u.current,u,!0);const h=Le({},xp(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function l0(t){t=ZA(t);const e=c0(t),n=a0(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Le({location:"",base:t,go:r,createHref:t0.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function u0(t){return typeof t=="string"||t&&typeof t=="object"}function Iy(t){return typeof t=="string"||typeof t=="symbol"}const tr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wy=Symbol("");var Fp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Fp||(Fp={}));function Hs(t,e){return Le(new Error,{type:t,[wy]:!0},e)}function Ln(t,e){return t instanceof Error&&wy in t&&(e==null||!!(t.type&e))}const Vp="[^/]+?",h0={sensitive:!1,strict:!1,start:!0,end:!0},f0=/[.+*?^${}()[\]/\\]/g;function d0(t,e){const n=Le({},h0,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const f=l[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(f0,"\\$&"),m+=40;else if(f.type===1){const{value:_,repeatable:T,optional:w,regexp:g}=f;i.push({name:_,repeatable:T,optional:w});const I=g||Vp;if(I!==Vp){m+=10;try{new RegExp(`(${I})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${_}" (${I}): `+v.message)}}let b=T?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||(b=w&&l.length<2?`(?:/${b})`:"/"+b),w&&(b+="?"),s+=b,m+=20,w&&(m+=-8),T&&(m+=-20),I===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",_=i[f-1];h[_.name]=m&&_.repeatable?m.split("/"):m}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:_,repeatable:T,optional:w}=m,g=_ in l?l[_]:"";if(fn(g)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const I=fn(g)?g.join("/"):g;if(!I)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=I}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function p0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function m0(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=p0(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Up(r))return 1;if(Up(s))return-1}return s.length-r.length}function Up(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const g0={type:0,value:""},_0=/[a-zA-Z0-9_]/;function y0(t){if(!t)return[[]];if(t==="/")return[[g0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${l}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:_0.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function v0(t,e,n){const r=d0(y0(t.path),n),s=Le(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function E0(t,e){const n=[],r=new Map;e=jp({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,f){const m=!f,_=T0(u);_.aliasOf=f&&f.record;const T=jp(e,u),w=[_];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const v of b)w.push(Le({},_,{components:f?f.record.components:_.components,path:v,aliasOf:f?f.record:_}))}let g,I;for(const b of w){const{path:v}=b;if(h&&v[0]!=="/"){const C=h.record.path,S=C[C.length-1]==="/"?"":"/";b.path=h.record.path+(v&&S+v)}if(g=v0(b,h,T),f?f.alias.push(g):(I=I||g,I!==g&&I.alias.push(g),m&&u.name&&!Bp(g)&&o(u.name)),_.children){const C=_.children;for(let S=0;S<C.length;S++)i(C[S],g,f&&f.children[S])}f=f||g,(g.record.components&&Object.keys(g.record.components).length||g.record.name||g.record.redirect)&&c(g)}return I?()=>{o(I)}:Hi}function o(u){if(Iy(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&m0(u,n[h])>=0&&(u.record.path!==n[h].record.path||!by(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Bp(u)&&r.set(u.record.name,u)}function l(u,h){let f,m={},_,T;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Hs(1,{location:u});T=f.record.name,m=Le($p(h.params,f.keys.filter(I=>!I.optional).map(I=>I.name)),u.params&&$p(u.params,f.keys.map(I=>I.name))),_=f.stringify(m)}else if("path"in u)_=u.path,f=n.find(I=>I.re.test(_)),f&&(m=f.parse(_),T=f.record.name);else{if(f=h.name?r.get(h.name):n.find(I=>I.re.test(h.path)),!f)throw Hs(1,{location:u,currentLocation:h});T=f.record.name,m=Le({},h.params,u.params),_=f.stringify(m)}const w=[];let g=f;for(;g;)w.unshift(g.record),g=g.parent;return{name:T,path:_,params:m,matched:w,meta:w0(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function $p(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function T0(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:I0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function I0(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Bp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function w0(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function jp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function by(t,e){return e.children.some(n=>n===t||by(t,n))}const Ay=/#/g,b0=/&/g,A0=/\//g,R0=/=/g,C0=/\?/g,Ry=/\+/g,P0=/%5B/g,S0=/%5D/g,Cy=/%5E/g,O0=/%60/g,Py=/%7B/g,k0=/%7C/g,Sy=/%7D/g,N0=/%20/g;function lf(t){return encodeURI(""+t).replace(k0,"|").replace(P0,"[").replace(S0,"]")}function D0(t){return lf(t).replace(Py,"{").replace(Sy,"}").replace(Cy,"^")}function Mu(t){return lf(t).replace(Ry,"%2B").replace(N0,"+").replace(Ay,"%23").replace(b0,"%26").replace(O0,"`").replace(Py,"{").replace(Sy,"}").replace(Cy,"^")}function L0(t){return Mu(t).replace(R0,"%3D")}function M0(t){return lf(t).replace(Ay,"%23").replace(C0,"%3F")}function x0(t){return t==null?"":M0(t).replace(A0,"%2F")}function oc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function F0(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ry," "),o=i.indexOf("="),a=oc(o<0?i:i.slice(0,o)),c=o<0?null:oc(i.slice(o+1));if(a in e){let l=e[a];fn(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function qp(t){let e="";for(let n in t){const r=t[n];if(n=L0(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(fn(r)?r.map(i=>i&&Mu(i)):[r&&Mu(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function V0(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=fn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const U0=Symbol(""),Hp=Symbol(""),uf=Symbol(""),Oy=Symbol(""),xu=Symbol("");function bi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function lr(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(Hs(4,{from:n,to:e})):h instanceof Error?a(h):u0(h)?a(Hs(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(r&&r.instances[s],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function $l(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if($0(a)){const l=(a.__vccOpts||a)[e];l&&s.push(lr(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=KA(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&lr(f,n,r,i,o)()}))}}return s}function $0(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Wp(t){const e=sn(uf),n=sn(Oy),r=ke(()=>e.resolve(Fe(t.to))),s=ke(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(qs.bind(null,u));if(f>-1)return f;const m=Kp(c[l-2]);return l>1&&Kp(u)===m&&h[h.length-1].path!==m?h.findIndex(qs.bind(null,c[l-2])):f}),i=ke(()=>s.value>-1&&H0(n.params,r.value.params)),o=ke(()=>s.value>-1&&s.value===n.matched.length-1&&Ey(n.params,r.value.params));function a(c={}){return q0(c)?e[Fe(t.replace)?"replace":"push"](Fe(t.to)).catch(Hi):Promise.resolve()}return{route:r,href:ke(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const B0=Mo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wp,setup(t,{slots:e}){const n=Hn(Wp(t)),{options:r}=sn(uf),s=ke(()=>({[Qp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Qp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Vo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),j0=B0;function q0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function H0(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!fn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Kp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qp=(t,e,n)=>t??e??n,W0=Mo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=sn(xu),s=ke(()=>t.route||r.value),i=sn(Hp,0),o=ke(()=>{let l=Fe(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=ke(()=>s.value.matched[o.value]);La(Hp,ke(()=>o.value+1)),La(U0,a),La(xu,s);const c=We();return rn(()=>[c.value,a.value,t.name],([l,u,h],[f,m,_])=>{u&&(u.instances[h]=l,m&&m!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),l&&u&&(!m||!qs(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(T=>T(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Gp(n.default,{Component:f,route:l});const m=h.props[u],_=m?m===!0?l.params:typeof m=="function"?m(l):m:null,w=Vo(f,Le({},_,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return Gp(n.default,{Component:w,route:l})||w}}});function Gp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const K0=W0;function Q0(t){const e=E0(t.routes,t),n=t.parseQuery||F0,r=t.stringifyQuery||qp,s=t.history,i=bi(),o=bi(),a=bi(),c=qh(tr);let l=tr;Is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Vl.bind(null,L=>""+L),h=Vl.bind(null,x0),f=Vl.bind(null,oc);function m(L,K){let q,Y;return Iy(L)?(q=e.getRecordMatcher(L),Y=K):Y=L,e.addRoute(Y,q)}function _(L){const K=e.getRecordMatcher(L);K&&e.removeRoute(K)}function T(){return e.getRoutes().map(L=>L.record)}function w(L){return!!e.getRecordMatcher(L)}function g(L,K){if(K=Le({},K||c.value),typeof L=="string"){const p=Ul(n,L,K.path),y=e.resolve({path:p.path},K),A=s.createHref(p.fullPath);return Le(p,y,{params:f(y.params),hash:oc(p.hash),redirectedFrom:void 0,href:A})}let q;if("path"in L)q=Le({},L,{path:Ul(n,L.path,K.path).path});else{const p=Le({},L.params);for(const y in p)p[y]==null&&delete p[y];q=Le({},L,{params:h(p)}),K.params=h(K.params)}const Y=e.resolve(q,K),ve=L.hash||"";Y.params=u(f(Y.params));const E=zA(r,Le({},L,{hash:D0(ve),path:Y.path})),d=s.createHref(E);return Le({fullPath:E,hash:ve,query:r===qp?V0(L.query):L.query||{}},Y,{redirectedFrom:void 0,href:d})}function I(L){return typeof L=="string"?Ul(n,L,c.value.path):Le({},L)}function b(L,K){if(l!==L)return Hs(8,{from:K,to:L})}function v(L){return P(L)}function C(L){return v(Le(I(L),{replace:!0}))}function S(L){const K=L.matched[L.matched.length-1];if(K&&K.redirect){const{redirect:q}=K;let Y=typeof q=="function"?q(L):q;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=I(Y):{path:Y},Y.params={}),Le({query:L.query,hash:L.hash,params:"path"in Y?{}:L.params},Y)}}function P(L,K){const q=l=g(L),Y=c.value,ve=L.state,E=L.force,d=L.replace===!0,p=S(q);if(p)return P(Le(I(p),{state:typeof p=="object"?Le({},ve,p.state):ve,force:E,replace:d}),K||q);const y=q;y.redirectedFrom=K;let A;return!E&&YA(r,Y,q)&&(A=Hs(16,{to:y,from:Y}),tt(Y,Y,!0,!1)),(A?Promise.resolve(A):x(y,Y)).catch(O=>Ln(O)?Ln(O,2)?O:et(O):ue(O,y,Y)).then(O=>{if(O){if(Ln(O,2))return P(Le({replace:d},I(O.to),{state:typeof O.to=="object"?Le({},ve,O.to.state):ve,force:E}),K||y)}else O=B(y,Y,!0,d,ve);return z(y,Y,O),O})}function N(L,K){const q=b(L,K);return q?Promise.reject(q):Promise.resolve()}function k(L){const K=Ht.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(L):L()}function x(L,K){let q;const[Y,ve,E]=G0(L,K);q=$l(Y.reverse(),"beforeRouteLeave",L,K);for(const p of Y)p.leaveGuards.forEach(y=>{q.push(lr(y,L,K))});const d=N.bind(null,L,K);return q.push(d),Je(q).then(()=>{q=[];for(const p of i.list())q.push(lr(p,L,K));return q.push(d),Je(q)}).then(()=>{q=$l(ve,"beforeRouteUpdate",L,K);for(const p of ve)p.updateGuards.forEach(y=>{q.push(lr(y,L,K))});return q.push(d),Je(q)}).then(()=>{q=[];for(const p of E)if(p.beforeEnter)if(fn(p.beforeEnter))for(const y of p.beforeEnter)q.push(lr(y,L,K));else q.push(lr(p.beforeEnter,L,K));return q.push(d),Je(q)}).then(()=>(L.matched.forEach(p=>p.enterCallbacks={}),q=$l(E,"beforeRouteEnter",L,K),q.push(d),Je(q))).then(()=>{q=[];for(const p of o.list())q.push(lr(p,L,K));return q.push(d),Je(q)}).catch(p=>Ln(p,8)?p:Promise.reject(p))}function z(L,K,q){a.list().forEach(Y=>k(()=>Y(L,K,q)))}function B(L,K,q,Y,ve){const E=b(L,K);if(E)return E;const d=K===tr,p=Is?history.state:{};q&&(Y||d?s.replace(L.fullPath,Le({scroll:d&&p&&p.scroll},ve)):s.push(L.fullPath,ve)),c.value=L,tt(L,K,q,d),et()}let ee;function ye(){ee||(ee=s.listen((L,K,q)=>{if(!Dn.listening)return;const Y=g(L),ve=S(Y);if(ve){P(Le(ve,{replace:!0}),Y).catch(Hi);return}l=Y;const E=c.value;Is&&s0(Mp(E.fullPath,q.delta),Wc()),x(Y,E).catch(d=>Ln(d,12)?d:Ln(d,2)?(P(d.to,Y).then(p=>{Ln(p,20)&&!q.delta&&q.type===ao.pop&&s.go(-1,!1)}).catch(Hi),Promise.reject()):(q.delta&&s.go(-q.delta,!1),ue(d,Y,E))).then(d=>{d=d||B(Y,E,!1),d&&(q.delta&&!Ln(d,8)?s.go(-q.delta,!1):q.type===ao.pop&&Ln(d,20)&&s.go(-1,!1)),z(Y,E,d)}).catch(Hi)}))}let Ae=bi(),Z=bi(),me;function ue(L,K,q){et(L);const Y=Z.list();return Y.length?Y.forEach(ve=>ve(L,K,q)):console.error(L),Promise.reject(L)}function Ne(){return me&&c.value!==tr?Promise.resolve():new Promise((L,K)=>{Ae.add([L,K])})}function et(L){return me||(me=!L,ye(),Ae.list().forEach(([K,q])=>L?q(L):K()),Ae.reset()),L}function tt(L,K,q,Y){const{scrollBehavior:ve}=t;if(!Is||!ve)return Promise.resolve();const E=!q&&i0(Mp(L.fullPath,0))||(Y||!q)&&history.state&&history.state.scroll||null;return Lo().then(()=>ve(L,K,E)).then(d=>d&&r0(d)).catch(d=>ue(d,L,K))}const Xe=L=>s.go(L);let Yt;const Ht=new Set,Dn={currentRoute:c,listening:!0,addRoute:m,removeRoute:_,hasRoute:w,getRoutes:T,resolve:g,options:t,push:v,replace:C,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Z.add,isReady:Ne,install(L){const K=this;L.component("RouterLink",j0),L.component("RouterView",K0),L.config.globalProperties.$router=K,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Fe(c)}),Is&&!Yt&&c.value===tr&&(Yt=!0,v(s.location).catch(ve=>{}));const q={};for(const ve in tr)Object.defineProperty(q,ve,{get:()=>c.value[ve],enumerable:!0});L.provide(uf,K),L.provide(Oy,m_(q)),L.provide(xu,c);const Y=L.unmount;Ht.add(L),L.unmount=function(){Ht.delete(L),Ht.size<1&&(l=tr,ee&&ee(),ee=null,c.value=tr,Yt=!1,me=!1),Y()}}};function Je(L){return L.reduce((K,q)=>K.then(()=>k(q)),Promise.resolve())}return Dn}function G0(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>qs(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>qs(l,c))||s.push(c))}return[n,r,s]}const ky="/task-manager/svg/logo.svg",z0="/task-manager/svg/home-white.svg",Y0="/task-manager/svg/home.svg",X0="/task-manager/svg/task-white.svg",J0="/task-manager/svg/task.svg",Z0="/task-manager/svg/team-white.svg",eR="/task-manager/svg/team.svg",tR="/task-manager/svg/logout-white.svg",nR="/task-manager/svg/logout.svg";function Ny(t){return Lh()?(Mc(t),!0):!1}function Ws(t){return typeof t=="function"?t():Fe(t)}const Dy=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const rR=Object.prototype.toString,sR=t=>rR.call(t)==="[object Object]",Ly=()=>{},Zx=iR();function iR(){var t,e;return Dy&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function oR(t,e){function n(...r){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return n}const My=t=>t();function aR(t=My){const e=We(!0);function n(){e.value=!1}function r(){e.value=!0}const s=(...i)=>{e.value&&t(...i)};return{isActive:ai(e),pause:n,resume:r,eventFilter:s}}const eF={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function cR(t){return t||hn()}function lR(...t){if(t.length!==1)return pw(...t);const e=t[0];return typeof e=="function"?ai(hw(()=>({get:e,set:Ly}))):We(e)}function uR(t,e,n={}){const{eventFilter:r=My,...s}=n;return rn(t,oR(r,e),s)}function hR(t,e,n={}){const{eventFilter:r,...s}=n,{eventFilter:i,pause:o,resume:a,isActive:c}=aR(r);return{stop:uR(t,e,{...s,eventFilter:i}),pause:o,resume:a,isActive:c}}function xy(t,e=!0,n){const r=cR(n);r?xo(t,r):e?t():Lo(t)}function Fy(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,s=$e(t),i=We(t);function o(a){if(arguments.length)return i.value=a,i.value;{const c=Ws(n);return i.value=i.value===c?Ws(r):c,i.value}}return s?o:[i,o]}function Vy(t){var e;const n=Ws(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Ks=Dy?window:void 0;function zp(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=Ks):[e,n,r,s]=t,!e)return Ly;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,h,f,m)=>(u.addEventListener(h,f,m),()=>u.removeEventListener(h,f,m)),c=rn(()=>[Vy(e),Ws(s)],([u,h])=>{if(o(),!u)return;const f=sR(h)?{...h}:h;i.push(...n.flatMap(m=>r.map(_=>a(u,m,_,f))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return Ny(l),l}function fR(){const t=We(!1);return hn()&&xo(()=>{t.value=!0}),t}function dR(t){const e=fR();return ke(()=>(e.value,!!t()))}function pR(t,e={}){const{window:n=Ks}=e,r=dR(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const i=We(!1),o=l=>{i.value=l.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o))},c=P_(()=>{r.value&&(a(),s=n.matchMedia(Ws(t)),"addEventListener"in s?s.addEventListener("change",o):s.addListener(o),i.value=s.matches)});return Ny(()=>{c(),a(),s=void 0}),i}const _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ya="__vueuse_ssr_handlers__",mR=gR();function gR(){return ya in _a||(_a[ya]=_a[ya]||{}),_a[ya]}function Uy(t,e){return mR[t]||e}function _R(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const yR={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Yp="vueuse-storage";function vR(t,e,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:h=Ks,eventFilter:f,onError:m=k=>{console.error(k)},initOnMounted:_}=r,T=(u?qh:We)(typeof e=="function"?e():e);if(!n)try{n=Uy("getDefaultStorage",()=>{var k;return(k=Ks)==null?void 0:k.localStorage})()}catch(k){m(k)}if(!n)return T;const w=Ws(e),g=_R(w),I=(s=r.serializer)!=null?s:yR[g],{pause:b,resume:v}=hR(T,()=>C(T.value),{flush:i,deep:o,eventFilter:f});return h&&a&&xy(()=>{zp(h,"storage",N),zp(h,Yp,P),_&&N()}),_||N(),T;function C(k){try{if(k==null)n.removeItem(t);else{const x=I.write(k),z=n.getItem(t);z!==x&&(n.setItem(t,x),h&&h.dispatchEvent(new CustomEvent(Yp,{detail:{key:t,oldValue:z,newValue:x,storageArea:n}})))}}catch(x){m(x)}}function S(k){const x=k?k.newValue:n.getItem(t);if(x==null)return c&&w!=null&&n.setItem(t,I.write(w)),w;if(!k&&l){const z=I.read(x);return typeof l=="function"?l(z,w):g==="object"&&!Array.isArray(z)?{...w,...z}:z}else return typeof x!="string"?x:I.read(x)}function P(k){N(k.detail)}function N(k){if(!(k&&k.storageArea!==n)){if(k&&k.key==null){T.value=w;return}if(!(k&&k.key!==t)){b();try{(k==null?void 0:k.newValue)!==I.write(T.value)&&(T.value=S(k))}catch(x){m(x)}finally{k?Lo(v):v()}}}}}function $y(t){return pR("(prefers-color-scheme: dark)",t)}function ER(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:s=Ks,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l,disableTransition:u=!0}=t,h={auto:"",light:"light",dark:"dark",...t.modes||{}},f=$y({window:s}),m=ke(()=>f.value?"dark":"light"),_=c||(o==null?lR(r):vR(o,r,i,{window:s,listenToStorageChanges:a})),T=ke(()=>_.value==="auto"?m.value:_.value),w=Uy("updateHTMLAttrs",(v,C,S)=>{const P=typeof v=="string"?s==null?void 0:s.document.querySelector(v):Vy(v);if(!P)return;let N;if(u){N=s.document.createElement("style");const k="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";N.appendChild(document.createTextNode(k)),s.document.head.appendChild(N)}if(C==="class"){const k=S.split(/\s/g);Object.values(h).flatMap(x=>(x||"").split(/\s/g)).filter(Boolean).forEach(x=>{k.includes(x)?P.classList.add(x):P.classList.remove(x)})}else P.setAttribute(C,S);u&&(s.getComputedStyle(N).opacity,document.head.removeChild(N))});function g(v){var C;w(e,n,(C=h[v])!=null?C:v)}function I(v){t.onChanged?t.onChanged(v,g):g(v)}rn(T,I,{flush:"post",immediate:!0}),xy(()=>I(T.value));const b=ke({get(){return l?_.value:T.value},set(v){_.value=v}});try{return Object.assign(b,{store:_,system:m,state:T})}catch{return b}}function hf(t={}){const{valueDark:e="dark",valueLight:n="",window:r=Ks}=t,s=ER({...t,onChanged:(a,c)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,a==="dark",c,a):c(a)},modes:{dark:e,light:n}}),i=ke(()=>s.system?s.system.value:$y({window:r}).value?"dark":"light");return ke({get(){return s.value==="dark"},set(a){const c=a?"dark":"light";i.value===c?s.value="auto":s.value=c}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(By(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new IR;const f=i<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const _=l<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(t){const e=By(t);return jy.encodeByteArray(e,!0)},ac=function(t){return wR(t).replace(/\./g,"")},qy=function(t){try{return jy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=()=>bR().__FIREBASE_DEFAULTS__,RR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qy(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return AR()||RR()||CR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hy=t=>{var e,n;return(n=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PR=t=>{const e=Hy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wy=()=>{var t;return(t=ff())===null||t===void 0?void 0:t.config},Ky=t=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ac(JSON.stringify(n)),ac(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function NR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function xR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class Yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FR,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?VR(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Yn(s,a,r)}}function VR(t,e){return t.replace(UR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UR=/\{\$([^}]+)}/g;function $R(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Xp(i)&&Xp(o)){if(!cc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ki(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ni(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BR(t,e){const n=new jR(t,e);return n.subscribe.bind(n)}class jR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bl),s.error===void 0&&(s.error=Bl),s.complete===void 0&&(s.complete=Bl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WR(t){return t===Hr?void 0:t}function KR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const GR={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},zR=be.INFO,YR={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},XR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=zR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const JR=(t,e)=>e.some(n=>t instanceof n);let Jp,Zp;function ZR(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eC(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qy=new WeakMap,Fu=new WeakMap,Gy=new WeakMap,jl=new WeakMap,pf=new WeakMap;function tC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Er(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qy.set(n,t)}).catch(()=>{}),pf.set(e,t),e}function nC(t){if(Fu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fu.set(t,e)}let Vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rC(t){Vu=t(Vu)}function sC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ql(this),e,...n);return Gy.set(r,e.sort?e.sort():[e]),Er(r)}:eC().includes(t)?function(...e){return t.apply(ql(this),e),Er(Qy.get(this))}:function(...e){return Er(t.apply(ql(this),e))}}function iC(t){return typeof t=="function"?sC(t):(t instanceof IDBTransaction&&nC(t),JR(t,ZR())?new Proxy(t,Vu):t)}function Er(t){if(t instanceof IDBRequest)return tC(t);if(jl.has(t))return jl.get(t);const e=iC(t);return e!==t&&(jl.set(t,e),pf.set(e,t)),e}const ql=t=>pf.get(t);function oC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Er(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Er(o.result),c.oldVersion,c.newVersion,Er(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const aC=["get","getKey","getAll","getAllKeys","count"],cC=["put","add","delete","clear"],Hl=new Map;function em(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hl.get(e))return Hl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aC.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Hl.set(e,i),i}rC(t=>({...t,get:(e,n,r)=>em(e,n)||t.get(e,n,r),has:(e,n)=>!!em(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uu="@firebase/app",tm="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new df("@firebase/app"),hC="@firebase/app-compat",fC="@firebase/analytics-compat",dC="@firebase/analytics",pC="@firebase/app-check-compat",mC="@firebase/app-check",gC="@firebase/auth",_C="@firebase/auth-compat",yC="@firebase/database",vC="@firebase/database-compat",EC="@firebase/functions",TC="@firebase/functions-compat",IC="@firebase/installations",wC="@firebase/installations-compat",bC="@firebase/messaging",AC="@firebase/messaging-compat",RC="@firebase/performance",CC="@firebase/performance-compat",PC="@firebase/remote-config",SC="@firebase/remote-config-compat",OC="@firebase/storage",kC="@firebase/storage-compat",NC="@firebase/firestore",DC="@firebase/firestore-compat",LC="firebase",MC="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="[DEFAULT]",xC={[Uu]:"fire-core",[hC]:"fire-core-compat",[dC]:"fire-analytics",[fC]:"fire-analytics-compat",[mC]:"fire-app-check",[pC]:"fire-app-check-compat",[gC]:"fire-auth",[_C]:"fire-auth-compat",[yC]:"fire-rtdb",[vC]:"fire-rtdb-compat",[EC]:"fire-fn",[TC]:"fire-fn-compat",[IC]:"fire-iid",[wC]:"fire-iid-compat",[bC]:"fire-fcm",[AC]:"fire-fcm-compat",[RC]:"fire-perf",[CC]:"fire-perf-compat",[PC]:"fire-rc",[SC]:"fire-rc-compat",[OC]:"fire-gcs",[kC]:"fire-gcs-compat",[NC]:"fire-fst",[DC]:"fire-fst-compat","fire-js":"fire-js",[LC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,Bu=new Map;function FC(t,e){try{t.container.addComponent(e)}catch(n){os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Bu.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Bu.set(e,t);for(const n of lc.values())FC(n,t);return!0}function mf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Tr=new Uo("app","Firebase",VC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=MC;function zy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$u,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Tr.create("bad-app-name",{appName:String(s)});if(n||(n=Wy()),!n)throw Tr.create("no-options");const i=lc.get(s);if(i){if(cc(n,i.options)&&cc(r,i.config))return i;throw Tr.create("duplicate-app",{appName:s})}const o=new QR(s);for(const c of Bu.values())o.addComponent(c);const a=new UC(n,r,o);return lc.set(s,a),a}function Yy(t=$u){const e=lc.get(t);if(!e&&t===$u&&Wy())return zy();if(!e)throw Tr.create("no-app",{appName:t});return e}function Ir(t,e,n){var r;let s=(r=xC[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(a.join(" "));return}Qs(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebase-heartbeat-database",BC=1,co="firebase-heartbeat-store";let Wl=null;function Xy(){return Wl||(Wl=oC($C,BC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(co)}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Wl}async function jC(t){try{return await(await Xy()).transaction(co).objectStore(co).get(Jy(t))}catch(e){if(e instanceof Yn)os.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(n.message)}}}async function nm(t,e){try{const r=(await Xy()).transaction(co,"readwrite");await r.objectStore(co).put(e,Jy(t)),await r.done}catch(n){if(n instanceof Yn)os.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});os.warn(r.message)}}}function Jy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1024,HC=30*24*60*60*1e3;class WC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=HC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rm(),{heartbeatsToSend:r,unsentEntries:s}=KC(this._heartbeatsCache.heartbeats),i=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rm(){return new Date().toISOString().substring(0,10)}function KC(t,e=qC){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sm(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?xR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sm(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){Qs(new is("platform-logger",e=>new lC(e),"PRIVATE")),Qs(new is("heartbeat",e=>new WC(e),"PRIVATE")),Ir(Uu,tm,t),Ir(Uu,tm,"esm2017"),Ir("fire-js","")}GC("");function gf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Zy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=Zy,ev=new Uo("auth","Firebase",Zy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new df("@firebase/auth");function YC(t,...e){uc.logLevel<=be.WARN&&uc.warn(`Auth (${hi}): ${t}`,...e)}function Va(t,...e){uc.logLevel<=be.ERROR&&uc.error(`Auth (${hi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,...e){throw _f(t,...e)}function Cn(t,...e){return _f(t,...e)}function XC(t,e,n){const r=Object.assign(Object.assign({},zC()),{[e]:n});return new Uo("auth","Firebase",r).create(e,{appName:t.name})}function _f(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ev.create(t,...e)}function ce(t,e,...n){if(!t)throw _f(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Va(e),new Error(e)}function Wn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JC(){return im()==="http:"||im()==="https:"}function im(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JC()||NR()||"connection"in navigator)?navigator.onLine:!0}function eP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=kR()||DR()}get(){return ZC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=new Bo(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nr(t,e,n,r,s={}){return nv(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$o(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),tv.fetch()(rv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function nv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tP),e);try{const s=new sP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw va(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw va(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw va(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw va(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw XC(t,u,l);dn(t,u)}}catch(s){if(s instanceof Yn)throw s;dn(t,"network-request-failed",{message:String(s)})}}async function jo(t,e,n,r,s={}){const i=await Nr(t,e,n,r,s);return"mfaPendingCredential"in i&&dn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function rv(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?yf(t.config,s):`${t.config.apiScheme}://${s}`}function rP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),nP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function va(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cn(t,e,r);return s.customData._tokenResponse=n,s}function om(t){return t!==void 0&&t.enterprise!==void 0}class iP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oP(t,e){return Nr(t,"GET","/v2/recaptchaConfig",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function cP(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lP(t,e=!1){const n=At(t),r=await n.getIdToken(e),s=vf(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ki(Kl(s.auth_time)),issuedAtTime:Ki(Kl(s.iat)),expirationTime:Ki(Kl(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Kl(t){return Number(t)*1e3}function vf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Va("JWT malformed, contained fewer than 3 sections"),null;try{const s=qy(n);return s?JSON.parse(s):(Va("Failed to decode base64 JWT payload"),null)}catch(s){return Va("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uP(t){const e=vf(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yn&&hP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ki(this.lastLoginAt),this.creationTime=Ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await lo(t,cP(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?mP(i.providerUserInfo):[],a=pP(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function dP(t){const e=At(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mP(t){return t.map(e=>{var{providerId:n}=e,r=gf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e){const n=await nv(t,{},async()=>{const r=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=rv(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tv.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _P(t,e){return Nr(t,"POST","/v2/accounts:revokeToken",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await gP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new uo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lP(this,e)}reload(){return dP(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await lo(this,aP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,I=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:v,isAnonymous:C,providerData:S,stsTokenManager:P}=n;ce(b&&P,e,"internal-error");const N=uo.fromJSON(this.name,P);ce(typeof b=="string",e,"internal-error"),nr(h,e.name),nr(f,e.name),ce(typeof v=="boolean",e,"internal-error"),ce(typeof C=="boolean",e,"internal-error"),nr(m,e.name),nr(_,e.name),nr(T,e.name),nr(w,e.name),nr(g,e.name),nr(I,e.name);const k=new ns({uid:b,auth:e,email:f,emailVerified:v,displayName:h,isAnonymous:C,photoURL:_,phoneNumber:m,tenantId:T,stsTokenManager:N,createdAt:g,lastLoginAt:I});return S&&Array.isArray(S)&&(k.providerData=S.map(x=>Object.assign({},x))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new uo;s.updateFromServerResponse(n);const i=new ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Map;function Un(t){Wn(t instanceof Function,"Expected a class definition");let e=am.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,am.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iv.type="NONE";const cm=iv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ua(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ua("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ms(Un(cm),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Un(cm);const o=Ua(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=ns._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ms(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Ms(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ov(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uv(e))return"Blackberry";if(hv(e))return"Webos";if(Ef(e))return"Safari";if((e.includes("chrome/")||av(e))&&!e.includes("edge/"))return"Chrome";if(lv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ov(t=Dt()){return/firefox\//i.test(t)}function Ef(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function av(t=Dt()){return/crios\//i.test(t)}function cv(t=Dt()){return/iemobile/i.test(t)}function lv(t=Dt()){return/android/i.test(t)}function uv(t=Dt()){return/blackberry/i.test(t)}function hv(t=Dt()){return/webos/i.test(t)}function Kc(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yP(t=Dt()){var e;return Kc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vP(){return LR()&&document.documentMode===10}function fv(t=Dt()){return Kc(t)||lv(t)||hv(t)||uv(t)||/windows phone/i.test(t)||cv(t)}function EP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e=[]){let n;switch(t){case"Browser":n=lm(Dt());break;case"Worker":n=`${lm(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=6;class bP{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:wP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new um(this),this.idTokenSubscription=new um(this),this.beforeStateQueue=new TP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ev,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?At(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IP(this),n=new bP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _P(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ds(t){return At(t)}class um{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function pv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Cn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",RP().appendChild(r)})}function CP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const PP="https://www.google.com/recaptcha/enterprise.js?render=",SP="recaptcha-enterprise",OP="NO_RECAPTCHA";class kP{constructor(e){this.type=SP,this.auth=ds(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{oP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new iP(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;om(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(OP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&om(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}pv(PP+a).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function hm(t,e,n,r=!1){const s=new kP(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qu(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await hm(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){const n=mf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(cc(i,e??{}))return s;dn(s,"already-initialized")}return n.initialize({options:e})}function DP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LP(t,e,n){const r=ds(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=mv(e),{host:o,port:a}=MP(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||xP()}function mv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MP(t){const e=mv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:fm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:fm(o)}}}function fm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function FP(t,e){return Nr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){return jo(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e){return jo(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}async function $P(t,e){return jo(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Tf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ho(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ho(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,n,"signInWithPassword",VP);case"emailLink":return UP(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,r,"signUpPassword",FP);case"emailLink":return $P(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return jo(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="http://localhost";class as extends Tf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=gf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new as(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:BP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$o(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qP(t){const e=ki(Ni(t)).link,n=e?ki(Ni(e)).deep_link_id:null,r=ki(Ni(t)).deep_link_id;return(r?ki(Ni(r)).link:null)||r||n||e||t}class If{constructor(e){var n,r,s,i,o,a;const c=ki(Ni(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=jP((s=c.mode)!==null&&s!==void 0?s:null);ce(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qP(e);try{return new If(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.providerId=fi.PROVIDER_ID}static credential(e,n){return ho._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=If.parseLink(n);return ce(r,"argument-error"),ho._fromEmailAndCode(e,r.code,r.tenantId)}}fi.PROVIDER_ID="password";fi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends qo{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends qo{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends qo{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pr.credential(n,r)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e){return jo(t,"POST","/v1/accounts:signUp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ns._fromIdTokenResponse(e,r,s),o=dm(r);return new cs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dm(r);return new cs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Yn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fc(e,n,r,s)}}function _v(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fc._fromErrorAndOperation(t,i,e,r):i})}async function WP(t,e,n=!1){const r=await lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await lo(t,_v(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=vf(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),cs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&dn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(t,e,n=!1){const r="signIn",s=await _v(t,r,e),i=await cs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function QP(t,e){return yv(ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(t){const e=ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tF(t,e,n){const r=ds(t),o=await qu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HP).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&vv(t),c}),a=await cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function nF(t,e,n){return QP(At(t),fi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vv(t),r})}function GP(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function zP(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function YP(t){return At(t).signOut()}const dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dc,"1"),this.storage.removeItem(dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(){const t=Dt();return Ef(t)||Kc(t)}const JP=1e3,ZP=10;class Tv extends Ev{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XP()&&EP(),this.fallbackToPolling=fv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);vP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZP):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tv.type="LOCAL";const eS=Tv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Ev{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Iv.type="SESSION";const wv=Iv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Qc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await tS(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=wf("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function rS(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function sS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oS(){return bv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="firebaseLocalStorageDb",aS=1,pc="firebaseLocalStorage",Rv="fbase_key";class Ho{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gc(t,e){return t.transaction([pc],e?"readwrite":"readonly").objectStore(pc)}function cS(){const t=indexedDB.deleteDatabase(Av);return new Ho(t).toPromise()}function Hu(){const t=indexedDB.open(Av,aS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pc,{keyPath:Rv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pc)?e(r):(r.close(),await cS(),e(await Hu()))})})}async function pm(t,e,n){const r=Gc(t,!0).put({[Rv]:e,value:n});return new Ho(r).toPromise()}async function lS(t,e){const n=Gc(t,!1).get(e),r=await new Ho(n).toPromise();return r===void 0?null:r.value}function mm(t,e){const n=Gc(t,!0).delete(e);return new Ho(n).toPromise()}const uS=800,hS=3;class Cv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(oS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sS(),!this.activeServiceWorker)return;this.sender=new nS(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hu();return await pm(e,dc,"1"),await mm(e,dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gc(s,!1).getAll();return new Ho(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cv.type="LOCAL";const fS=Cv;new Bo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){return e?Un(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends Tf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pS(t){return yv(t.auth,new bf(t),t.bypassAuthState)}function mS(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),KP(n,new bf(t),t.bypassAuthState)}async function gS(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),WP(n,new bf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pS;case"linkViaPopup":case"linkViaRedirect":return gS;case"reauthViaPopup":case"reauthViaRedirect":return mS;default:dn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Bo(2e3,1e4);class Cs extends Pv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_S.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="pendingRedirect",$a=new Map;class vS extends Pv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$a.get(this.auth._key());if(!e){try{const r=await ES(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$a.set(this.auth._key(),e)}return this.bypassAuthState||$a.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ES(t,e){const n=wS(e),r=IS(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TS(t,e){$a.set(t._key(),e)}function IS(t){return Un(t._redirectPersistence)}function wS(t){return Ua(yS,t.config.apiKey,t.name)}async function bS(t,e,n=!1){const r=ds(t),s=dS(r,e),o=await new vS(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=10*60*1e3;class RS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Sv(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AS&&this.cachedEventUids.clear(),this.cachedEventUids.has(gm(e))}saveEventToCache(e){this.cachedEventUids.add(gm(e)),this.lastProcessedEventTime=Date.now()}}function gm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Sv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OS=/^https?/;async function kS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PS(t);for(const n of e)try{if(NS(n))return}catch{}dn(t,"unauthorized-domain")}function NS(t){const e=ju(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!OS.test(n))return!1;if(SS.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Bo(3e4,6e4);function _m(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LS(t){return new Promise((e,n)=>{var r,s,i;function o(){_m(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_m(),n(Cn(t,"network-request-failed"))},timeout:DS.get()})}if(!((s=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Pn().gapi)===null||i===void 0)&&i.load)o();else{const a=CP("iframefcb");return Pn()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},pv(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ba=null,e})}let Ba=null;function MS(t){return Ba=Ba||LS(t),Ba}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new Bo(5e3,15e3),FS="__/auth/iframe",VS="emulator/auth/iframe",US={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$S=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BS(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yf(e,VS):`https://${t.config.authDomain}/${FS}`,r={apiKey:e.apiKey,appName:t.name,v:hi},s=$S.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$o(r).slice(1)}`}async function jS(t){const e=await MS(t),n=Pn().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:BS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:US,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=Pn().setTimeout(()=>{i(o)},xS.get());function c(){Pn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HS=500,WS=600,KS="_blank",QS="http://localhost";class ym{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GS(t,e,n,r=HS,s=WS){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},qS),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Dt().toLowerCase();n&&(a=av(l)?KS:n),ov(l)&&(e=e||QS,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(yP(l)&&a!=="_self")return zS(e||"",a),new ym(null);const h=window.open(e||"",a,u);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new ym(h)}function zS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__/auth/handler",XS="emulator/auth/handler",JS=encodeURIComponent("fac");async function vm(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hi,eventId:s};if(e instanceof gv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$R(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof qo){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${JS}=${encodeURIComponent(c)}`:"";return`${ZS(t)}?${$o(a).slice(1)}${l}`}function ZS({config:t}){return t.emulator?yf(t,XS):`https://${t.authDomain}/${YS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="webStorageSupport";class eO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wv,this._completeRedirectFn=bS,this._overrideRedirectResult=TS}async _openPopup(e,n,r,s){var i;Wn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await vm(e,n,r,ju(),s);return GS(e,o,wf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vm(e,n,r,ju(),s);return rS(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jS(e),r=new RS(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ql,{type:Ql},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ql];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fv()||Ef()||Kc()}}const tO=eO;var Em="@firebase/auth",Tm="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sO(t){Qs(new is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dv(t)},l=new AP(r,s,i,c);return DP(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new is("auth-internal",e=>{const n=ds(e.getProvider("auth").getImmediate());return(r=>new nO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(Em,Tm,rO(t)),Ir(Em,Tm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=5*60,oO=Ky("authIdTokenMaxAge")||iO;let Im=null;const aO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oO)return;const s=n==null?void 0:n.token;Im!==s&&(Im=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cO(t=Yy()){const e=mf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NP(t,{popupRedirectResolver:tO,persistence:[fS,eS,wv]}),r=Ky("authTokenSyncURL");if(r){const i=aO(r);zP(n,i,()=>i(n.currentUser)),GP(n,o=>i(o))}const s=Hy("auth");return s&&LP(n,`http://${s}`),n}sO("Browser");var lO="firebase",uO="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(lO,uO,"app");var hO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,Af=Af||{},de=hO||self;function zc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function fO(t){return Object.prototype.hasOwnProperty.call(t,Gl)&&t[Gl]||(t[Gl]=++dO)}var Gl="closure_uid_"+(1e9*Math.random()>>>0),dO=0;function pO(t,e,n){return t.call.apply(t.bind,arguments)}function mO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function kt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?kt=pO:kt=mO,kt.apply(null,arguments)}function Ea(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Dr(){this.s=this.s,this.o=this.o}var gO=0;Dr.prototype.s=!1;Dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),gO!=0)&&fO(this)};Dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ov=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wm(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zc(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var _O=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return t}();function fo(t){return/^[\s\xa0]*$/.test(t)}function Yc(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function wn(t){return Yc().indexOf(t)!=-1}function Cf(t){return Cf[" "](t),t}Cf[" "]=function(){};function yO(t,e){var n=uk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var vO=wn("Opera"),Gs=wn("Trident")||wn("MSIE"),kv=wn("Edge"),Wu=kv||Gs,Nv=wn("Gecko")&&!(Yc().toLowerCase().indexOf("webkit")!=-1&&!wn("Edge"))&&!(wn("Trident")||wn("MSIE"))&&!wn("Edge"),EO=Yc().toLowerCase().indexOf("webkit")!=-1&&!wn("Edge");function Dv(){var t=de.document;return t?t.documentMode:void 0}var Ku;e:{var zl="",Yl=function(){var t=Yc();if(Nv)return/rv:([^\);]+)(\)|;)/.exec(t);if(kv)return/Edge\/([\d\.]+)/.exec(t);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(EO)return/WebKit\/(\S+)/.exec(t);if(vO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yl&&(zl=Yl?Yl[1]:""),Gs){var Xl=Dv();if(Xl!=null&&Xl>parseFloat(zl)){Ku=String(Xl);break e}}Ku=zl}var Qu;if(de.document&&Gs){var bm=Dv();Qu=bm||parseInt(Ku,10)||void 0}else Qu=void 0;var TO=Qu;function po(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Nv){e:{try{Cf(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:IO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&po.$.h.call(this)}}yt(po,Nt);var IO={2:"touch",3:"pen",4:"mouse"};po.prototype.h=function(){po.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ko="closure_listenable_"+(1e6*Math.random()|0),wO=0;function bO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++wO,this.fa=this.ia=!1}function Xc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function AO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Lv(t){const e={};for(const n in t)e[n]=t[n];return e}const Am="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mv(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Am.length;i++)n=Am[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jc(t){this.src=t,this.g={},this.h=0}Jc.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=zu(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new bO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Gu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Ov(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Xc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zu(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Sf="closure_lm_"+(1e6*Math.random()|0),Jl={};function xv(t,e,n,r,s){if(r&&r.once)return Vv(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)xv(t,e[i],n,r,s);return null}return n=Nf(n),t&&t[Ko]?t.O(e,n,Wo(r)?!!r.capture:!!r,s):Fv(t,e,n,!1,r,s)}function Fv(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Wo(s)?!!s.capture:!!s,a=kf(t);if(a||(t[Sf]=a=new Jc(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=RO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_O||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent($v(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RO(){function t(n){return e.call(t.src,t.listener,n)}const e=CO;return t}function Vv(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Vv(t,e[i],n,r,s);return null}return n=Nf(n),t&&t[Ko]?t.P(e,n,Wo(r)?!!r.capture:!!r,s):Fv(t,e,n,!0,r,s)}function Uv(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Uv(t,e[i],n,r,s);else r=Wo(r)?!!r.capture:!!r,n=Nf(n),t&&t[Ko]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=zu(i,n,r,s),-1<n&&(Xc(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=kf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zu(e,n,r,s)),(n=-1<t?e[t]:null)&&Of(n))}function Of(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ko])Gu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($v(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kf(e))?(Gu(n,t),n.h==0&&(n.src=null,e[Sf]=null)):Xc(t)}}}function $v(t){return t in Jl?Jl[t]:Jl[t]="on"+t}function CO(t,e){if(t.fa)t=!0;else{e=new po(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Of(t),t=n.call(r,e)}return t}function kf(t){return t=t[Sf],t instanceof Jc?t:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nf(t){return typeof t=="function"?t:(t[Zl]||(t[Zl]=function(e){return t.handleEvent(e)}),t[Zl])}function _t(){Dr.call(this),this.i=new Jc(this),this.S=this,this.J=null}yt(_t,Dr);_t.prototype[Ko]=!0;_t.prototype.removeEventListener=function(t,e,n,r){Uv(this,t,e,n,r)};function It(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var s=e;e=new Nt(r,t),Mv(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ta(o,r,!0,e)&&s}if(o=e.g=t,s=Ta(o,r,!0,e)&&s,s=Ta(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ta(o,r,!1,e)&&s}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xc(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ta(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Gu(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Df=de.JSON.stringify;class PO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SO(){var t=Lf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class OO{constructor(){this.h=this.g=null}add(e,n){const r=Bv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Bv=new PO(()=>new kO,t=>t.reset());class kO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function NO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function DO(t){de.setTimeout(()=>{throw t},0)}let mo,go=!1,Lf=new OO,jv=()=>{const t=de.Promise.resolve(void 0);mo=()=>{t.then(LO)}};var LO=()=>{for(var t;t=SO();){try{t.h.call(t.g)}catch(n){DO(n)}var e=Bv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}go=!1};function Zc(t,e){_t.call(this),this.h=t||1,this.g=e||de,this.j=kt(this.qb,this),this.l=Date.now()}yt(Zc,_t);W=Zc.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(Mf(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Mf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){Zc.$.N.call(this),Mf(this),delete this.g};function xf(t,e,n){if(typeof t=="function")n&&(t=kt(t,n));else if(t&&typeof t.handleEvent=="function")t=kt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function qv(t){t.g=xf(()=>{t.g=null,t.i&&(t.i=!1,qv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class MO extends Dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qv(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(t){Dr.call(this),this.h=t,this.g={}}yt(_o,Dr);var Rm=[];function Hv(t,e,n,r){Array.isArray(n)||(n&&(Rm[0]=n.toString()),n=Rm);for(var s=0;s<n.length;s++){var i=xv(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Wv(t){Pf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Of(e)},t),t.g={}}_o.prototype.N=function(){_o.$.N.call(this),Wv(this)};_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function el(){this.g=!0}el.prototype.Ea=function(){this.g=!1};function xO(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function FO(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ps(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UO(t,n)+(r?" "+r:"")})}function VO(t,e){t.info(function(){return"TIMEOUT: "+e})}el.prototype.info=function(){};function UO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Df(n)}catch{return e}}var ps={},Cm=null;function tl(){return Cm=Cm||new _t}ps.Ta="serverreachability";function Kv(t){Nt.call(this,ps.Ta,t)}yt(Kv,Nt);function yo(t){const e=tl();It(e,new Kv(e))}ps.STAT_EVENT="statevent";function Qv(t,e){Nt.call(this,ps.STAT_EVENT,t),this.stat=e}yt(Qv,Nt);function Ft(t){const e=tl();It(e,new Qv(e,t))}ps.Ua="timingevent";function Gv(t,e){Nt.call(this,ps.Ua,t),this.size=e}yt(Gv,Nt);function Qo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var nl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ff(){}Ff.prototype.h=null;function Pm(t){return t.h||(t.h=t.i())}function Yv(){}var Go={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vf(){Nt.call(this,"d")}yt(Vf,Nt);function Uf(){Nt.call(this,"c")}yt(Uf,Nt);var Yu;function rl(){}yt(rl,Ff);rl.prototype.g=function(){return new XMLHttpRequest};rl.prototype.i=function(){return{}};Yu=new rl;function zo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _o(this),this.P=$O,t=Wu?125:void 0,this.V=new Zc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xv}function Xv(){this.i=null,this.g="",this.h=!1}var $O=45e3,Xu={},mc={};W=zo.prototype;W.setTimeout=function(t){this.P=t};function Ju(t,e,n){t.L=1,t.v=il(Kn(e)),t.s=n,t.S=!0,Jv(t,null)}function Jv(t,e){t.G=Date.now(),Yo(t),t.A=Kn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),oE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Xv,t.g=CE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new MO(kt(t.Pa,t,t.g),t.O)),Hv(t.U,t.g,"readystatechange",t.nb),e=t.I?Lv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),yo(),xO(t.j,t.u,t.A,t.m,t.W,t.s)}W.nb=function(t){t=t.target;const e=this.M;e&&bn(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const u=bn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Wu||this.g&&(this.h.h||this.g.ja()||Nm(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?yo(3):yo(2)),sl(this);var n=this.g.da();this.ca=n;t:if(Zv(this)){var r=Nm(this.g);t="";var s=r.length,i=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Qi(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,FO(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fo(a)){var l=a;break t}}l=null}if(n=l)Ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zu(this,n);else{this.i=!1,this.o=3,Ft(12),Yr(this),Qi(this);break e}}this.S?(eE(this,u,o),Wu&&this.i&&u==3&&(Hv(this.U,this.V,"tick",this.mb),this.V.start())):(Ps(this.j,this.m,o,null),Zu(this,o)),u==4&&Yr(this),this.i&&!this.J&&(u==4?wE(this.l,this):(this.i=!1,Yo(this)))}else ak(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ft(12)):(this.o=0,Ft(13)),Yr(this),Qi(this)}}}catch{}finally{}};function Zv(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function eE(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=BO(t,n),s==mc){e==4&&(t.o=4,Ft(14),r=!1),Ps(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Xu){t.o=4,Ft(15),Ps(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ps(t.j,t.m,s,null),Zu(t,s);Zv(t)&&s!=mc&&s!=Xu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wf(e),e.M=!0,Ft(11))):(Ps(t.j,t.m,n,"[Invalid Chunked Response]"),Yr(t),Qi(t))}W.mb=function(){if(this.g){var t=bn(this.g),e=this.g.ja();this.C<e.length&&(sl(this),eE(this,t,e),this.i&&t!=4&&Yo(this))}};function BO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mc:(n=Number(e.substring(n,r)),isNaN(n)?Xu:(r+=1,r+n>e.length?mc:(e=e.slice(r,r+n),t.C=r+n,e)))}W.cancel=function(){this.J=!0,Yr(this)};function Yo(t){t.Y=Date.now()+t.P,tE(t,t.P)}function tE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Qo(kt(t.lb,t),e)}function sl(t){t.B&&(de.clearTimeout(t.B),t.B=null)}W.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(VO(this.j,this.A),this.L!=2&&(yo(),Ft(17)),Yr(this),this.o=2,Qi(this)):tE(this,this.Y-t)};function Qi(t){t.l.H==0||t.J||wE(t.l,t)}function Yr(t){sl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Mf(t.V),Wv(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Zu(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||eh(n.i,t))){if(!t.K&&eh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yc(n),cl(n);else break e;Hf(n),Ft(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qo(kt(n.ib,n),6e3));if(1>=lE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xr(n,11)}else if((t.K||n.g==t)&&yc(n),!fo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&($f(i,i.h),i.h=null))}if(r.F){const T=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,qe(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=RE(r,r.J?r.pa:null,r.Y),o.K){uE(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(sl(a),Yo(a)),r.g=o}else TE(r);0<n.j.length&&ll(n)}else l[0]!="stop"&&l[0]!="close"||Xr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Xr(n,7):qf(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}yo(4)}catch{}}function jO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(zc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function qO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(zc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=qO(t),r=jO(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var rE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function rs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rs){this.h=t.h,gc(this,t.j),this.s=t.s,this.g=t.g,_c(this,t.m),this.l=t.l;var e=t.i,n=new vo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Sm(this,n),this.o=t.o}else t&&(e=String(t).match(rE))?(this.h=!1,gc(this,e[1]||"",!0),this.s=Di(e[2]||""),this.g=Di(e[3]||"",!0),_c(this,e[4]),this.l=Di(e[5]||"",!0),Sm(this,e[6]||"",!0),this.o=Di(e[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}rs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Li(e,Om,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Li(e,Om,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Li(n,n.charAt(0)=="/"?QO:KO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Li(n,zO)),t.join("")};function Kn(t){return new rs(t)}function gc(t,e,n){t.j=n?Di(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _c(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Sm(t,e,n){e instanceof vo?(t.i=e,YO(t.i,t.h)):(n||(e=Li(e,GO)),t.i=new vo(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function il(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Di(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Li(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,WO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function WO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Om=/[#\/\?@]/g,KO=/[#\?:]/g,QO=/[#\?]/g,GO=/[#\?@]/g,zO=/#/g;function vo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lr(t){t.g||(t.g=new Map,t.h=0,t.i&&HO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=vo.prototype;W.add=function(t,e){Lr(this),this.i=null,t=di(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sE(t,e){Lr(t),e=di(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iE(t,e){return Lr(t),e=di(t,e),t.g.has(e)}W.forEach=function(t,e){Lr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};W.ta=function(){Lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};W.Z=function(t){Lr(this);let e=[];if(typeof t=="string")iE(this,t)&&(e=e.concat(this.g.get(di(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return Lr(this),this.i=null,t=di(this,t),iE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function oE(t,e,n){sE(t,e),0<n.length&&(t.i=null,t.g.set(di(t,e),Rf(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function di(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function YO(t,e){e&&!t.j&&(Lr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(sE(this,r),oE(this,s,n))},t)),t.j=e}var XO=class{constructor(t,e){this.g=t,this.map=e}};function aE(t){this.l=t||JO,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JO=10;function cE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lE(t){return t.h?1:t.g?t.g.size:0}function eh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function $f(t,e){t.g?t.g.add(e):t.h=e}function uE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aE.prototype.cancel=function(){if(this.i=hE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rf(t.i)}var ZO=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function ek(){this.g=new ZO}function tk(t,e,n){const r=n||"";try{nE(t,function(s,i){let o=s;Wo(s)&&(o=Df(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function nk(t,e){const n=new el;if(de.Image){const r=new Image;r.onload=Ea(Ia,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ea(Ia,n,r,"TestLoadImage: error",!1,e),r.onabort=Ea(Ia,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ea(Ia,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ia(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Xo(t){this.l=t.ec||null,this.j=t.ob||!1}yt(Xo,Ff);Xo.prototype.g=function(){return new ol(this.l,this.j)};Xo.prototype.i=function(t){return function(){return t}}({});function ol(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yt(ol,_t);var Bf=0;W=ol.prototype;W.open=function(t,e){if(this.readyState!=Bf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Eo(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=Bf};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function fE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Jo(this):Eo(this),this.readyState==3&&fE(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,Jo(this))};W.Ya=function(t){this.g&&(this.response=t,Jo(this))};W.ka=function(){this.g&&Jo(this)};function Jo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Eo(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Eo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rk=de.JSON.parse;function Ze(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dE,this.L=this.M=!1}yt(Ze,_t);var dE="",sk=/^https?$/i,ik=["POST","PUT"];W=Ze.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yu.g(),this.C=this.u?Pm(this.u):Pm(Yu),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){km(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=de.FormData&&t instanceof de.FormData,!(0<=Ov(ik,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gE(this),0<this.B&&((this.L=ok(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=xf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){km(this,i)}};function ok(t){return Gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof Af<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function km(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pE(t),al(t)}function pE(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),al(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),al(this,!0)),Ze.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?mE(this):this.kb())};W.kb=function(){mE(this)};function mE(t){if(t.h&&typeof Af<"u"&&(!t.C[1]||bn(t)!=4||t.da()!=2)){if(t.v&&bn(t)==4)xf(t.La,0,t);else if(It(t,"readystatechange"),bn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(rE)[1]||null;!s&&de.self&&de.self.location&&(s=de.self.location.protocol.slice(0,-1)),r=!sk.test(s?s.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var i=2<bn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",pE(t)}}finally{al(t)}}}}function al(t,e){if(t.g){gE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch{}}}function gE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function bn(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rk(e)}};function Nm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ak(t){const e={};t=(t.g&&2<=bn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(fo(t[r]))continue;var n=NO(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}AO(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _E(t){let e="";return Pf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function jf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_E(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function Ai(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yE(t){this.Ga=0,this.j=[],this.l=new el,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ai("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ai("baseRetryDelayMs",5e3,t),this.hb=Ai("retryDelaySeedMs",1e4,t),this.eb=Ai("forwardChannelMaxRetries",2,t),this.xa=Ai("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aE(t&&t.concurrentRequestLimit),this.Ja=new ek,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=yE.prototype;W.ra=8;W.H=1;function qf(t){if(vE(t),t.H==3){var e=t.W++,n=Kn(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),Zo(t,n),e=new zo(t,t.l,e),e.L=2,e.v=il(Kn(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.v,n=!0),n||(e.g=CE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yo(e)}AE(t)}function cl(t){t.g&&(Wf(t),t.g.cancel(),t.g=null)}function vE(t){cl(t),t.u&&(de.clearTimeout(t.u),t.u=null),yc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function ll(t){if(!cE(t.i)&&!t.m){t.m=!0;var e=t.Na;mo||jv(),go||(mo(),go=!0),Lf.add(e,t),t.C=0}}function ck(t,e){return lE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qo(kt(t.Na,t,e),bE(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new zo(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Lv(i),Mv(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=EE(this,s,e),n=Kn(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),Zo(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(_E(i)))+"&"+e:this.o&&jf(n,this.o,i)),$f(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,Ju(s,n,null)):Ju(s,n,e),this.H=2}}else this.H==3&&(t?Dm(this,t):this.j.length==0||cE(this.i)||Dm(this))};function Dm(t,e){var n;e?n=e.m:n=t.W++;const r=Kn(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),Zo(t,r),t.o&&t.s&&jf(r,t.o,t.s),n=new zo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=EE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$f(t.i,n),Ju(n,r,e)}function Zo(t,e){t.na&&Pf(t.na,function(n,r){qe(e,r,n)}),t.h&&nE({},function(n,r){qe(e,r,n)})}function EE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?kt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{tk(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;mo||jv(),go||(mo(),go=!0),Lf.add(e,t),t.A=0}}function Hf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qo(kt(t.Ma,t),bE(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,IE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qo(kt(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ft(10),cl(this),IE(this))};function Wf(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function IE(t){t.g=new zo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Kn(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),Zo(t,e),t.o&&t.s&&jf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=il(Kn(e)),n.s=null,n.S=!0,Jv(n,t)}W.ib=function(){this.v!=null&&(this.v=null,cl(this),Hf(this),Ft(19))};function yc(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function wE(t,e){var n=null;if(t.g==e){yc(t),Wf(t),t.g=null;var r=2}else if(eh(t.i,e))n=e.F,uE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=tl(),It(r,new Gv(r,n)),ll(t)}else TE(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&ck(t,e)||r==2&&Hf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Xr(t,5);break;case 4:Xr(t,10);break;case 3:Xr(t,6);break;default:Xr(t,2)}}}function bE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=kt(t.pb,t);n||(n=new rs("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||gc(n,"https"),il(n)),nk(n.toString(),r)}else Ft(2);t.H=0,t.h&&t.h.za(e),AE(t),vE(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ft(2)):(this.l.info("Failed to ping google.com"),Ft(1))};function AE(t){if(t.H=0,t.ma=[],t.h){const e=hE(t.i);(e.length!=0||t.j.length!=0)&&(wm(t.ma,e),wm(t.ma,t.j),t.i.i.length=0,Rf(t.j),t.j.length=0),t.h.ya()}}function RE(t,e,n){var r=n instanceof rs?Kn(n):new rs(n);if(r.g!="")e&&(r.g=e+"."+r.g),_c(r,r.m);else{var s=de.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new rs(null);r&&gc(i,r),e&&(i.g=e),s&&_c(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),Zo(t,r),r}function CE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ze(new Xo({ob:!0})):new Ze(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function PE(){}W=PE.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function vc(){if(Gs&&!(10<=Number(TO)))throw Error("Environmental error: no available transport.")}vc.prototype.g=function(t,e){return new zt(t,e)};function zt(t,e){_t.call(this),this.g=new yE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new pi(this)}yt(zt,_t);zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ft(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RE(t,null,t.Y),ll(t)};zt.prototype.close=function(){qf(this.g)};zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Df(t),t=n);e.j.push(new XO(e.fb++,t)),e.H==3&&ll(e)};zt.prototype.N=function(){this.g.h=null,delete this.j,qf(this.g),delete this.g,zt.$.N.call(this)};function SE(t){Vf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}yt(SE,Vf);function OE(){Uf.call(this),this.status=1}yt(OE,Uf);function pi(t){this.g=t}yt(pi,PE);pi.prototype.Ba=function(){It(this.g,"a")};pi.prototype.Aa=function(t){It(this.g,new SE(t))};pi.prototype.za=function(t){It(this.g,new OE)};pi.prototype.ya=function(){It(this.g,"b")};function lk(){this.blockSize=-1}function pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}yt(pn,lk);pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function eu(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}pn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)eu(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){eu(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){eu(this,r),s=0;break}}this.h=s,this.i+=e};pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Me(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var uk={};function Kf(t){return-128<=t&&128>t?yO(t,function(e){return new Me([e|0],0>e?-1:0)}):new Me([t|0],0>t?-1:0)}function An(t){if(isNaN(t)||!isFinite(t))return Fs;if(0>t)return Et(An(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=th;return new Me(e,0)}function kE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(kE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=An(Math.pow(e,8)),r=Fs,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=An(Math.pow(e,i)),r=r.R(i).add(An(o))):(r=r.R(n),r=r.add(An(o)))}return r}var th=4294967296,Fs=Kf(0),nh=Kf(1),Lm=Kf(16777216);W=Me.prototype;W.ea=function(){if(Zt(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:th+r)*e,e*=th}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($n(this))return"0";if(Zt(this))return"-"+Et(this).toString(t);for(var e=An(Math.pow(t,6)),n=this,r="";;){var s=Tc(n,e).g;n=Ec(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,$n(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $n(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Zt(t){return t.h==-1}W.X=function(t){return t=Ec(this,t),Zt(t)?-1:$n(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(nh)}W.abs=function(){return Zt(this)?Et(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Me(n,n[n.length-1]&-2147483648?-1:0)};function Ec(t,e){return t.add(Et(e))}W.R=function(t){if($n(this)||$n(t))return Fs;if(Zt(this))return Zt(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(Zt(t))return Et(this.R(Et(t)));if(0>this.X(Lm)&&0>t.X(Lm))return An(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,wa(n,2*r+2*s),n[2*r+2*s+1]+=i*c,wa(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,wa(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,wa(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)};function wa(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ri(t,e){this.g=t,this.h=e}function Tc(t,e){if($n(e))throw Error("division by zero");if($n(t))return new Ri(Fs,Fs);if(Zt(t))return e=Tc(Et(t),e),new Ri(Et(e.g),Et(e.h));if(Zt(e))return e=Tc(t,Et(e)),new Ri(Et(e.g),e.h);if(30<t.g.length){if(Zt(t)||Zt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nh,r=e;0>=r.X(t);)n=Mm(n),r=Mm(r);var s=Ts(n,1),i=Ts(r,1);for(r=Ts(r,2),n=Ts(n,2);!$n(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Ts(r,1),n=Ts(n,1)}return e=Ec(t,s.R(e)),new Ri(s,e)}for(s=Fs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=An(n),o=i.R(e);Zt(o)||0<o.X(t);)n-=r,i=An(n),o=i.R(e);$n(i)&&(i=nh),s=s.add(i),t=Ec(t,o)}return new Ri(s,t)}W.gb=function(t){return Tc(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)};function Mm(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Ts(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Me(s,t.h)}vc.prototype.createWebChannel=vc.prototype.g;zt.prototype.send=zt.prototype.u;zt.prototype.open=zt.prototype.m;zt.prototype.close=zt.prototype.close;nl.NO_ERROR=0;nl.TIMEOUT=8;nl.HTTP_ERROR=6;zv.COMPLETE="complete";Yv.EventType=Go;Go.OPEN="a";Go.CLOSE="b";Go.ERROR="c";Go.MESSAGE="d";_t.prototype.listen=_t.prototype.O;Ze.prototype.listenOnce=Ze.prototype.P;Ze.prototype.getLastError=Ze.prototype.Sa;Ze.prototype.getLastErrorCode=Ze.prototype.Ia;Ze.prototype.getStatus=Ze.prototype.da;Ze.prototype.getResponseJson=Ze.prototype.Wa;Ze.prototype.getResponseText=Ze.prototype.ja;Ze.prototype.send=Ze.prototype.ha;Ze.prototype.setWithCredentials=Ze.prototype.Oa;pn.prototype.digest=pn.prototype.l;pn.prototype.reset=pn.prototype.reset;pn.prototype.update=pn.prototype.j;Me.prototype.add=Me.prototype.add;Me.prototype.multiply=Me.prototype.R;Me.prototype.modulo=Me.prototype.gb;Me.prototype.compare=Me.prototype.X;Me.prototype.toNumber=Me.prototype.ea;Me.prototype.toString=Me.prototype.toString;Me.prototype.getBits=Me.prototype.D;Me.fromNumber=An;Me.fromString=kE;var hk=function(){return new vc},fk=function(){return tl()},tu=nl,dk=zv,pk=ps,xm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mk=Xo,ba=Yv,gk=Ze,_k=pn,Vs=Me;const Fm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mi="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new df("@firebase/firestore");function Ci(){return ls.logLevel}function J(t,...e){if(ls.logLevel<=be.DEBUG){const n=e.map(Qf);ls.debug(`Firestore (${mi}): ${t}`,...n)}}function Qn(t,...e){if(ls.logLevel<=be.ERROR){const n=e.map(Qf);ls.error(`Firestore (${mi}): ${t}`,...n)}}function zs(t,...e){if(ls.logLevel<=be.WARN){const n=e.map(Qf);ls.warn(`Firestore (${mi}): ${t}`,...n)}}function Qf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${mi}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function Qe(t,e){t||le()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class vk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ek{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new NE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Pt(e)}}class Tk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ik{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Tk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new wk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Ak(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ct(0,0))}static max(){return new ge(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return To.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof To?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends To{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const Rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends To{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return Rk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new G(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(He.fromString(e))}static fromName(e){return new se(He.fromString(e).popFirst(5))}static empty(){return new se(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new He(e.slice()))}}function Ck(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Cr(s,se.empty(),e)}function Pk(t){return new Cr(t.readTime,t.key,-1)}class Cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cr(ge.min(),se.empty(),-1)}static max(){return new Cr(ge.max(),se.empty(),-1)}}function Sk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==Ok)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new V((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Gf._e=-1;function ul(t){return t==null}function Ic(t){return t===0&&1/t==-1/0}function Nk(t){return typeof t=="number"&&Number.isInteger(t)&&!Ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??vt.EMPTY,this.right=i??vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Um(this.data.getIterator())}getIteratorFrom(e){return new Um(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Um{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new wt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ME("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const Dk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=Dk.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function us(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yf(t){const e=t.mapValue.fields.__previous_value__;return zf(e)?Yf(e):e}function Io(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class wo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zf(t)?4:Mk(t)?9007199254740991:10:le()}function Nn(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Io(t).isEqual(Io(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pr(s.timestampValue),a=Pr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return us(s.bytesValue).isEqual(us(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?Ic(o)===Ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Vm(o)!==Vm(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Nn(o[c],a[c])))return!1;return!0}(t,e);default:return le()}}function bo(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function Xs(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),c=rt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return $m(t.timestampValue,e.timestampValue);case 4:return $m(Io(t),Io(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=us(i),c=us(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Oe(a[l],c[l]);if(u!==0)return u}return Oe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(rt(i.latitude),rt(o.latitude));return a!==0?a:Oe(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Xs(a[l],c[l]);if(u)return u}return Oe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ra.mapValue&&o===Ra.mapValue)return 0;if(i===Ra.mapValue)return 1;if(o===Ra.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Oe(c[h],u[h]);if(f!==0)return f;const m=Xs(a[c[h]],l[u[h]]);if(m!==0)return m}return Oe(c.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function $m(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Pr(t),r=Pr(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function Js(t){return rh(t)}function rh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=rh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${rh(n.fields[o])}`;return s+"}"}(t.mapValue):le()}function Bm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sh(t){return!!t&&"integerValue"in t}function Xf(t){return!!t&&"arrayValue"in t}function jm(t){return!!t&&"nullValue"in t}function qm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ja(t){return!!t&&"mapValue"in t}function Gi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Mk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ja(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gi(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Gi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ja(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ja(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(Gi(this.value))}}function xE(t){const e=[];return ms(t.fields,(n,r)=>{const s=new Tt([n]);if(ja(r)){const i=xE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,ge.min(),ge.min(),ge.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,ge.min(),ge.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ge.min(),ge.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.position=e,this.inclusive=n}}function Hm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Xs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n="asc"){this.field=e,this.dir=n}}function xk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{}class it extends FE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vk(e,n,r):n==="array-contains"?new Bk(e,r):n==="in"?new jk(e,r):n==="not-in"?new qk(e,r):n==="array-contains-any"?new Hk(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Uk(e,r):new $k(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xs(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends FE{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new mn(e,n)}matches(e){return VE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function VE(t){return t.op==="and"}function UE(t){return Fk(t)&&VE(t)}function Fk(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function ih(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(UE(t))return t.filters.map(e=>ih(e)).join(",");{const e=t.filters.map(n=>ih(n)).join(",");return`${t.op}(${e})`}}function $E(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&Nn(r.value,s.value)}(t,e):t instanceof mn?function(r,s){return s instanceof mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$E(o,s.filters[a]),!0):!1}(t,e):void le()}function BE(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(BE).join(" ,")+"}"}(t):"Filter"}class Vk extends it{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Uk extends it{constructor(e,n){super(e,"in",n),this.keys=jE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $k extends it{constructor(e,n){super(e,"not-in",n),this.keys=jE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Bk extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xf(n)&&bo(n.arrayValue,this.value)}}class jk extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bo(this.value.arrayValue,n)}}class qk extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bo(this.value.arrayValue,n)}}class Hk extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Km(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Wk(t,e,n,r,s,i,o)}function Jf(t){const e=_e(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ih(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ul(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ce=n}return e.ce}function Zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$E(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wm(t.startAt,e.startAt)&&Wm(t.endAt,e.endAt)}function oh(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Kk(t,e,n,r,s,i,o,a){return new gi(t,e,n,r,s,i,o,a)}function ed(t){return new gi(t)}function Qm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qE(t){return t.collectionGroup!==null}function zi(t){const e=_e(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(Tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Ao(i,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new Ao(Tt.keyField(),r))}return e.le}function Sn(t){const e=_e(t);return e.he||(e.he=Qk(e,zi(t))),e.he}function Qk(t,e){if(t.limitType==="F")return Km(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ao(s.field,i)});const n=t.endAt?new wc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wc(t.startAt.position,t.startAt.inclusive):null;return Km(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ah(t,e){const n=t.filters.concat([e]);return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ch(t,e,n){return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hl(t,e){return Zf(Sn(t),Sn(e))&&t.limitType===e.limitType}function HE(t){return`${Jf(Sn(t))}|lt:${t.limitType}`}function ws(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>BE(s)).join(", ")}]`),ul(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Js(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Js(s)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function fl(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of zi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=Hm(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,zi(r),s)||r.endAt&&!function(o,a,c){const l=Hm(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,zi(r),s))}(t,e)}function Gk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WE(t){return(e,n)=>{let r=!1;for(const s of zi(t)){const i=zk(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zk(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Xs(c,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Ye(se.comparator);function Gn(){return Yk}const KE=new Ye(se.comparator);function Mi(...t){let e=KE;for(const n of t)e=e.insert(n.key,n);return e}function QE(t){let e=KE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Yi()}function GE(){return Yi()}function Yi(){return new _i(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xk=new Ye(se.comparator),Jk=new wt(se.comparator);function we(...t){let e=Jk;for(const n of t)e=e.add(n);return e}const Zk=new wt(Oe);function eN(){return Zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function YE(t){return{integerValue:""+t}}function tN(t,e){return Nk(e)?YE(e):zE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this._=void 0}}function nN(t,e,n){return t instanceof bc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&zf(i)&&(i=Yf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ro?JE(t,e):t instanceof Co?ZE(t,e):function(s,i){const o=XE(s,i),a=Gm(o)+Gm(s.Ie);return sh(o)&&sh(s.Ie)?YE(a):zE(s.serializer,a)}(t,e)}function rN(t,e,n){return t instanceof Ro?JE(t,e):t instanceof Co?ZE(t,e):n}function XE(t,e){return t instanceof Ac?function(r){return sh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bc extends dl{}class Ro extends dl{constructor(e){super(),this.elements=e}}function JE(t,e){const n=eT(e);for(const r of t.elements)n.some(s=>Nn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends dl{constructor(e){super(),this.elements=e}}function ZE(t,e){let n=eT(e);for(const r of t.elements)n=n.filter(s=>!Nn(s,r));return{arrayValue:{values:n}}}class Ac extends dl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Gm(t){return rt(t.integerValue||t.doubleValue)}function eT(t){return Xf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ro&&s instanceof Ro||r instanceof Co&&s instanceof Co?Ys(r.elements,s.elements,Nn):r instanceof Ac&&s instanceof Ac?Nn(r.Ie,s.Ie):r instanceof bc&&s instanceof bc}(t.transform,e.transform)}class iN{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pl{}function tT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new td(t.key,on.none()):new na(t.key,t.data,on.none());{const n=t.data,r=Bt.empty();let s=new wt(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Mr(t.key,r,new Gt(s.toArray()),on.none())}}function oN(t,e,n){t instanceof na?function(s,i,o){const a=s.value.clone(),c=Ym(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(s,i,o){if(!qa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Ym(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(nT(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xi(t,e,n,r){return t instanceof na?function(i,o,a,c){if(!qa(i.precondition,o))return a;const l=i.value.clone(),u=Xm(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mr?function(i,o,a,c){if(!qa(i.precondition,o))return a;const l=Xm(i.fieldTransforms,c,o),u=o.data;return u.setAll(nT(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return qa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function aN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XE(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function zm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ys(r,s,(i,o)=>sN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class na extends pl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mr extends pl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ym(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,rN(o,a,n[s]))}return r}function Xm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,nN(i,o,e))}return r}class td extends pl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cN extends pl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&oN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=tT(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(n,r)=>zm(n,r))&&Ys(this.baseMutations,e.baseMutations,(n,r)=>zm(n,r))}}class nd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return Xk}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new nd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,Re;function fN(t){switch(t){default:return le();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function rT(t){if(t===void 0)return Qn("GRPC error has no .code"),M.UNKNOWN;switch(t){case nt.OK:return M.OK;case nt.CANCELLED:return M.CANCELLED;case nt.UNKNOWN:return M.UNKNOWN;case nt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case nt.INTERNAL:return M.INTERNAL;case nt.UNAVAILABLE:return M.UNAVAILABLE;case nt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case nt.NOT_FOUND:return M.NOT_FOUND;case nt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case nt.ABORTED:return M.ABORTED;case nt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case nt.DATA_LOSS:return M.DATA_LOSS;default:return le()}}(Re=nt||(nt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Vs([4294967295,4294967295],0);function Jm(t){const e=dN().encode(t),n=new _k;return n.update(e),new Uint8Array(n.digest())}function Zm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([s,i],0)]}class rd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xi(`Invalid padding: ${n}`);if(r<0)throw new xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vs.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Vs.fromNumber(r)));return s.compare(pN)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Jm(e),[r,s]=Zm(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rd(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Jm(e),[r,s]=Zm(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ra.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ml(ge.min(),s,new Ye(Oe),Gn(),we())}}class ra{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ra(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class sT{constructor(e,n){this.targetId=e,this.fe=n}}class iT{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class eg{constructor(){this.ge=0,this.pe=ng(),this.ye=Lt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le()}}),new ra(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ng()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class mN{constructor(e){this.Le=e,this.ke=new Map,this.qe=Gn(),this.Qe=tg(),this.Ke=new Ye(Oe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(oh(i))if(r===0){const o=new se(i.path);this.We(n,o,St.newNoDocument(o,ge.min()))}else Qe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=us(r).toUint8Array()}catch(c){if(c instanceof ME)return zs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rd(o,s,i)}catch(c){return zs(c instanceof xi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&oh(a.target)){const c=new se(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,St.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=we();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new ml(e,n,this.Ke,this.qe,r);return this.qe=Gn(),this.Qe=tg(),this.Ke=new Ye(Oe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new eg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new wt(Oe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new eg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tg(){return new Ye(se.comparator)}function ng(){return new Ye(se.comparator)}const gN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_N=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yN=(()=>({and:"AND",or:"OR"}))();class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lh(t,e){return t.useProto3Json||ul(e)?e:{value:e}}function Rc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EN(t,e){return Rc(t,e.toTimestamp())}function On(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=Pr(n);return new ct(r.seconds,r.nanos)}(t))}function sd(t,e){return function(r){return new He(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function aT(t){const e=He.fromString(t);return Qe(hT(e)),e}function uh(t,e){return sd(t.databaseId,e.path)}function nu(t,e){const n=aT(e);if(n.get(1)!==t.databaseId.projectId)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(cT(n))}function hh(t,e){return sd(t.databaseId,e)}function TN(t){const e=aT(t);return e.length===4?He.emptyPath():cT(e)}function fh(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cT(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rg(t,e,n){return{name:uh(t,e),fields:n.value.mapValue.fields}}function IN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Qe(u===void 0||typeof u=="string"),Lt.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Uint8Array),Lt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?M.UNKNOWN:rT(l.code);return new G(u,l.message||"")}(o);n=new iT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=nu(t,r.document.name),i=On(r.document.updateTime),o=r.document.createTime?On(r.document.createTime):ge.min(),a=new Bt({mapValue:{fields:r.document.fields}}),c=St.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ha(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=nu(t,r.document),i=r.readTime?On(r.readTime):ge.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=nu(t,r.document),i=r.removedTargetIds||[];n=new Ha([],i,s,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new hN(s,i),a=r.targetId;n=new sT(a,o)}}return n}function wN(t,e){let n;if(e instanceof na)n={update:rg(t,e.key,e.value)};else if(e instanceof td)n={delete:uh(t,e.key)};else if(e instanceof Mr)n={update:rg(t,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof cN))return le();n={verify:uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:EN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function bN(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?On(s.updateTime):On(i);return o.isEqual(ge.min())&&(o=On(i)),new iN(o,s.transformResults||[])}(n,e))):[]}function AN(t,e){return{documents:[hh(t,e.path)]}}function RN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return uT(mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:bs(h.field),direction:SN(h.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=lh(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function CN(t){let e=TN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=lT(h);return f instanceof mn&&UE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Ao(As(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ul(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new wc(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,m=h.values||[];return new wc(m,f)}(n.endAt)),Kk(e,s,o,i,a,"F",c,l)}function PN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=As(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=As(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=As(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=As(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return it.create(As(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>lT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function SN(t){return gN[t]}function ON(t){return _N[t]}function kN(t){return yN[t]}function bs(t){return{fieldPath:t.canonicalString()}}function As(t){return Tt.fromServerFormat(t.fieldPath)}function uT(t){return t instanceof it?function(n){if(n.op==="=="){if(qm(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(jm(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qm(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(jm(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:ON(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(s=>uT(s));return r.length===1?r[0]:{compositeFilter:{op:kN(n.op),filters:r}}}(t):le()}function NN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.ut=e}}function LN(t){const e=CN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ch(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.on=new xN}addToCollectionParentIndex(e,n){return this.on.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Cr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class xN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Zs(0)}static Nn(){return new Zs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.changes=new _i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xi(r.mutation,s,Gt.empty(),ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Jr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Mi();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Gn();const o=Yi(),a=function(){return Yi()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Mr)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Xi(u.mutation,l,u.mutation.getFieldMask(),ct.now())):o.set(l.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new VN(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yi();let s=new Ye((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Gt.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||we()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=GE();u.forEach(f=>{if(!i.has(f)){const m=tT(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):V.resolve(Jr());let a=-1,c=i;return o.next(l=>V.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?V.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,we())).next(u=>({batchId:a,changes:QE(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Mi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Mi();return this.indexManager.getCollectionParents(e,i).next(a=>V.forEach(a,c=>{const l=function(h,f){return new gi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,St.newInvalidDocument(u)))});let a=Mi();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&Xi(u.mutation,l,Gt.empty(),ct.now()),fl(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return V.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:On(s.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:LN(s.bundledQuery),readTime:On(s.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.overlays=new Ye(se.comparator),this.lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=Jr(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=Jr(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Jr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return V.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uN(n,r));let i=this.lr.get(n);i===void 0&&(i=we(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.hr=new wt(ft.Pr),this.Ir=new wt(ft.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ft(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new se(new He([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new se(new He([])),r=new ft(n,e),s=new ft(n,e+1);let i=we();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return se.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wt(ft.Pr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lN(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Oe);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),V.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new ft(new se(i),0);let a=new wt(Oe);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.gr)),!0)},o),V.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return V.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ft(n,0),s=this.yr.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.Cr=e,this.docs=function(){return new Ye(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Gn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gn();const o=n.path,a=new se(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Sk(Pk(u),r)<=0||(s.has(u.key)||fl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le()}vr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HN(this)}getSize(e){return V.resolve(this.size)}}class HN extends FN{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.Fr=new _i(n=>Jf(n),Zf),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new id,this.targetCount=0,this.Nr=Zs.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),V.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Zs(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.kn(n),V.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(i).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),V.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Gf(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new WN(this),this.indexManager=new MN,this.remoteDocumentCache=function(s){return new qN(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new DN(n),this.Kr=new $N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new jN(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new QN(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return V.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class QN extends kk{constructor(e){super(),this.currentSequenceNumber=e}}class od{constructor(e){this.persistence=e,this.Gr=new id,this.zr=null}static jr(e){return new od(e)}get Hr(){if(this.zr)return this.zr;throw le()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Hr,r=>{const s=se.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return V.or([()=>V.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ad(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new GN;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Ci()<=be.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),V.resolve()):(Ci()<=be.DEBUG&&J("QueryEngine","Query:",ws(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Ci()<=be.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):V.resolve())}zi(e,n){if(Qm(n))return V.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ch(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,ch(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,s){return Qm(n)||s.isEqual(ge.min())?V.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?V.resolve(null):(Ci()<=be.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ws(n)),this.Xi(e,o,n,Ck(s,-1)).next(a=>a))})}Yi(e,n){let r=new wt(WE(e));return n.forEach((s,i)=>{fl(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Ci()<=be.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",ws(n)),this.Gi.getDocumentsMatchingQuery(e,n,Cr.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ye(Oe),this.ns=new _i(i=>Jf(i),Zf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function XN(t,e,n,r){return new YN(t,e,n,r)}async function fT(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=we();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function JN(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,f=h.keys();let m=V.resolve();return f.forEach(_=>{m=m.next(()=>u.getEntry(c,_)).next(T=>{const w=l.docVersions.get(_);Qe(w!==null),T.version.compareTo(w)<0&&(h.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),u.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dT(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ZN(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Lt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(T,w,g){return T.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,u)&&a.push(n.qr.updateTargetData(i,m))});let c=Gn(),l=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(eD(i,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return V.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.ts=s,i))}function eD(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Gn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:s}})}function tD(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nD(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,V.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function dh(t,e,n){const r=_e(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ta(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function sg(t,e,n){const r=_e(t);let s=ge.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=_e(c),f=h.ns.get(u);return f!==void 0?V.resolve(h.ts.get(f)):h.qr.getTargetData(l,u)}(r,o,Sn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:we())).next(a=>(rD(r,Gk(e),a),{documents:a,ls:i})))}function rD(t,e,n){let r=t.rs.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class ig{constructor(){this.activeTargetIds=eN()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sD{constructor(){this.eo=new ig,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ig,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca=null;function ru(){return Ca===null?Ca=function(){return 268435456+Math.round(2147483648*Math.random())}():Ca++,"0x"+Ca.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class cD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=ru(),c=this.So(n,r);J("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,i,o),this.Do(n,c,l,s).then(u=>(J("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw zs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=oD[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=ru();return new Promise((o,a)=>{const c=new gk;c.setWithCredentials(!0),c.listenOnce(dk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tu.NO_ERROR:const u=c.getResponseJson();J(Rt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case tu.TIMEOUT:J(Rt,`RPC '${e}' ${i} timed out`),a(new G(M.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const h=c.getStatus();if(J(Rt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const _=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(g)>=0?g:M.UNKNOWN}(m.status);a(new G(_,m.message))}else a(new G(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(M.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J(Rt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);J(Rt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}vo(e,n,r){const s=ru(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hk(),a=fk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new mk({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");J(Rt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,m=!1;const _=new aD({co:w=>{m?J(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(J(Rt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),J(Rt,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},lo:()=>h.close()}),T=(w,g,I)=>{w.listen(g,b=>{try{I(b)}catch(v){setTimeout(()=>{throw v},0)}})};return T(h,ba.EventType.OPEN,()=>{m||J(Rt,`RPC '${e}' stream ${s} transport opened.`)}),T(h,ba.EventType.CLOSE,()=>{m||(m=!0,J(Rt,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),T(h,ba.EventType.ERROR,w=>{m||(m=!0,zs(Rt,`RPC '${e}' stream ${s} transport errored:`,w),_.Ro(new G(M.UNAVAILABLE,"The operation could not be completed")))}),T(h,ba.EventType.MESSAGE,w=>{var g;if(!m){const I=w.data[0];Qe(!!I);const b=I,v=b.error||((g=b[0])===null||g===void 0?void 0:g.error);if(v){J(Rt,`RPC '${e}' stream ${s} received error:`,v);const C=v.status;let S=function(k){const x=nt[k];if(x!==void 0)return rT(x)}(C),P=v.message;S===void 0&&(S=M.INTERNAL,P="Unknown error status: "+C+" with message "+v.message),m=!0,_.Ro(new G(S,P)),h.close()}else J(Rt,`RPC '${e}' stream ${s} received:`,I),_.Vo(I)}}),T(a,pk.STAT_EVENT,w=>{w.stat===xm.PROXY?J(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===xm.NOPROXY&&J(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function su(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){return new vN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,s,i,o,a,c){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new pT(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new G(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lD extends mT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=IN(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?On(o.readTime):ge.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=fh(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=oh(c)?{documents:AN(i,c)}:{query:RN(i,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oT(i,o.resumeToken);const l=lh(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Rc(i,o.snapshotVersion.toTimestamp());const l=lh(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=PN(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=fh(this.serializer),n.removeTarget=e,this.e_(n)}}class uD extends mT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=bN(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.I_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=fh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wN(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(M.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(M.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Qn(n),this.f_=!1):J("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{gs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=_e(c);l.C_.add(4),await sa(l),l.M_.set("Unknown"),l.C_.delete(4),await _l(l)}(this))})}),this.M_=new fD(r,s)}}async function _l(t){if(gs(t))for(const e of t.v_)await e(!0)}async function sa(t){for(const e of t.v_)await e(!1)}function gT(t,e){const n=_e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),ud(n)?ld(n):yi(n).Ho()&&cd(n,e))}function _T(t,e){const n=_e(t),r=yi(n);n.D_.delete(e),r.Ho()&&yT(n,e),n.D_.size===0&&(r.Ho()?r.Zo():gs(n)&&n.M_.set("Unknown"))}function cd(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yi(t).u_(e)}function yT(t,e){t.x_.Oe(e),yi(t).c_(e)}function ld(t){t.x_=new mN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yi(t).start(),t.M_.g_()}function ud(t){return gs(t)&&!yi(t).jo()&&t.D_.size>0}function gs(t){return _e(t).C_.size===0}function vT(t){t.x_=void 0}async function pD(t){t.D_.forEach((e,n)=>{cd(t,e)})}async function mD(t,e){vT(t),ud(t)?(t.M_.w_(e),ld(t)):t.M_.set("Unknown")}async function gD(t,e,n){if(t.M_.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cc(t,r)}else if(e instanceof Ha?t.x_.$e(e):e instanceof sT?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ge.min()))try{const r=await dT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.D_.get(l);u&&i.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.D_.get(c);if(!u)return;i.D_.set(c,u.withResumeToken(Lt.EMPTY_BYTE_STRING,u.snapshotVersion)),yT(i,c);const h=new mr(u.target,c,l,u.sequenceNumber);cd(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Cc(t,r)}}async function Cc(t,e,n){if(!ta(e))throw e;t.C_.add(1),await sa(t),t.M_.set("Offline"),n||(n=()=>dT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await _l(t)})}function ET(t,e){return e().catch(n=>Cc(t,n,e))}async function yl(t){const e=_e(t),n=Sr(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;_D(e);)try{const s=await tD(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,yD(e,s)}catch(s){await Cc(e,s)}TT(e)&&IT(e)}function _D(t){return gs(t)&&t.b_.length<10}function yD(t,e){t.b_.push(e);const n=Sr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function TT(t){return gs(t)&&!Sr(t).jo()&&t.b_.length>0}function IT(t){Sr(t).start()}async function vD(t){Sr(t).E_()}async function ED(t){const e=Sr(t);for(const n of t.b_)e.P_(n.mutations)}async function TD(t,e,n){const r=t.b_.shift(),s=nd.from(r,e,n);await ET(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yl(t)}async function ID(t,e){e&&Sr(t).h_&&await async function(r,s){if(function(o){return fN(o)&&o!==M.ABORTED}(s.code)){const i=r.b_.shift();Sr(r).Yo(),await ET(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await yl(r)}}(t,e),TT(t)&&IT(t)}async function ag(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.C_.add(3),await sa(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await _l(n)}async function wD(t,e){const n=_e(t);e?(n.C_.delete(2),await _l(n)):e||(n.C_.add(2),await sa(n),n.M_.set("Unknown"))}function yi(t){return t.O_||(t.O_=function(n,r,s){const i=_e(n);return i.A_(),new lD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:pD.bind(null,t),Io:mD.bind(null,t),a_:gD.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),ud(t)?ld(t):t.M_.set("Unknown")):(await t.O_.stop(),vT(t))})),t.O_}function Sr(t){return t.N_||(t.N_=function(n,r,s){const i=_e(n);return i.A_(),new uD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:vD.bind(null,t),Io:ID.bind(null,t),T_:ED.bind(null,t),I_:TD.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await yl(t)):(await t.N_.stop(),t.b_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new hd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),ta(t))return new G(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Mi(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.B_=new Ye(se.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):le():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ei{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ei(e,n,Us.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.k_=void 0,this.listeners=[]}}class AD{constructor(){this.queries=new _i(e=>HE(e),hl),this.onlineState="Unknown",this.q_=new Set}}async function wT(t,e){const n=_e(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new bD),s)try{i.k_=await n.onListen(r)}catch(o){const a=fd(o,`Initialization of query '${ws(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&dd(n)}async function bT(t,e){const n=_e(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function RD(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&dd(n)}function CD(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function dd(t){t.q_.forEach(e=>{e.next()})}class AT{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ei(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ei.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.key=e}}class CT{constructor(e){this.key=e}}class PD{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=we(),this.mutatedKeys=we(),this._a=WE(e),this.aa=new Us(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new cg,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),m=fl(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;f&&m?f.data.isEqual(m.data)?_!==T&&(r.track({type:3,doc:m}),w=!0):this.ha(f,m)||(r.track({type:2,doc:m}),w=!0,(c&&this._a(m,c)>0||l&&this._a(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),w=!0):f&&!m&&(r.track({type:1,doc:f}),w=!0,(c||l)&&(a=!0)),w&&(m?(o=o.add(m),i=T?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort((l,u)=>function(f,m){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return _(f)-_(m)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,c=a!==this.sa;return this.sa=a,i.length!==0||c?{snapshot:new ei(this.query,e.aa,s,i,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new cg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=we(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new CT(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new RT(r))}),n}da(e){this.ia=e.ls,this.oa=we();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ei.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class SD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OD{constructor(e){this.key=e,this.Ra=!1}}class kD{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new _i(a=>HE(a),hl),this.fa=new Map,this.ga=new Set,this.pa=new Ye(se.comparator),this.ya=new Map,this.wa=new id,this.Sa={},this.ba=new Map,this.Da=Zs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function ND(t,e){const n=jD(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await nD(n.localStore,Sn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await DD(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&gT(n.remoteStore,o)}return s}async function DD(t,e,n,r,s){t.va=(h,f,m)=>async function(T,w,g,I){let b=w.view.ca(g);b.Zi&&(b=await sg(T.localStore,w.query,!1).then(({documents:S})=>w.view.ca(S,b)));const v=I&&I.targetChanges.get(w.targetId),C=w.view.applyChanges(b,T.isPrimaryClient,v);return ug(T,w.targetId,C.Ta),C.snapshot}(t,h,f,m);const i=await sg(t.localStore,e,!0),o=new PD(e,i.ls),a=o.ca(i.documents),c=ra.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);ug(t,n,l.Ta);const u=new SD(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}async function LD(t,e){const n=_e(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!hl(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_T(n.remoteStore,r.targetId),ph(n,r.targetId)}).catch(ea)):(ph(n,r.targetId),await dh(n.localStore,r.targetId,!0))}async function MD(t,e,n){const r=qD(t);try{const s=await function(o,a){const c=_e(o),l=ct.now(),u=a.reduce((m,_)=>m.add(_.key),we());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Gn(),T=we();return c.ss.getEntries(m,u).next(w=>{_=w,_.forEach((g,I)=>{I.isValidDocument()||(T=T.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,_)).next(w=>{h=w;const g=[];for(const I of a){const b=aN(I,h.get(I.key).overlayedDocument);b!=null&&g.push(new Mr(I.key,b,xE(b.value.mapValue),on.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,T);return c.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:QE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Ye(Oe)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,s.batchId,n),await ia(r,s.changes),await yl(r.remoteStore)}catch(s){const i=fd(s,"Failed to persist write");n.reject(i)}}async function PT(t,e){const n=_e(t);try{const r=await ZN(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Qe(o.Ra):s.removedDocuments.size>0&&(Qe(o.Ra),o.Ra=!1))}),await ia(n,r,e)}catch(r){await ea(r)}}function lg(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=_e(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(l=!0)}),l&&dd(c)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xD(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new Ye(se.comparator);o=o.insert(i,St.newNoDocument(i,ge.min()));const a=we().add(i),c=new ml(ge.min(),new Map,new Ye(Oe),o,a);await PT(r,c),r.pa=r.pa.remove(i),r.ya.delete(e),pd(r)}else await dh(r.localStore,e,!1).then(()=>ph(r,e,n)).catch(ea)}async function FD(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await JN(n.localStore,e);OT(n,r,null),ST(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ia(n,s)}catch(s){await ea(s)}}async function VD(t,e,n){const r=_e(t);try{const s=await function(o,a){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Qe(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);OT(r,e,n),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ia(r,s)}catch(s){await ea(s)}}function ST(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function OT(t,e,n){const r=_e(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function ph(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||kT(t,r)})}function kT(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(_T(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),pd(t))}function ug(t,e,n){for(const r of n)r instanceof RT?(t.wa.addReference(r.key,e),UD(t,r)):r instanceof CT?(J("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||kT(t,r.key)):le()}function UD(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(J("SyncEngine","New document in limbo: "+n),t.ga.add(r),pd(t))}function pd(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new se(He.fromString(e)),r=t.Da.next();t.ya.set(r,new OD(n)),t.pa=t.pa.insert(n,r),gT(t.remoteStore,new mr(Sn(ed(n.path)),r,"TargetPurposeLimboResolution",Gf._e))}}async function ia(t,e,n){const r=_e(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=ad.Qi(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(c,l){const u=_e(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(l,f=>V.forEach(f.ki,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>V.forEach(f.qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!ta(h))throw h;J("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=u.ts.get(f),_=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(_);u.ts=u.ts.insert(f,T)}}}(r.localStore,i))}async function $D(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await fT(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(c=>{c.reject(new G(M.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ia(n,r._s)}}function BD(t,e){const n=_e(t),r=n.ya.get(e);if(r&&r.Ra)return we().add(r.key);{let s=we();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function jD(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.Va.a_=RD.bind(null,e.eventManager),e.Va.Fa=CD.bind(null,e.eventManager),e}function qD(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class hg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=gl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return XN(this.persistence,new zN,e.initialUser,this.serializer)}createPersistence(e){return new KN(od.jr,this.serializer)}createSharedClientState(e){return new sD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await wD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AD}()}createDatastore(e){const n=gl(e.databaseInfo.databaseId),r=function(i){return new cD(i)}(e.databaseInfo);return function(i,o,a,c){return new hD(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new dD(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lg(this.syncEngine,n,0),function(){return og.D()?new og:new iD}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const h=new kD(s,i,o,a,c,l);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=_e(n);J("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await sa(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pt.UNAUTHENTICATED,this.clientId=DE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{J("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(J("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iu(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await fT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QD(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>ag(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>ag(e.remoteStore,i)),t._onlineComponents=e}function KD(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function QD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await iu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!KD(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await iu(t,new hg)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await iu(t,new hg);return t._offlineComponents}async function DT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await fg(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await fg(t,new HD))),t._onlineComponents}function GD(t){return DT(t).then(e=>e.syncEngine)}async function LT(t){const e=await DT(t),n=e.eventManager;return n.onListen=ND.bind(null,e.syncEngine),n.onUnlisten=LD.bind(null,e.syncEngine),n}function zD(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new NT({next:f=>{o.enqueueAndForget(()=>bT(i,h));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new G(M.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?l.reject(new G(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new AT(ed(a.path),u,{includeMetadataChanges:!0,J_:!0});return wT(i,h)}(await LT(t),t.asyncQueue,e,n,r)),r.promise}function YD(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new NT({next:f=>{o.enqueueAndForget(()=>bT(i,h)),f.fromCache&&c.source==="server"?l.reject(new G(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new AT(a,u,{includeMetadataChanges:!0,J_:!0});return wT(i,h)}(await LT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e,n){if(!n)throw new G(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XD(t,e,n,r){if(e===!0&&r===!0)throw new G(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pg(t){if(!se.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mg(t){if(se.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vl(t);throw new G(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class El{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yk;switch(r.type){case"firstParty":return new Ik(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dg.get(n);r&&(J("ComponentProvider","Removing Datastore"),dg.delete(n),r.terminate())}(this),Promise.resolve()}}function JD(t,e,n,r={}){var s;const i=(t=gn(t,El))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pt.MOCK_USER;else{a=OR(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pt(l)}t._authCredentials=new vk(new NE(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class wr extends _s{constructor(e,n,r){super(e,n,ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new se(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function ou(t,e,...n){if(t=At(t),xT("collection","path",e),t instanceof El){const r=He.fromString(e,...n);return mg(r),new wr(t,null,r)}{if(!(t instanceof Vt||t instanceof wr))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return mg(r),new wr(t.firestore,null,r)}}function FT(t,e,...n){if(t=At(t),arguments.length===1&&(e=DE.newId()),xT("doc","path",e),t instanceof El){const r=He.fromString(e,...n);return pg(r),new Vt(t,null,new se(r))}{if(!(t instanceof Vt||t instanceof wr))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return pg(r),new Vt(t.firestore,t instanceof wr?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new pT(this,"async_queue_retry"),this.iu=()=>{const n=su();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=su();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=su();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new qn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ta(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=hd.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&le()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class ys extends El{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new ZD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VT(this),this._firestoreClient.terminate()}}function eL(t,e){const n=typeof t=="object"?t:Yy(),r=typeof t=="string"?t:e||"(default)",s=mf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=PR("firestore");i&&JD(s,...i)}return s}function md(t){return t._firestoreClient||VT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VT(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new Lk(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,MT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new WD(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(Lt.fromBase64String(e))}catch(n){throw new G(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=/^__.*__$/;class nL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new na(e,this.data,n,this.fieldTransforms)}}class UT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class yd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Pc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if($T(this.Iu)&&tL.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class rL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gl(e)}pu(e,n,r,s=!1){return new yd({Iu:e,methodName:n,gu:r,path:Tt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Il(t){const e=t._freezeSettings(),n=gl(t._databaseId);return new rL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BT(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);vd("Data must be an object, but it was:",o,r);const a=jT(r,o);let c,l;if(i.merge)c=new Gt(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=mh(e,h,n);if(!o.contains(f))throw new G(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);HT(u,f)||u.push(f)}c=new Gt(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new nL(new Bt(a),c,l)}class wl extends gd{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wl}}function sL(t,e,n,r){const s=t.pu(1,e,n);vd("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();ms(r,(c,l)=>{const u=Ed(e,c,n);l=At(l);const h=s.Ru(u);if(l instanceof wl)i.push(u);else{const f=oa(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Gt(i);return new UT(o,a,s.fieldTransforms)}function iL(t,e,n,r,s,i){const o=t.pu(1,e,n),a=[mh(e,r,n)],c=[s];if(i.length%2!=0)throw new G(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(mh(e,i[f])),c.push(i[f+1]);const l=[],u=Bt.empty();for(let f=a.length-1;f>=0;--f)if(!HT(l,a[f])){const m=a[f];let _=c[f];_=At(_);const T=o.Ru(m);if(_ instanceof wl)l.push(m);else{const w=oa(_,T);w!=null&&(l.push(m),u.set(m,w))}}const h=new Gt(l);return new UT(u,h,o.fieldTransforms)}function oL(t,e,n,r=!1){return oa(n,t.pu(r?4:3,e))}function oa(t,e){if(qT(t=At(t)))return vd("Unsupported field value:",e,t),jT(t,e);if(t instanceof gd)return function(r,s){if(!$T(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=oa(a,s.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ct.fromDate(r);return{timestampValue:Rc(s.serializer,i)}}if(r instanceof ct){const i=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rc(s.serializer,i)}}if(r instanceof _d)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:oT(s.serializer,r._byteString)};if(r instanceof Vt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sd(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${vl(r)}`)}(t,e)}function jT(t,e){const n={};return LE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,(r,s)=>{const i=oa(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function qT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof _d||t instanceof ti||t instanceof Vt||t instanceof gd)}function vd(t,e,n){if(!qT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=vl(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function mh(t,e,n){if((e=At(e))instanceof Tl)return e._internalPath;if(typeof e=="string")return Ed(t,e);throw Pc("Field path arguments must be of type string or ",t,!1,void 0,n)}const aL=new RegExp("[~\\*/\\[\\]]");function Ed(t,e,n){if(e.search(aL)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tl(...e.split("."))._internalPath}catch{throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new G(M.INVALID_ARGUMENT,a+t+c)}function HT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cL extends WT{data(){return super.data()}}function Td(t,e){return typeof e=="string"?Ed(t,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}class KT extends Id{}function uL(t,e,...n){let r=[];e instanceof Id&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof bd).length,a=i.filter(c=>c instanceof wd).length;if(o>1||o>0&&a>0)throw new G(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class wd extends KT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wd(e,n,r)}_apply(e){const n=this._parse(e);return QT(e._query,n),new _s(e.firestore,e.converter,ah(e._query,n))}_parse(e){const n=Il(e.firestore);return function(i,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new G(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){yg(h,u);const m=[];for(const _ of h)m.push(_g(c,i,_));f={arrayValue:{values:m}}}else f=_g(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||yg(h,u),f=oL(a,o,h,u==="in"||u==="not-in");return it.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bd extends Id{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)QT(o,c),o=ah(o,c)}(e._query,n),new _s(e.firestore,e.converter,ah(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ad extends KT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ad(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new G(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new G(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ao(i,o)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new gi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hL(t,e="asc"){const n=e,r=Td("orderBy",t);return Ad._create(r,n)}function _g(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new G(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&n.indexOf("/")!==-1)throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!se.isDocumentKey(r))throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bm(t,new se(r))}if(n instanceof Vt)return Bm(t,n._key);throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vl(n)}.`)}function yg(t,e){if(!Array.isArray(t)||t.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QT(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fL{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ms(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new _d(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Qe(hT(r));const s=new wo(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Qn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zT extends WT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Td("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wa extends zT{data(e={}){return super.data(e)}}class dL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Fi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wa(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Wa(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Fi(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Wa(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Fi(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:pL(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){t=gn(t,Vt);const e=gn(t.firestore,ys);return zD(md(e),t._key).then(n=>_L(e,t,n))}class YT extends fL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function gh(t){t=gn(t,_s);const e=gn(t.firestore,ys),n=md(e),r=new YT(e);return lL(t._query),YD(n,t._query).then(s=>new dL(e,r,t,s))}function oF(t,e,n){t=gn(t,Vt);const r=gn(t.firestore,ys),s=GT(t.converter,e,n);return bl(r,[BT(Il(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,on.none())])}function aF(t,e,n,...r){t=gn(t,Vt);const s=gn(t.firestore,ys),i=Il(s);let o;return o=typeof(e=At(e))=="string"||e instanceof Tl?iL(i,"updateDoc",t._key,e,n,r):sL(i,"updateDoc",t._key,e),bl(s,[o.toMutation(t._key,on.exists(!0))])}function gL(t){return bl(gn(t.firestore,ys),[new td(t._key,on.none())])}function XT(t,e){const n=gn(t.firestore,ys),r=FT(t),s=GT(t.converter,e);return bl(n,[BT(Il(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then(()=>r)}function bl(t,e){return function(r,s){const i=new qn;return r.asyncQueue.enqueueAndForget(async()=>MD(await GD(r),s,i)),i.promise}(md(t),e)}function _L(t,e,n){const r=n.docs.get(e._key),s=new YT(t);return new zT(t,s,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){mi=s})(hi),Qs(new is("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ys(new Ek(r.getProvider("auth-internal")),new bk(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ir(Fm,"4.3.2",e),Ir(Fm,"4.3.2","esm2017")})();const yL={apiKey:"AIzaSyD928PKQ1qbAHTlCaFUBHks0zDqQ7ip7GE",authDomain:"task-manager-5fa7b.firebaseapp.com",projectId:"task-manager-5fa7b",storageBucket:"task-manager-5fa7b.appspot.com",messagingSenderId:"609503697743",appId:"1:609503697743:web:fcc2fc3d977191b361833a"},JT=zy(yL),Pa=eL(JT),ur=cO(JT),vL={class:"w-64 h-screen fixed bg-white dark:bg-dark-bg-black flex flex-col justify-between py-20"},EL=he("img",{src:ky,alt:"logo"},null,-1),TL=he("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),IL={class:"flex flex-col gap-5 text-lg"},wL={key:0,src:z0,alt:"home-white"},bL={key:1,src:Y0,alt:"home"},AL={key:0,src:X0,alt:"task-white"},RL={key:1,src:J0,alt:"task"},CL={key:0,src:Z0,alt:"team-white"},PL={key:1,src:eR,alt:"team"},SL={key:0,src:tR,alt:"logout-white",class:"w-7 h-7"},OL={key:1,src:nR,alt:"logout",class:"w-7 h-7"},kL={__name:"SideBar",setup(t){const e=hf(),n=Vr(),r=async()=>{await YP(ur),n.clearUser(),Zr.push("/")};return(s,i)=>{const o=ci("router-link");return Ie(),xe("div",vL,[ie(o,{to:{name:"home"},class:"flex items-center gap-5 pl-6"},{default:pt(()=>[EL,TL]),_:1}),he("div",IL,[ie(o,{to:{name:"home"},class:"nav"},{default:pt(()=>[Fe(e)?(Ie(),xe("img",wL)):(Ie(),xe("img",bL)),tn(" "+Ge(s.$t("sidebar.home")),1)]),_:1}),ie(o,{to:{name:"tasks"},class:"nav"},{default:pt(()=>[Fe(e)?(Ie(),xe("img",AL)):(Ie(),xe("img",RL)),tn(" "+Ge(s.$t("sidebar.tasks")),1)]),_:1}),ie(o,{to:{name:"team"},class:"nav"},{default:pt(()=>[Fe(e)?(Ie(),xe("img",CL)):(Ie(),xe("img",PL)),tn(" "+Ge(s.$t("sidebar.team")),1)]),_:1})]),he("div",null,[ie(o,{to:"",class:"nav text-xl",onClick:r},{default:pt(()=>[Fe(e)?(Ie(),xe("img",SL)):(Ie(),xe("img",OL)),tn(" "+Ge(s.$t("sidebar.logOut")),1)]),_:1})])])}}},ZT="/task-manager/svg/sun.svg",eI="/task-manager/svg/moon.svg";/*!
  * shared v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const _h=typeof window<"u",xr=(t,e=!1)=>e?Symbol.for(t):Symbol(t),NL=(t,e,n)=>DL({l:t,k:e,s:n}),DL=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),at=t=>typeof t=="number"&&isFinite(t),LL=t=>nI(t)==="[object Date]",Or=t=>nI(t)==="[object RegExp]",Al=t=>pe(t)&&Object.keys(t).length===0,bt=Object.assign;let vg;const Fn=()=>vg||(vg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Eg(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ML=Object.prototype.hasOwnProperty;function Po(t,e){return ML.call(t,e)}const Ke=Array.isArray,Ue=t=>typeof t=="function",Q=t=>typeof t=="string",Ee=t=>typeof t=="boolean",De=t=>t!==null&&typeof t=="object",xL=t=>De(t)&&Ue(t.then)&&Ue(t.catch),tI=Object.prototype.toString,nI=t=>tI.call(t),pe=t=>{if(!De(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},FL=t=>t==null?"":Ke(t)||pe(t)&&t.toString===tI?JSON.stringify(t,null,2):String(t);function VL(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function Rd(t){let e=t;return()=>++e}function UL(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Sa=t=>!De(t)||Ke(t);function Ji(t,e){if(Sa(t)||Sa(e))throw new Error("Invalid value");for(const n in t)Po(t,n)&&(Sa(t[n])||Sa(e[n])?e[n]=t[n]:Ji(t[n],e[n]))}/*!
  * message-compiler v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function $L(t,e,n){return{line:t,column:e,offset:n}}function yh(t,e,n){const r={start:t,end:e};return n!=null&&(r.source=n),r}const BL=/\{([0-9a-zA-Z]+)\}/g;function jL(t,...e){return e.length===1&&qL(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(BL,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const rI=Object.assign,Tg=t=>typeof t=="string",qL=t=>t!==null&&typeof t=="object";function sI(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const oe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},HL={[oe.EXPECTED_TOKEN]:"Expected token: '{0}'",[oe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[oe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[oe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[oe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[oe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[oe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[oe.EMPTY_PLACEHOLDER]:"Empty placeholder",[oe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[oe.INVALID_LINKED_FORMAT]:"Invalid linked format",[oe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[oe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[oe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[oe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[oe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[oe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function vi(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=jL((s||HL)[t]||"",...i||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function WL(t){throw t}const Mn=" ",KL="\r",xt=`
`,QL=String.fromCharCode(8232),GL=String.fromCharCode(8233);function zL(t){const e=t;let n=0,r=1,s=1,i=0;const o=P=>e[P]===KL&&e[P+1]===xt,a=P=>e[P]===xt,c=P=>e[P]===GL,l=P=>e[P]===QL,u=P=>o(P)||a(P)||c(P)||l(P),h=()=>n,f=()=>r,m=()=>s,_=()=>i,T=P=>o(P)||c(P)||l(P)?xt:e[P],w=()=>T(n),g=()=>T(n+i);function I(){return i=0,u(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function b(){return o(n+i)&&i++,i++,e[n+i]}function v(){n=0,r=1,s=1,i=0}function C(P=0){i=P}function S(){const P=n+i;for(;P!==n;)I();i=0}return{index:h,line:f,column:m,peekOffset:_,charAt:T,currentChar:w,currentPeek:g,next:I,peek:b,reset:v,resetPeek:C,skipToPeek:S}}const rr=void 0,YL=".",Ig="'",XL="tokenizer";function JL(t,e={}){const n=e.location!==!1,r=zL(t),s=()=>r.index(),i=()=>$L(r.line(),r.column(),r.index()),o=i(),a=s(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function h(d,p,y,...A){const O=l();if(p.column+=y,p.offset+=y,u){const F=n?yh(O.startLoc,p):null,$=vi(d,F,{domain:XL,args:A});u($)}}function f(d,p,y){d.endLoc=i(),d.currentType=p;const A={type:p};return n&&(A.loc=yh(d.startLoc,d.endLoc)),y!=null&&(A.value=y),A}const m=d=>f(d,14);function _(d,p){return d.currentChar()===p?(d.next(),p):(h(oe.EXPECTED_TOKEN,i(),0,p),"")}function T(d){let p="";for(;d.currentPeek()===Mn||d.currentPeek()===xt;)p+=d.currentPeek(),d.peek();return p}function w(d){const p=T(d);return d.skipToPeek(),p}function g(d){if(d===rr)return!1;const p=d.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p===95}function I(d){if(d===rr)return!1;const p=d.charCodeAt(0);return p>=48&&p<=57}function b(d,p){const{currentType:y}=p;if(y!==2)return!1;T(d);const A=g(d.currentPeek());return d.resetPeek(),A}function v(d,p){const{currentType:y}=p;if(y!==2)return!1;T(d);const A=d.currentPeek()==="-"?d.peek():d.currentPeek(),O=I(A);return d.resetPeek(),O}function C(d,p){const{currentType:y}=p;if(y!==2)return!1;T(d);const A=d.currentPeek()===Ig;return d.resetPeek(),A}function S(d,p){const{currentType:y}=p;if(y!==8)return!1;T(d);const A=d.currentPeek()===".";return d.resetPeek(),A}function P(d,p){const{currentType:y}=p;if(y!==9)return!1;T(d);const A=g(d.currentPeek());return d.resetPeek(),A}function N(d,p){const{currentType:y}=p;if(!(y===8||y===12))return!1;T(d);const A=d.currentPeek()===":";return d.resetPeek(),A}function k(d,p){const{currentType:y}=p;if(y!==10)return!1;const A=()=>{const F=d.currentPeek();return F==="{"?g(d.peek()):F==="@"||F==="%"||F==="|"||F===":"||F==="."||F===Mn||!F?!1:F===xt?(d.peek(),A()):g(F)},O=A();return d.resetPeek(),O}function x(d){T(d);const p=d.currentPeek()==="|";return d.resetPeek(),p}function z(d){const p=T(d),y=d.currentPeek()==="%"&&d.peek()==="{";return d.resetPeek(),{isModulo:y,hasSpace:p.length>0}}function B(d,p=!0){const y=(O=!1,F="",$=!1)=>{const j=d.currentPeek();return j==="{"?F==="%"?!1:O:j==="@"||!j?F==="%"?!0:O:j==="%"?(d.peek(),y(O,"%",!0)):j==="|"?F==="%"||$?!0:!(F===Mn||F===xt):j===Mn?(d.peek(),y(!0,Mn,$)):j===xt?(d.peek(),y(!0,xt,$)):!0},A=y();return p&&d.resetPeek(),A}function ee(d,p){const y=d.currentChar();return y===rr?rr:p(y)?(d.next(),y):null}function ye(d){return ee(d,y=>{const A=y.charCodeAt(0);return A>=97&&A<=122||A>=65&&A<=90||A>=48&&A<=57||A===95||A===36})}function Ae(d){return ee(d,y=>{const A=y.charCodeAt(0);return A>=48&&A<=57})}function Z(d){return ee(d,y=>{const A=y.charCodeAt(0);return A>=48&&A<=57||A>=65&&A<=70||A>=97&&A<=102})}function me(d){let p="",y="";for(;p=Ae(d);)y+=p;return y}function ue(d){w(d);const p=d.currentChar();return p!=="%"&&h(oe.EXPECTED_TOKEN,i(),0,p),d.next(),"%"}function Ne(d){let p="";for(;;){const y=d.currentChar();if(y==="{"||y==="}"||y==="@"||y==="|"||!y)break;if(y==="%")if(B(d))p+=y,d.next();else break;else if(y===Mn||y===xt)if(B(d))p+=y,d.next();else{if(x(d))break;p+=y,d.next()}else p+=y,d.next()}return p}function et(d){w(d);let p="",y="";for(;p=ye(d);)y+=p;return d.currentChar()===rr&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),y}function tt(d){w(d);let p="";return d.currentChar()==="-"?(d.next(),p+=`-${me(d)}`):p+=me(d),d.currentChar()===rr&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),p}function Xe(d){w(d),_(d,"'");let p="",y="";const A=F=>F!==Ig&&F!==xt;for(;p=ee(d,A);)p==="\\"?y+=Yt(d):y+=p;const O=d.currentChar();return O===xt||O===rr?(h(oe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),O===xt&&(d.next(),_(d,"'")),y):(_(d,"'"),y)}function Yt(d){const p=d.currentChar();switch(p){case"\\":case"'":return d.next(),`\\${p}`;case"u":return Ht(d,p,4);case"U":return Ht(d,p,6);default:return h(oe.UNKNOWN_ESCAPE_SEQUENCE,i(),0,p),""}}function Ht(d,p,y){_(d,p);let A="";for(let O=0;O<y;O++){const F=Z(d);if(!F){h(oe.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${p}${A}${d.currentChar()}`);break}A+=F}return`\\${p}${A}`}function Dn(d){w(d);let p="",y="";const A=O=>O!=="{"&&O!=="}"&&O!==Mn&&O!==xt;for(;p=ee(d,A);)y+=p;return y}function Je(d){let p="",y="";for(;p=ye(d);)y+=p;return y}function L(d){const p=(y=!1,A)=>{const O=d.currentChar();return O==="{"||O==="%"||O==="@"||O==="|"||O==="("||O===")"||!O||O===Mn?A:O===xt||O===YL?(A+=O,d.next(),p(y,A)):(A+=O,d.next(),p(!0,A))};return p(!1,"")}function K(d){w(d);const p=_(d,"|");return w(d),p}function q(d,p){let y=null;switch(d.currentChar()){case"{":return p.braceNest>=1&&h(oe.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),d.next(),y=f(p,2,"{"),w(d),p.braceNest++,y;case"}":return p.braceNest>0&&p.currentType===2&&h(oe.EMPTY_PLACEHOLDER,i(),0),d.next(),y=f(p,3,"}"),p.braceNest--,p.braceNest>0&&w(d),p.inLinked&&p.braceNest===0&&(p.inLinked=!1),y;case"@":return p.braceNest>0&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),y=Y(d,p)||m(p),p.braceNest=0,y;default:let O=!0,F=!0,$=!0;if(x(d))return p.braceNest>0&&h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),y=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,y;if(p.braceNest>0&&(p.currentType===5||p.currentType===6||p.currentType===7))return h(oe.UNTERMINATED_CLOSING_BRACE,i(),0),p.braceNest=0,ve(d,p);if(O=b(d,p))return y=f(p,5,et(d)),w(d),y;if(F=v(d,p))return y=f(p,6,tt(d)),w(d),y;if($=C(d,p))return y=f(p,7,Xe(d)),w(d),y;if(!O&&!F&&!$)return y=f(p,13,Dn(d)),h(oe.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,y.value),w(d),y;break}return y}function Y(d,p){const{currentType:y}=p;let A=null;const O=d.currentChar();switch((y===8||y===9||y===12||y===10)&&(O===xt||O===Mn)&&h(oe.INVALID_LINKED_FORMAT,i(),0),O){case"@":return d.next(),A=f(p,8,"@"),p.inLinked=!0,A;case".":return w(d),d.next(),f(p,9,".");case":":return w(d),d.next(),f(p,10,":");default:return x(d)?(A=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,A):S(d,p)||N(d,p)?(w(d),Y(d,p)):P(d,p)?(w(d),f(p,12,Je(d))):k(d,p)?(w(d),O==="{"?q(d,p)||A:f(p,11,L(d))):(y===8&&h(oe.INVALID_LINKED_FORMAT,i(),0),p.braceNest=0,p.inLinked=!1,ve(d,p))}}function ve(d,p){let y={type:14};if(p.braceNest>0)return q(d,p)||m(p);if(p.inLinked)return Y(d,p)||m(p);switch(d.currentChar()){case"{":return q(d,p)||m(p);case"}":return h(oe.UNBALANCED_CLOSING_BRACE,i(),0),d.next(),f(p,3,"}");case"@":return Y(d,p)||m(p);default:if(x(d))return y=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,y;const{isModulo:O,hasSpace:F}=z(d);if(O)return F?f(p,0,Ne(d)):f(p,4,ue(d));if(B(d))return f(p,0,Ne(d));break}return y}function E(){const{currentType:d,offset:p,startLoc:y,endLoc:A}=c;return c.lastType=d,c.lastOffset=p,c.lastStartLoc=y,c.lastEndLoc=A,c.offset=s(),c.startLoc=i(),r.currentChar()===rr?f(c,14):ve(r,c)}return{nextToken:E,currentOffset:s,currentPosition:i,context:l}}const ZL="parser",e1=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function t1(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function n1(t={}){const e=t.location!==!1,{onError:n}=t;function r(g,I,b,v,...C){const S=g.currentPosition();if(S.offset+=v,S.column+=v,n){const P=e?yh(b,S):null,N=vi(I,P,{domain:ZL,args:C});n(N)}}function s(g,I,b){const v={type:g};return e&&(v.start=I,v.end=I,v.loc={start:b,end:b}),v}function i(g,I,b,v){v&&(g.type=v),e&&(g.end=I,g.loc&&(g.loc.end=b))}function o(g,I){const b=g.context(),v=s(3,b.offset,b.startLoc);return v.value=I,i(v,g.currentOffset(),g.currentPosition()),v}function a(g,I){const b=g.context(),{lastOffset:v,lastStartLoc:C}=b,S=s(5,v,C);return S.index=parseInt(I,10),g.nextToken(),i(S,g.currentOffset(),g.currentPosition()),S}function c(g,I){const b=g.context(),{lastOffset:v,lastStartLoc:C}=b,S=s(4,v,C);return S.key=I,g.nextToken(),i(S,g.currentOffset(),g.currentPosition()),S}function l(g,I){const b=g.context(),{lastOffset:v,lastStartLoc:C}=b,S=s(9,v,C);return S.value=I.replace(e1,t1),g.nextToken(),i(S,g.currentOffset(),g.currentPosition()),S}function u(g){const I=g.nextToken(),b=g.context(),{lastOffset:v,lastStartLoc:C}=b,S=s(8,v,C);return I.type!==12?(r(g,oe.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),S.value="",i(S,v,C),{nextConsumeToken:I,node:S}):(I.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,vn(I)),S.value=I.value||"",i(S,g.currentOffset(),g.currentPosition()),{node:S})}function h(g,I){const b=g.context(),v=s(7,b.offset,b.startLoc);return v.value=I,i(v,g.currentOffset(),g.currentPosition()),v}function f(g){const I=g.context(),b=s(6,I.offset,I.startLoc);let v=g.nextToken();if(v.type===9){const C=u(g);b.modifier=C.node,v=C.nextConsumeToken||g.nextToken()}switch(v.type!==10&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(v)),v=g.nextToken(),v.type===2&&(v=g.nextToken()),v.type){case 11:v.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(v)),b.key=h(g,v.value||"");break;case 5:v.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(v)),b.key=c(g,v.value||"");break;case 6:v.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(v)),b.key=a(g,v.value||"");break;case 7:v.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(v)),b.key=l(g,v.value||"");break;default:r(g,oe.UNEXPECTED_EMPTY_LINKED_KEY,I.lastStartLoc,0);const C=g.context(),S=s(7,C.offset,C.startLoc);return S.value="",i(S,C.offset,C.startLoc),b.key=S,i(b,C.offset,C.startLoc),{nextConsumeToken:v,node:b}}return i(b,g.currentOffset(),g.currentPosition()),{node:b}}function m(g){const I=g.context(),b=I.currentType===1?g.currentOffset():I.offset,v=I.currentType===1?I.endLoc:I.startLoc,C=s(2,b,v);C.items=[];let S=null;do{const k=S||g.nextToken();switch(S=null,k.type){case 0:k.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(k)),C.items.push(o(g,k.value||""));break;case 6:k.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(k)),C.items.push(a(g,k.value||""));break;case 5:k.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(k)),C.items.push(c(g,k.value||""));break;case 7:k.value==null&&r(g,oe.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,vn(k)),C.items.push(l(g,k.value||""));break;case 8:const x=f(g);C.items.push(x.node),S=x.nextConsumeToken||null;break}}while(I.currentType!==14&&I.currentType!==1);const P=I.currentType===1?I.lastOffset:g.currentOffset(),N=I.currentType===1?I.lastEndLoc:g.currentPosition();return i(C,P,N),C}function _(g,I,b,v){const C=g.context();let S=v.items.length===0;const P=s(1,I,b);P.cases=[],P.cases.push(v);do{const N=m(g);S||(S=N.items.length===0),P.cases.push(N)}while(C.currentType!==14);return S&&r(g,oe.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),i(P,g.currentOffset(),g.currentPosition()),P}function T(g){const I=g.context(),{offset:b,startLoc:v}=I,C=m(g);return I.currentType===14?C:_(g,b,v,C)}function w(g){const I=JL(g,rI({},t)),b=I.context(),v=s(0,b.offset,b.startLoc);return e&&v.loc&&(v.loc.source=g),v.body=T(I),t.onCacheKey&&(v.cacheKey=t.onCacheKey(g)),b.currentType!==14&&r(I,oe.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,g[b.offset]||""),i(v,I.currentOffset(),I.currentPosition()),v}return{parse:w}}function vn(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function r1(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function wg(t,e){for(let n=0;n<t.length;n++)Cd(t[n],e)}function Cd(t,e){switch(t.type){case 1:wg(t.cases,e),e.helper("plural");break;case 2:wg(t.items,e);break;case 6:Cd(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function s1(t,e={}){const n=r1(t);n.helper("normalize"),t.body&&Cd(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function i1(t){const e=t.body;return e.type===2?bg(e):e.cases.forEach(n=>bg(n)),t}function bg(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=sI(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const o1="minifier";function Rs(t){switch(t.t=t.type,t.type){case 0:const e=t;Rs(e.body),e.b=e.body,delete e.body;break;case 1:const n=t,r=n.cases;for(let u=0;u<r.length;u++)Rs(r[u]);n.c=r,delete n.cases;break;case 2:const s=t,i=s.items;for(let u=0;u<i.length;u++)Rs(i[u]);s.i=i,delete s.items,s.static&&(s.s=s.static,delete s.static);break;case 3:case 9:case 8:case 7:const o=t;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=t;Rs(a.key),a.k=a.key,delete a.key,a.modifier&&(Rs(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const c=t;c.i=c.index,delete c.index;break;case 4:const l=t;l.k=l.key,delete l.key;break;default:throw vi(oe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:o1,args:[t.type]})}delete t.type}const a1="parser";function c1(t,e){const{sourceMap:n,filename:r,breakLineCode:s,needIndent:i}=e,o=e.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:i,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const c=()=>a;function l(w,g){a.code+=w}function u(w,g=!0){const I=g?s:"";l(i?I+"  ".repeat(w):I)}function h(w=!0){const g=++a.indentLevel;w&&u(g)}function f(w=!0){const g=--a.indentLevel;w&&u(g)}function m(){u(a.indentLevel)}return{context:c,push:l,indent:h,deindent:f,newline:m,helper:w=>`_${w}`,needIndent:()=>a.needIndent}}function l1(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),ni(t,e.key),e.modifier?(t.push(", "),ni(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function u1(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(ni(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function h1(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(ni(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function f1(t,e){e.body?ni(t,e.body):t.push("null")}function ni(t,e){const{helper:n}=t;switch(e.type){case 0:f1(t,e);break;case 1:h1(t,e);break;case 2:u1(t,e);break;case 6:l1(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw vi(oe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:a1,args:[e.type]})}}const d1=(t,e={})=>{const n=Tg(e.mode)?e.mode:"normal",r=Tg(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],c=c1(t,{mode:n,filename:r,sourceMap:s,breakLineCode:i,needIndent:o});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(o),a.length>0&&(c.push(`const { ${sI(a.map(h=>`${h}: _${h}`),", ")} } = ctx`),c.newline()),c.push("return "),ni(c,t),c.deindent(o),c.push("}"),delete t.helpers;const{code:l,map:u}=c.context();return{ast:t,code:l,map:u?u.toJSON():void 0}};function p1(t,e={}){const n=rI({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=n1(n).parse(t);return r?(i&&i1(a),s&&Rs(a),{ast:a,code:""}):(s1(a,n),d1(a,n))}/*!
  * core-base v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function m1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Fn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Fn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Fn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Fr=[];Fr[0]={w:[0],i:[3,0],"[":[4],o:[7]};Fr[1]={w:[1],".":[2],"[":[4],o:[7]};Fr[2]={w:[2],i:[3,0],0:[3,0]};Fr[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Fr[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Fr[5]={"'":[4,0],o:8,l:[5,0]};Fr[6]={'"':[4,0],o:8,l:[6,0]};const g1=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function _1(t){return g1.test(t)}function y1(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function v1(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function E1(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:_1(e)?y1(e):"*"+e}function T1(t){const e=[];let n=-1,r=0,s=0,i,o,a,c,l,u,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=E1(o),o===!1))return!1;f[1]()}};function m(){const _=t[n+1];if(r===5&&_==="'"||r===6&&_==='"')return n++,a="\\"+_,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&m())){if(c=v1(i),h=Fr[r],l=h[c]||h.l||8,l===8||(r=l[0],l[1]!==void 0&&(u=f[l[1]],u&&(a=i,u()===!1))))return;if(r===7)return e}}const Ag=new Map;function I1(t,e){return De(t)?t[e]:null}function w1(t,e){if(!De(t))return null;let n=Ag.get(e);if(n||(n=T1(e),n&&Ag.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=s[n[i]];if(o===void 0||Ue(s))return null;s=o,i++}return s}const b1=t=>t,A1=t=>"",R1="text",C1=t=>t.length===0?"":VL(t),P1=FL;function Rg(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function S1(t){const e=at(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(at(t.named.count)||at(t.named.n))?at(t.named.count)?t.named.count:at(t.named.n)?t.named.n:e:e}function O1(t,e){e.count||(e.count=t),e.n||(e.n=t)}function k1(t={}){const e=t.locale,n=S1(t),r=De(t.pluralRules)&&Q(e)&&Ue(t.pluralRules[e])?t.pluralRules[e]:Rg,s=De(t.pluralRules)&&Q(e)&&Ue(t.pluralRules[e])?Rg:void 0,i=g=>g[r(n,g.length,s)],o=t.list||[],a=g=>o[g],c=t.named||{};at(t.pluralIndex)&&O1(n,c);const l=g=>c[g];function u(g){const I=Ue(t.messages)?t.messages(g):De(t.messages)?t.messages[g]:!1;return I||(t.parent?t.parent.message(g):A1)}const h=g=>t.modifiers?t.modifiers[g]:b1,f=pe(t.processor)&&Ue(t.processor.normalize)?t.processor.normalize:C1,m=pe(t.processor)&&Ue(t.processor.interpolate)?t.processor.interpolate:P1,_=pe(t.processor)&&Q(t.processor.type)?t.processor.type:R1,w={list:a,named:l,plural:i,linked:(g,...I)=>{const[b,v]=I;let C="text",S="";I.length===1?De(b)?(S=b.modifier||S,C=b.type||C):Q(b)&&(S=b||S):I.length===2&&(Q(b)&&(S=b||S),Q(v)&&(C=v||C));const P=u(g)(w),N=C==="vnode"&&Ke(P)&&S?P[0]:P;return S?h(S)(N,C):N},message:u,type:_,interpolate:m,normalize:f,values:bt({},o,c)};return w}let So=null;function N1(t){So=t}function D1(t,e,n){So&&So.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const L1=M1("function:translate");function M1(t){return e=>So&&So.emit(t,e)}const x1={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8},iI=oe.__EXTEND_POINT__,qr=Rd(iI),ln={INVALID_ARGUMENT:iI,INVALID_DATE_ARGUMENT:qr(),INVALID_ISO_DATE_ARGUMENT:qr(),NOT_SUPPORT_NON_STRING_MESSAGE:qr(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:qr(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:qr(),NOT_SUPPORT_LOCALE_TYPE:qr(),__EXTEND_POINT__:qr()};function Rn(t){return vi(t,null,void 0)}function Pd(t,e){return e.locale!=null?Cg(e.locale):Cg(t.locale)}let au;function Cg(t){if(Q(t))return t;if(Ue(t)){if(t.resolvedOnce&&au!=null)return au;if(t.constructor.name==="Function"){const e=t();if(xL(e))throw Rn(ln.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return au=e}else throw Rn(ln.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Rn(ln.NOT_SUPPORT_LOCALE_TYPE)}function F1(t,e,n){return[...new Set([n,...Ke(e)?e:De(e)?Object.keys(e):Q(e)?[e]:[n]])]}function oI(t,e,n){const r=Q(n)?n:ri,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Ke(o);)o=Pg(i,o,e);const a=Ke(e)||!pe(e)?e:e.default?e.default:null;o=Q(a)?[a]:a,Ke(o)&&Pg(i,o,!1),s.__localeChainCache.set(r,i)}return i}function Pg(t,e,n){let r=!0;for(let s=0;s<e.length&&Ee(r);s++){const i=e[s];Q(i)&&(r=V1(t,e[s],n))}return r}function V1(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=U1(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function U1(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Ke(n)||pe(n))&&n[s]&&(r=n[s])}return r}const $1="9.8.0",Rl=-1,ri="en-US",Sg="",Og=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function B1(){return{upper:(t,e)=>e==="text"&&Q(t)?t.toUpperCase():e==="vnode"&&De(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Q(t)?t.toLowerCase():e==="vnode"&&De(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Q(t)?Og(t):e==="vnode"&&De(t)&&"__v_isVNode"in t?Og(t.children):t}}let aI;function kg(t){aI=t}let cI;function j1(t){cI=t}let lI;function q1(t){lI=t}let uI=null;const H1=t=>{uI=t},W1=()=>uI;let hI=null;const Ng=t=>{hI=t},K1=()=>hI;let Dg=0;function Q1(t={}){const e=Ue(t.onWarn)?t.onWarn:UL,n=Q(t.version)?t.version:$1,r=Q(t.locale)||Ue(t.locale)?t.locale:ri,s=Ue(r)?ri:r,i=Ke(t.fallbackLocale)||pe(t.fallbackLocale)||Q(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=pe(t.messages)?t.messages:{[s]:{}},a=pe(t.datetimeFormats)?t.datetimeFormats:{[s]:{}},c=pe(t.numberFormats)?t.numberFormats:{[s]:{}},l=bt({},t.modifiers||{},B1()),u=t.pluralRules||{},h=Ue(t.missing)?t.missing:null,f=Ee(t.missingWarn)||Or(t.missingWarn)?t.missingWarn:!0,m=Ee(t.fallbackWarn)||Or(t.fallbackWarn)?t.fallbackWarn:!0,_=!!t.fallbackFormat,T=!!t.unresolving,w=Ue(t.postTranslation)?t.postTranslation:null,g=pe(t.processor)?t.processor:null,I=Ee(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter,v=Ue(t.messageCompiler)?t.messageCompiler:aI,C=Ue(t.messageResolver)?t.messageResolver:cI||I1,S=Ue(t.localeFallbacker)?t.localeFallbacker:lI||F1,P=De(t.fallbackContext)?t.fallbackContext:void 0,N=t,k=De(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,x=De(N.__numberFormatters)?N.__numberFormatters:new Map,z=De(N.__meta)?N.__meta:{};Dg++;const B={version:n,cid:Dg,locale:r,fallbackLocale:i,messages:o,modifiers:l,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:m,fallbackFormat:_,unresolving:T,postTranslation:w,processor:g,warnHtmlMessage:I,escapeParameter:b,messageCompiler:v,messageResolver:C,localeFallbacker:S,fallbackContext:P,onWarn:e,__meta:z};return B.datetimeFormats=a,B.numberFormats=c,B.__datetimeFormatters=k,B.__numberFormatters=x,__INTLIFY_PROD_DEVTOOLS__&&D1(B,n,z),B}function Sd(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return Q(a)?a:e}else return e}function Pi(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function cu(t){return n=>G1(n,t)}function G1(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const r=n,s=r.c||r.cases;return t.plural(s.reduce((i,o)=>[...i,Lg(t,o)],[]))}else return Lg(t,n)}function Lg(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const r=(e.i||e.items).reduce((s,i)=>[...s,vh(t,i)],[]);return t.normalize(r)}}function vh(t,e){const n=e.t||e.type;switch(n){case 3:const r=e;return r.v||r.value;case 9:const s=e;return s.v||s.value;case 4:const i=e;return t.interpolate(t.named(i.k||i.key));case 5:const o=e;return t.interpolate(t.list(o.i!=null?o.i:o.index));case 6:const a=e,c=a.m||a.modifier;return t.linked(vh(t,a.k||a.key),c?vh(t,c):void 0,t.type);case 7:const l=e;return l.v||l.value;case 8:const u=e;return u.v||u.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const fI=t=>t;let Ss=Object.create(null);const si=t=>De(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function dI(t,e={}){let n=!1;const r=e.onError||WL;return e.onError=s=>{n=!0,r(s)},{...p1(t,e),detectError:n}}const z1=(t,e)=>{if(!Q(t))throw Rn(ln.NOT_SUPPORT_NON_STRING_MESSAGE);{Ee(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||fI)(t),s=Ss[r];if(s)return s;const{code:i,detectError:o}=dI(t,e),a=new Function(`return ${i}`)();return o?a:Ss[r]=a}};function Y1(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Q(t)){Ee(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||fI)(t),s=Ss[r];if(s)return s;const{ast:i,detectError:o}=dI(t,{...e,location:!1,jit:!0}),a=cu(i);return o?a:Ss[r]=a}else{const n=t.cacheKey;if(n){const r=Ss[n];return r||(Ss[n]=cu(t))}else return cu(t)}}const Mg=()=>"",Jt=t=>Ue(t);function xg(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[c,l]=Eh(...e),u=Ee(l.missingWarn)?l.missingWarn:t.missingWarn,h=Ee(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,f=Ee(l.escapeParameter)?l.escapeParameter:t.escapeParameter,m=!!l.resolvedMessage,_=Q(l.default)||Ee(l.default)?Ee(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:"",T=n||_!=="",w=Pd(t,l);f&&X1(l);let[g,I,b]=m?[c,w,a[w]||{}]:pI(t,c,w,o,h,u),v=g,C=c;if(!m&&!(Q(v)||si(v)||Jt(v))&&T&&(v=_,C=v),!m&&(!(Q(v)||si(v)||Jt(v))||!Q(I)))return s?Rl:c;let S=!1;const P=()=>{S=!0},N=Jt(v)?v:mI(t,c,I,v,C,P);if(S)return v;const k=eM(t,I,b,l),x=k1(k),z=J1(t,N,x),B=r?r(z,c):z;if(__INTLIFY_PROD_DEVTOOLS__){const ee={timestamp:Date.now(),key:Q(c)?c:Jt(v)?v.key:"",locale:I||(Jt(v)?v.locale:""),format:Q(v)?v:Jt(v)?v.source:"",message:B};ee.meta=bt({},t.__meta,W1()||{}),L1(ee)}return B}function X1(t){Ke(t.list)?t.list=t.list.map(e=>Q(e)?Eg(e):e):De(t.named)&&Object.keys(t.named).forEach(e=>{Q(t.named[e])&&(t.named[e]=Eg(t.named[e]))})}function pI(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,r,n);let h={},f,m=null;const _="translate";for(let T=0;T<u.length&&(f=u[T],h=o[f]||{},(m=c(h,e))===null&&(m=h[e]),!(Q(m)||si(m)||Jt(m)));T++){const w=Sd(t,e,f,i,_);w!==e&&(m=w)}return[m,f,h]}function mI(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Jt(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||e,l}if(o==null){const l=()=>r;return l.locale=n,l.key=e,l}const c=o(r,Z1(t,n,s,r,a,i));return c.locale=n,c.key=e,c.source=r,c}function J1(t,e,n){return e(n)}function Eh(...t){const[e,n,r]=t,s={};if(!Q(e)&&!at(e)&&!Jt(e)&&!si(e))throw Rn(ln.INVALID_ARGUMENT);const i=at(e)?String(e):(Jt(e),e);return at(n)?s.plural=n:Q(n)?s.default=n:pe(n)&&!Al(n)?s.named=n:Ke(n)&&(s.list=n),at(r)?s.plural=r:Q(r)?s.default=r:pe(r)&&bt(s,r),[i,s]}function Z1(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>NL(e,n,o)}}function eM(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:m=>{let _=o(n,m);if(_==null&&u){const[,,T]=pI(u,m,e,a,c,l);_=o(T,m)}if(Q(_)||si(_)){let T=!1;const g=mI(t,m,e,_,m,()=>{T=!0});return T?Mg:g}else return Jt(_)?_:Mg}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),at(r.plural)&&(f.pluralIndex=r.plural),f}function Fg(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,h]=Th(...e),f=Ee(u.missingWarn)?u.missingWarn:t.missingWarn;Ee(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const m=!!u.part,_=Pd(t,u),T=o(t,s,_);if(!Q(c)||c==="")return new Intl.DateTimeFormat(_,h).format(l);let w={},g,I=null;const b="datetime format";for(let S=0;S<T.length&&(g=T[S],w=n[g]||{},I=w[c],!pe(I));S++)Sd(t,c,g,f,b);if(!pe(I)||!Q(g))return r?Rl:c;let v=`${g}__${c}`;Al(h)||(v=`${v}__${JSON.stringify(h)}`);let C=a.get(v);return C||(C=new Intl.DateTimeFormat(g,bt({},I,h)),a.set(v,C)),m?C.formatToParts(l):C.format(l)}const gI=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Th(...t){const[e,n,r,s]=t,i={};let o={},a;if(Q(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Rn(ln.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Rn(ln.INVALID_ISO_DATE_ARGUMENT)}}else if(LL(e)){if(isNaN(e.getTime()))throw Rn(ln.INVALID_DATE_ARGUMENT);a=e}else if(at(e))a=e;else throw Rn(ln.INVALID_ARGUMENT);return Q(n)?i.key=n:pe(n)&&Object.keys(n).forEach(c=>{gI.includes(c)?o[c]=n[c]:i[c]=n[c]}),Q(r)?i.locale=r:pe(r)&&(o=r),pe(s)&&(o=s),[i.key||"",a,i,o]}function Vg(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function Ug(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,h]=Ih(...e),f=Ee(u.missingWarn)?u.missingWarn:t.missingWarn;Ee(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const m=!!u.part,_=Pd(t,u),T=o(t,s,_);if(!Q(c)||c==="")return new Intl.NumberFormat(_,h).format(l);let w={},g,I=null;const b="number format";for(let S=0;S<T.length&&(g=T[S],w=n[g]||{},I=w[c],!pe(I));S++)Sd(t,c,g,f,b);if(!pe(I)||!Q(g))return r?Rl:c;let v=`${g}__${c}`;Al(h)||(v=`${v}__${JSON.stringify(h)}`);let C=a.get(v);return C||(C=new Intl.NumberFormat(g,bt({},I,h)),a.set(v,C)),m?C.formatToParts(l):C.format(l)}const _I=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ih(...t){const[e,n,r,s]=t,i={};let o={};if(!at(e))throw Rn(ln.INVALID_ARGUMENT);const a=e;return Q(n)?i.key=n:pe(n)&&Object.keys(n).forEach(c=>{_I.includes(c)?o[c]=n[c]:i[c]=n[c]}),Q(r)?i.locale=r:pe(r)&&(o=r),pe(s)&&(o=s),[i.key||"",a,i,o]}function $g(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}m1();/*!
  * vue-i18n v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const tM="9.8.0";function nM(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Fn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Fn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Fn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Fn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Fn().__INTLIFY_PROD_DEVTOOLS__=!1)}const yI=x1.__EXTEND_POINT__,sr=Rd(yI);sr(),sr(),sr(),sr(),sr(),sr(),sr(),sr();const vI=ln.__EXTEND_POINT__,Ut=Rd(vI),lt={UNEXPECTED_RETURN_TYPE:vI,INVALID_ARGUMENT:Ut(),MUST_BE_CALL_SETUP_TOP:Ut(),NOT_INSTALLED:Ut(),NOT_AVAILABLE_IN_LEGACY_MODE:Ut(),REQUIRED_VALUE:Ut(),INVALID_VALUE:Ut(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ut(),NOT_INSTALLED_WITH_PROVIDE:Ut(),UNEXPECTED_ERROR:Ut(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ut(),BRIDGE_SUPPORT_VUE_2_ONLY:Ut(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ut(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ut(),__EXTEND_POINT__:Ut()};function gt(t,...e){return vi(t,null,void 0)}const wh=xr("__translateVNode"),bh=xr("__datetimeParts"),Ah=xr("__numberParts"),EI=xr("__setPluralRules"),TI=xr("__injectWithOption"),Rh=xr("__dispose");function Oo(t){if(!De(t))return t;for(const e in t)if(Po(t,e))if(!e.includes("."))De(t[e])&&Oo(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]in s||(s[n[o]]={}),!De(s[n[o]])){i=!0;break}s=s[n[o]]}i||(s[n[r]]=t[e],delete t[e]),De(s[n[r]])&&Oo(s[n[r]])}return t}function Cl(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=pe(n)?n:Ke(r)?{}:{[t]:{}};if(Ke(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},Ji(l,o[c])):Ji(l,o)}else Q(a)&&Ji(JSON.parse(a),o)}),s==null&&i)for(const a in o)Po(o,a)&&Oo(o[a]);return o}function II(t){return t.type}function wI(t,e,n){let r=De(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=Cl(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(De(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(De(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function Bg(t){return ie(Fo,null,t,0)}const jg="__INTLIFY_META__",qg=()=>[],rM=()=>!1;let Hg=0;function Wg(t){return(e,n,r,s)=>t(n,r,hn()||void 0,s)}const sM=()=>{const t=hn();let e=null;return t&&(e=II(t)[jg])?{[jg]:e}:null};function Od(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,i=t.flatJson;let o=Ee(t.inheritLocale)?t.inheritLocale:!0;const a=We(n&&o?n.locale.value:Q(t.locale)?t.locale:ri),c=We(n&&o?n.fallbackLocale.value:Q(t.fallbackLocale)||Ke(t.fallbackLocale)||pe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),l=We(Cl(a.value,t)),u=We(pe(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),h=We(pe(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=n?n.missingWarn:Ee(t.missingWarn)||Or(t.missingWarn)?t.missingWarn:!0,m=n?n.fallbackWarn:Ee(t.fallbackWarn)||Or(t.fallbackWarn)?t.fallbackWarn:!0,_=n?n.fallbackRoot:Ee(t.fallbackRoot)?t.fallbackRoot:!0,T=!!t.fallbackFormat,w=Ue(t.missing)?t.missing:null,g=Ue(t.missing)?Wg(t.missing):null,I=Ue(t.postTranslation)?t.postTranslation:null,b=n?n.warnHtmlMessage:Ee(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter;const C=n?n.modifiers:pe(t.modifiers)?t.modifiers:{};let S=t.pluralRules||n&&n.pluralRules,P;P=(()=>{s&&Ng(null);const R={version:tM,locale:a.value,fallbackLocale:c.value,messages:l.value,modifiers:C,pluralRules:S,missing:g===null?void 0:g,missingWarn:f,fallbackWarn:m,fallbackFormat:T,unresolving:!0,postTranslation:I===null?void 0:I,warnHtmlMessage:b,escapeParameter:v,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};R.datetimeFormats=u.value,R.numberFormats=h.value,R.__datetimeFormatters=pe(P)?P.__datetimeFormatters:void 0,R.__numberFormatters=pe(P)?P.__numberFormatters:void 0;const D=Q1(R);return s&&Ng(D),D})(),Pi(P,a.value,c.value);function k(){return[a.value,c.value,l.value,u.value,h.value]}const x=ke({get:()=>a.value,set:R=>{a.value=R,P.locale=a.value}}),z=ke({get:()=>c.value,set:R=>{c.value=R,P.fallbackLocale=c.value,Pi(P,a.value,R)}}),B=ke(()=>l.value),ee=ke(()=>u.value),ye=ke(()=>h.value);function Ae(){return Ue(I)?I:null}function Z(R){I=R,P.postTranslation=R}function me(){return w}function ue(R){R!==null&&(g=Wg(R)),w=R,P.missing=g}const Ne=(R,D,X,ae,Te,Be)=>{k();let ht;try{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=n?K1():void 0),ht=R(P)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=void 0)}if(X!=="translate exists"&&at(ht)&&ht===Rl||X==="translate exists"&&!ht){const[Xn,Pl]=D();return n&&_?ae(n):Te(Xn)}else{if(Be(ht))return ht;throw gt(lt.UNEXPECTED_RETURN_TYPE)}};function et(...R){return Ne(D=>Reflect.apply(xg,null,[D,...R]),()=>Eh(...R),"translate",D=>Reflect.apply(D.t,D,[...R]),D=>D,D=>Q(D))}function tt(...R){const[D,X,ae]=R;if(ae&&!De(ae))throw gt(lt.INVALID_ARGUMENT);return et(D,X,bt({resolvedMessage:!0},ae||{}))}function Xe(...R){return Ne(D=>Reflect.apply(Fg,null,[D,...R]),()=>Th(...R),"datetime format",D=>Reflect.apply(D.d,D,[...R]),()=>Sg,D=>Q(D))}function Yt(...R){return Ne(D=>Reflect.apply(Ug,null,[D,...R]),()=>Ih(...R),"number format",D=>Reflect.apply(D.n,D,[...R]),()=>Sg,D=>Q(D))}function Ht(R){return R.map(D=>Q(D)||at(D)||Ee(D)?Bg(String(D)):D)}const Je={normalize:Ht,interpolate:R=>R,type:"vnode"};function L(...R){return Ne(D=>{let X;const ae=D;try{ae.processor=Je,X=Reflect.apply(xg,null,[ae,...R])}finally{ae.processor=null}return X},()=>Eh(...R),"translate",D=>D[wh](...R),D=>[Bg(D)],D=>Ke(D))}function K(...R){return Ne(D=>Reflect.apply(Ug,null,[D,...R]),()=>Ih(...R),"number format",D=>D[Ah](...R),qg,D=>Q(D)||Ke(D))}function q(...R){return Ne(D=>Reflect.apply(Fg,null,[D,...R]),()=>Th(...R),"datetime format",D=>D[bh](...R),qg,D=>Q(D)||Ke(D))}function Y(R){S=R,P.pluralRules=S}function ve(R,D){return Ne(()=>{if(!R)return!1;const X=Q(D)?D:a.value,ae=p(X),Te=P.messageResolver(ae,R);return si(Te)||Jt(Te)||Q(Te)},()=>[R],"translate exists",X=>Reflect.apply(X.te,X,[R,D]),rM,X=>Ee(X))}function E(R){let D=null;const X=oI(P,c.value,a.value);for(let ae=0;ae<X.length;ae++){const Te=l.value[X[ae]]||{},Be=P.messageResolver(Te,R);if(Be!=null){D=Be;break}}return D}function d(R){const D=E(R);return D??(n?n.tm(R)||{}:{})}function p(R){return l.value[R]||{}}function y(R,D){if(i){const X={[R]:D};for(const ae in X)Po(X,ae)&&Oo(X[ae]);D=X[R]}l.value[R]=D,P.messages=l.value}function A(R,D){l.value[R]=l.value[R]||{};const X={[R]:D};for(const ae in X)Po(X,ae)&&Oo(X[ae]);D=X[R],Ji(D,l.value[R]),P.messages=l.value}function O(R){return u.value[R]||{}}function F(R,D){u.value[R]=D,P.datetimeFormats=u.value,Vg(P,R,D)}function $(R,D){u.value[R]=bt(u.value[R]||{},D),P.datetimeFormats=u.value,Vg(P,R,D)}function j(R){return h.value[R]||{}}function U(R,D){h.value[R]=D,P.numberFormats=h.value,$g(P,R,D)}function ne(R,D){h.value[R]=bt(h.value[R]||{},D),P.numberFormats=h.value,$g(P,R,D)}Hg++,n&&_h&&(rn(n.locale,R=>{o&&(a.value=R,P.locale=R,Pi(P,a.value,c.value))}),rn(n.fallbackLocale,R=>{o&&(c.value=R,P.fallbackLocale=R,Pi(P,a.value,c.value))}));const H={id:Hg,locale:x,fallbackLocale:z,get inheritLocale(){return o},set inheritLocale(R){o=R,R&&n&&(a.value=n.locale.value,c.value=n.fallbackLocale.value,Pi(P,a.value,c.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:B,get modifiers(){return C},get pluralRules(){return S||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(R){f=R,P.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(R){m=R,P.fallbackWarn=m},get fallbackRoot(){return _},set fallbackRoot(R){_=R},get fallbackFormat(){return T},set fallbackFormat(R){T=R,P.fallbackFormat=T},get warnHtmlMessage(){return b},set warnHtmlMessage(R){b=R,P.warnHtmlMessage=R},get escapeParameter(){return v},set escapeParameter(R){v=R,P.escapeParameter=R},t:et,getLocaleMessage:p,setLocaleMessage:y,mergeLocaleMessage:A,getPostTranslationHandler:Ae,setPostTranslationHandler:Z,getMissingHandler:me,setMissingHandler:ue,[EI]:Y};return H.datetimeFormats=ee,H.numberFormats=ye,H.rt=tt,H.te=ve,H.tm=d,H.d=Xe,H.n=Yt,H.getDateTimeFormat=O,H.setDateTimeFormat=F,H.mergeDateTimeFormat=$,H.getNumberFormat=j,H.setNumberFormat=U,H.mergeNumberFormat=ne,H[TI]=r,H[wh]=L,H[bh]=q,H[Ah]=K,H}function iM(t){const e=Q(t.locale)?t.locale:ri,n=Q(t.fallbackLocale)||Ke(t.fallbackLocale)||pe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Ue(t.missing)?t.missing:void 0,s=Ee(t.silentTranslationWarn)||Or(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=Ee(t.silentFallbackWarn)||Or(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ee(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=pe(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=Ue(t.postTranslation)?t.postTranslation:void 0,h=Q(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,m=Ee(t.sync)?t.sync:!0;let _=t.messages;if(pe(t.sharedMessages)){const C=t.sharedMessages;_=Object.keys(C).reduce((P,N)=>{const k=P[N]||(P[N]={});return bt(k,C[N]),P},_||{})}const{__i18n:T,__root:w,__injectWithOption:g}=t,I=t.datetimeFormats,b=t.numberFormats,v=t.flatJson;return{locale:e,fallbackLocale:n,messages:_,flatJson:v,datetimeFormats:I,numberFormats:b,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:m,__i18n:T,__root:w,__injectWithOption:g}}function Ch(t={},e){{const n=Od(iM(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return Ee(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=Ee(i)?!i:i},get silentFallbackWarn(){return Ee(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=Ee(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,c]=i,l={};let u=null,h=null;if(!Q(o))throw gt(lt.INVALID_ARGUMENT);const f=o;return Q(a)?l.locale=a:Ke(a)?u=a:pe(a)&&(h=a),Ke(c)?u=c:pe(c)&&(h=c),Reflect.apply(n.t,n,[f,u||h||{},l])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,c]=i,l={plural:1};let u=null,h=null;if(!Q(o))throw gt(lt.INVALID_ARGUMENT);const f=o;return Q(a)?l.locale=a:at(a)?l.plural=a:Ke(a)?u=a:pe(a)&&(h=a),Q(c)?l.locale=c:Ke(c)?u=c:pe(c)&&(h=c),Reflect.apply(n.t,n,[f,u||h||{},l])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return s.__extender=r,s}}const kd={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function oM({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===st?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},{})}function bI(t){return st}const aM=Mo({name:"i18n-t",props:bt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>at(t)||!isNaN(t)}},kd),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||Ei({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(h=>h!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Q(t.plural)?+t.plural:t.plural);const a=oM(e,i),c=s[wh](t.keypath,a,o),l=bt({},r),u=Q(t.tag)||De(t.tag)?t.tag:bI();return Vo(u,l,c)}}}),Kg=aM;function cM(t){return Ke(t)&&!Q(t[0])}function AI(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),Q(t.format)?o.key=t.format:De(t.format)&&(Q(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,m)=>n.includes(m)?bt({},f,{[m]:t.format[m]}):f,{}));const c=r(t.value,o,a);let l=[o.key];Ke(c)?l=c.map((f,m)=>{const _=s[f.type],T=_?_({[f.type]:f.value,index:m,parts:c}):[f.value];return cM(T)&&(T[0].key=`${f.type}-${m}`),T}):Q(c)&&(l=[c]);const u=bt({},i),h=Q(t.tag)||De(t.tag)?t.tag:bI();return Vo(h,u,l)}}const lM=Mo({name:"i18n-n",props:bt({value:{type:Number,required:!0},format:{type:[String,Object]}},kd),setup(t,e){const n=t.i18n||Ei({useScope:"parent",__useComponent:!0});return AI(t,e,_I,(...r)=>n[Ah](...r))}}),Qg=lM,uM=Mo({name:"i18n-d",props:bt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},kd),setup(t,e){const n=t.i18n||Ei({useScope:"parent",__useComponent:!0});return AI(t,e,gI,(...r)=>n[bh](...r))}}),Gg=uM;function hM(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function fM(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw gt(lt.UNEXPECTED_ERROR);const u=hM(t,a.$),h=zg(l);return[Reflect.apply(u.t,u,[...Yg(h)]),u]};return{created:(o,a)=>{const[c,l]=e(a);_h&&t.global===l&&(o.__i18nWatcher=rn(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{_h&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=zg(a);o.textContent=Reflect.apply(c.t,c,[...Yg(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function zg(t){if(Q(t))return{path:t};if(pe(t)){if(!("path"in t))throw gt(lt.REQUIRED_VALUE,"path");return t}else throw gt(lt.INVALID_VALUE)}function Yg(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return Q(n)&&(o.locale=n),at(s)&&(o.plural=s),at(i)&&(o.plural=i),[e,a,o]}function dM(t,e,...n){const r=pe(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Ee(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":Kg.name,"I18nT"].forEach(o=>t.component(o,Kg)),[Qg.name,"I18nN"].forEach(o=>t.component(o,Qg)),[Gg.name,"I18nD"].forEach(o=>t.component(o,Gg))),t.directive("t",fM(e))}function pM(t,e,n){return{beforeCreate(){const r=hn();if(!r)throw gt(lt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=Xg(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=Ch(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=Xg(t,s);else{this.$i18n=Ch({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&wI(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=hn();if(!r)throw gt(lt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function Xg(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[EI](e.pluralizationRules||t.pluralizationRules);const n=Cl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const mM=xr("global-vue-i18n");function gM(t={},e){const n=__VUE_I18N_LEGACY_API__&&Ee(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Ee(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,i=new Map,[o,a]=_M(t,n),c=xr("");function l(f){return i.get(f)||null}function u(f,m){i.set(f,m)}function h(f){i.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(m,..._){if(m.__VUE_I18N_SYMBOL__=c,m.provide(m.__VUE_I18N_SYMBOL__,f),pe(_[0])){const g=_[0];f.__composerExtend=g.__composerExtend,f.__vueI18nExtend=g.__vueI18nExtend}let T=null;!n&&r&&(T=RM(m,f.global)),__VUE_I18N_FULL_INSTALL__&&dM(m,f,..._),__VUE_I18N_LEGACY_API__&&n&&m.mixin(pM(a,a.__composer,f));const w=m.unmount;m.unmount=()=>{T&&T(),f.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:l,__setInstance:u,__deleteInstance:h};return f}}function Ei(t={}){const e=hn();if(e==null)throw gt(lt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw gt(lt.NOT_INSTALLED);const n=yM(e),r=EM(n),s=II(e),i=vM(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw gt(lt.NOT_AVAILABLE_IN_LEGACY_MODE);return bM(e,i,r,t)}if(i==="global")return wI(r,t,s),r;if(i==="parent"){let c=TM(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(e);if(a==null){const c=bt({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=Od(c),o.__composerExtend&&(a[Rh]=o.__composerExtend(a)),wM(o,e,a),o.__setInstance(e,a)}return a}function _M(t,e,n){const r=Dh();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>Ch(t)):r.run(()=>Od(t));if(s==null)throw gt(lt.UNEXPECTED_ERROR);return[r,s]}}function yM(t){{const e=sn(t.isCE?mM:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw gt(t.isCE?lt.NOT_INSTALLED_WITH_PROVIDE:lt.UNEXPECTED_ERROR);return e}}function vM(t,e){return Al(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function EM(t){return t.mode==="composition"?t.global:t.global.__composer}function TM(t,e,n=!1){let r=null;const s=e.root;let i=IM(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[TI]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function IM(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function wM(t,e,n){xo(()=>{},e),Xh(()=>{const r=n;t.__deleteInstance(e);const s=r[Rh];s&&(s(),delete r[Rh])},e)}function bM(t,e,n,r={}){const s=e==="local",i=qh(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw gt(lt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Ee(r.inheritLocale)?r.inheritLocale:!Q(r.locale),a=We(!s||o?n.locale.value:Q(r.locale)?r.locale:ri),c=We(!s||o?n.fallbackLocale.value:Q(r.fallbackLocale)||Ke(r.fallbackLocale)||pe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),l=We(Cl(a.value,r)),u=We(pe(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),h=We(pe(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:Ee(r.missingWarn)||Or(r.missingWarn)?r.missingWarn:!0,m=s?n.fallbackWarn:Ee(r.fallbackWarn)||Or(r.fallbackWarn)?r.fallbackWarn:!0,_=s?n.fallbackRoot:Ee(r.fallbackRoot)?r.fallbackRoot:!0,T=!!r.fallbackFormat,w=Ue(r.missing)?r.missing:null,g=Ue(r.postTranslation)?r.postTranslation:null,I=s?n.warnHtmlMessage:Ee(r.warnHtmlMessage)?r.warnHtmlMessage:!0,b=!!r.escapeParameter,v=s?n.modifiers:pe(r.modifiers)?r.modifiers:{},C=r.pluralRules||s&&n.pluralRules;function S(){return[a.value,c.value,l.value,u.value,h.value]}const P=ke({get:()=>i.value?i.value.locale.value:a.value,set:p=>{i.value&&(i.value.locale.value=p),a.value=p}}),N=ke({get:()=>i.value?i.value.fallbackLocale.value:c.value,set:p=>{i.value&&(i.value.fallbackLocale.value=p),c.value=p}}),k=ke(()=>i.value?i.value.messages.value:l.value),x=ke(()=>u.value),z=ke(()=>h.value);function B(){return i.value?i.value.getPostTranslationHandler():g}function ee(p){i.value&&i.value.setPostTranslationHandler(p)}function ye(){return i.value?i.value.getMissingHandler():w}function Ae(p){i.value&&i.value.setMissingHandler(p)}function Z(p){return S(),p()}function me(...p){return i.value?Z(()=>Reflect.apply(i.value.t,null,[...p])):Z(()=>"")}function ue(...p){return i.value?Reflect.apply(i.value.rt,null,[...p]):""}function Ne(...p){return i.value?Z(()=>Reflect.apply(i.value.d,null,[...p])):Z(()=>"")}function et(...p){return i.value?Z(()=>Reflect.apply(i.value.n,null,[...p])):Z(()=>"")}function tt(p){return i.value?i.value.tm(p):{}}function Xe(p,y){return i.value?i.value.te(p,y):!1}function Yt(p){return i.value?i.value.getLocaleMessage(p):{}}function Ht(p,y){i.value&&(i.value.setLocaleMessage(p,y),l.value[p]=y)}function Dn(p,y){i.value&&i.value.mergeLocaleMessage(p,y)}function Je(p){return i.value?i.value.getDateTimeFormat(p):{}}function L(p,y){i.value&&(i.value.setDateTimeFormat(p,y),u.value[p]=y)}function K(p,y){i.value&&i.value.mergeDateTimeFormat(p,y)}function q(p){return i.value?i.value.getNumberFormat(p):{}}function Y(p,y){i.value&&(i.value.setNumberFormat(p,y),h.value[p]=y)}function ve(p,y){i.value&&i.value.mergeNumberFormat(p,y)}const E={get id(){return i.value?i.value.id:-1},locale:P,fallbackLocale:N,messages:k,datetimeFormats:x,numberFormats:z,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(p){i.value&&(i.value.inheritLocale=p)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(l.value)},get modifiers(){return i.value?i.value.modifiers:v},get pluralRules(){return i.value?i.value.pluralRules:C},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:f},set missingWarn(p){i.value&&(i.value.missingWarn=p)},get fallbackWarn(){return i.value?i.value.fallbackWarn:m},set fallbackWarn(p){i.value&&(i.value.missingWarn=p)},get fallbackRoot(){return i.value?i.value.fallbackRoot:_},set fallbackRoot(p){i.value&&(i.value.fallbackRoot=p)},get fallbackFormat(){return i.value?i.value.fallbackFormat:T},set fallbackFormat(p){i.value&&(i.value.fallbackFormat=p)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:I},set warnHtmlMessage(p){i.value&&(i.value.warnHtmlMessage=p)},get escapeParameter(){return i.value?i.value.escapeParameter:b},set escapeParameter(p){i.value&&(i.value.escapeParameter=p)},t:me,getPostTranslationHandler:B,setPostTranslationHandler:ee,getMissingHandler:ye,setMissingHandler:Ae,rt:ue,d:Ne,n:et,tm:tt,te:Xe,getLocaleMessage:Yt,setLocaleMessage:Ht,mergeLocaleMessage:Dn,getDateTimeFormat:Je,setDateTimeFormat:L,mergeDateTimeFormat:K,getNumberFormat:q,setNumberFormat:Y,mergeNumberFormat:ve};function d(p){p.locale.value=a.value,p.fallbackLocale.value=c.value,Object.keys(l.value).forEach(y=>{p.mergeLocaleMessage(y,l.value[y])}),Object.keys(u.value).forEach(y=>{p.mergeDateTimeFormat(y,u.value[y])}),Object.keys(h.value).forEach(y=>{p.mergeNumberFormat(y,h.value[y])}),p.escapeParameter=b,p.fallbackFormat=T,p.fallbackRoot=_,p.fallbackWarn=m,p.missingWarn=f,p.warnHtmlMessage=I}return L_(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw gt(lt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const p=i.value=t.proxy.$i18n.__composer;e==="global"?(a.value=p.locale.value,c.value=p.fallbackLocale.value,l.value=p.messages.value,u.value=p.datetimeFormats.value,h.value=p.numberFormats.value):s&&d(p)}),E}const AM=["locale","fallbackLocale","availableLocales"],Jg=["t","rt","d","n","tm","te"];function RM(t,e){const n=Object.create(null);return AM.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw gt(lt.UNEXPECTED_ERROR);const o=$e(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,Jg.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw gt(lt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,Jg.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}nM();__INTLIFY_JIT_COMPILATION__?kg(Y1):kg(z1);j1(w1);q1(oI);if(__INTLIFY_PROD_DEVTOOLS__){const t=Fn();t.__INTLIFY__=!0,N1(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const CM={class:"ml-64 color px-10 pt-10 flex items-center justify-end"},PM={class:"flex items-center gap-6"},SM={key:0,src:ZT,alt:"sun"},OM={key:1,src:eI,alt:"moon",class:"w-7 h-7"},kM=["src"],NM={key:0,class:"flex flex-col"},DM={__name:"HeaderDefault",setup(t){const e=hf(),n=Fy(e),r=Vr();function s(c,l){return Math.floor(c+Math.random()*(l+1-c))}const{locale:i}=Ei({useScope:"global"}),o=()=>{i.value="ua"},a=()=>{i.value="en"};return(c,l)=>{const u=ci("router-link");return Ie(),xe("div",CM,[he("div",PM,[he("div",null,[he("button",{class:"p-3 border-r-2",onClick:o},"UA"),he("button",{class:"p-3",onClick:a},"EN")]),he("button",{onClick:l[0]||(l[0]=h=>Fe(n)())},[Fe(e)?(Ie(),xe("img",SM)):(Ie(),xe("img",OM))]),ie(u,{to:""},{default:pt(()=>[he("img",{src:`./svg/avatars/${s(1,10)}-avatar.svg`,class:"w-10",alt:"user"},null,8,kM)]),_:1}),Fe(r).currentUser?(Ie(),xe("div",NM,[ie(u,{to:""},{default:pt(()=>[tn(Ge(Fe(r).currentUser.username),1)]),_:1}),ie(u,{to:"",class:"text-light-gray"},{default:pt(()=>[tn(Ge(Fe(r).currentUser.jobTitle),1)]),_:1})])):Eb("",!0)])])}}},LM={__name:"LayoutDefault",setup(t){return(e,n)=>(Ie(),xe(st,null,[ie(kL),ie(DM),Gw(e.$slots,"default")],64))}},MM={class:"bg-white dark:bg-dark-bg-black px-32 text-lg w-full fixed top-0 left-0"},xM={class:"flex justify-between p-5"},FM=he("img",{src:ky,alt:"logo"},null,-1),VM=he("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),UM={class:"flex gap-11 items-center"},$M={key:0,src:ZT,alt:"sun"},BM={key:1,src:eI,alt:"moon",class:"w-7 h-7"},jM={class:"h-screen pt-52 w-96 m-auto text-center"},qM={class:"text-5xl mb-6"},HM={class:"block text-lg mb-6"},WM={__name:"HomeDefault",setup(t){const e=hf(),n=Fy(e),{locale:r}=Ei({useScope:"global"}),s=()=>{r.value="ua",localStorage.setItem("lang",r.value)},i=()=>{r.value="en",localStorage.setItem("lang",r.value)};return(o,a)=>{const c=ci("router-link");return Ie(),xe(st,null,[he("div",MM,[he("nav",xM,[ie(c,{to:{name:"home"},class:"flex gap-3 items-center"},{default:pt(()=>[FM,VM]),_:1}),he("div",UM,[he("div",null,[he("button",{class:"p-3 border-r-2",onClick:s},"UA"),he("button",{class:"p-3",onClick:i},"EN")]),he("button",{onClick:a[0]||(a[0]=l=>Fe(n)())},[Fe(e)?(Ie(),xe("img",$M)):(Ie(),xe("img",BM))]),ie(c,{to:{name:"login"},class:"p-2 hover:opacity-70 underline"},{default:pt(()=>[tn(Ge(o.$t("buttons.logIn")),1)]),_:1}),ie(c,{to:{name:"signup"},class:"flex justify-center items-center gap-5 text-white h-10 bg-black dark:bg-white dark:text-black px-2 rounded-lg hover:bg-blue-600 hover:text-black dark:hover:hover:bg-blue-600 dark:hover:text-black"},{default:pt(()=>[tn(Ge(o.$t("buttons.getStarted")),1)]),_:1})])])]),he("div",jM,[he("h1",qM,Ge(o.$t("titles.titleHome")),1),he("span",HM,Ge(o.$t("texts.textHome")),1),ie(c,{to:{name:"signup"},class:"flex justify-center items-center gap-5 text-white text-lg bg-black p-2 rounded-lg hover:bg-blue-600 hover:text-black w-40 m-auto"},{default:pt(()=>[tn(Ge(o.$t("buttons.getStarted")),1)]),_:1})])],64)}}},Nd=iy("tasksStore",()=>{const t=Vr(),e=Hn({creationTime:null,endDate:"",name:"",description:"",completed:!1,inProgress:!1,createdById:"",createdByUsername:"",assignedToId:"",assignedToUsername:""}),n=We(!1),r=We([]),s=vy("loadTasks",async()=>t.userTasksCollection?(await gh(uL(t.userTasksCollection,hL("creationTime","desc")))).docs.map(f=>({id:f.id,...f.data()})):[],{onSuccess:h=>{r.value=h},onError:h=>{console.error("Error loading tasks:",h)}}),i=qA(h=>XT(t.userTasksCollection,h),{onSuccess:()=>{e.name="",e.description="",e.endDate="",n.value=!1},onError:h=>{console.error("Error creating new task:",h)}}),o=()=>{const h={...e,creationTime:Date.now(),createdById:t.currentUser.uid,createdByUsername:t.currentUser.username,assignedToId:t.currentUser.uid,assignedToUsername:t.currentUser.username};i.mutate(h)},a=ke(()=>r.value.filter(h=>!h.completed&&!h.inProgress)),c=ke(()=>r.value.filter(h=>!h.completed&&h.inProgress)),l=ke(()=>r.value.filter(h=>h.completed&&!h.inProgress)),u=Hn({id:null,name:"",description:"",endDate:""});return{newTask:e,editingTask:u,tasks:a,tasksAll:r,tasksInProgress:c,completedTasks:l,isCreating:n,loadTasks:s,createNewTask:o}}),KM={class:"block text-2xl mb-3"},QM={class:"block break-words mb-7"},GM={class:"block mb-3"},zM={class:"py-1 px-3 rounded-2xl bg-emerald-400 dark:bg-emerald-900 text-sm"},YM={class:"block"},XM={__name:"TasksHome",setup(t){const e=Vr(),n=Nd();return(r,s)=>{const i=ci("router-link");return Ie(),ts(i,{to:{name:"tasks"},class:"flex [&>*:first-child]:ml-0"},{default:pt(()=>[(Ie(!0),xe(st,null,x_(Fe(n).tasksAll,o=>(Ie(),xe("div",{class:"h-48 w-64 -ml-16 border border-light-gray border-l-4 border-l-zinc-400 rounded-xl bg-white dark:bg-dark-bg-black p-4 flex flex-col justify-between gap-3",key:o.id},[he("div",null,[he("span",KM,Ge(o.name),1),he("span",QM,Ge(o.description),1),he("span",GM,[tn(Ge(r.$t("tasks.createdBy"))+" ",1),he("span",zM,Ge(o.createdByUsername),1)]),he("span",YM,[tn(Ge(r.$t("tasks.assignedTo"))+" ",1),he("span",{class:No(["py-1 px-3 rounded-2xl text-sm",[{"bg-emerald-400":o.assignedToId===Fe(e).currentUser.uid,"dark:bg-emerald-900":o.assignedToId===Fe(e).currentUser.uid,"bg-lime-300":o.assignedToId!==Fe(e).currentUser.uid,"dark:bg-lime-800":o.assignedToId!==Fe(e).currentUser.uid}]])},Ge(o.assignedToUsername),3)])])]))),128))]),_:1})}}},JM={class:"flex justify-between items-center"},ZM={class:"block mb-6"},ex=["src"],tx={class:"block text-sm text-light-gray"},nx={__name:"TeamHome",setup(t){const e=Vr();e.getTeamMembers.refetch();function n(r,s){return Math.floor(r+Math.random()*(s+1-r))}return(r,s)=>{const i=ci("router-link");return Ie(),ts(i,{to:{name:"team"},class:"flex [&>*:first-child]:ml-0"},{default:pt(()=>[(Ie(!0),xe(st,null,x_(Fe(e).teamMembers,o=>(Ie(),xe("div",{key:o.uid,class:"-ml-20 border-2 border-emerald-500 rounded-xl w-52 bg-white dark:bg-dark-bg-black dark:border-zinc-400 p-3"},[he("div",JM,[he("span",ZM,Ge(o.username),1),he("img",{src:`/svg/avatars/${n(1,10)}-avatar.svg`,alt:"avatar",class:"w-12"},null,8,ex)]),he("span",tx,Ge(o.jobTitle),1)]))),128))]),_:1})}}},rx={class:"ml-64 mt-20 mb-40 px-5"},sx={class:"text-3xl mb-8"},ix={class:"ml-64 px-5"},ox={class:"text-3xl mb-8"},ax={__name:"HomeMain",async setup(t){let e,n;const r=Vr(),s=Nd();return[e,n]=Xw(()=>new Promise(i=>setTimeout(i,500))),await e,n(),(i,o)=>(Ie(),xe(st,null,[he("div",rx,[he("h1",sx,Ge(i.$t("titles.tasksLength"))+" "+Ge(Fe(s).tasksAll.length),1),ie(XM)]),he("div",ix,[he("h1",ox,Ge(i.$t("titles.teamLength"))+" "+Ge(Fe(r).teamMembers.length),1),ie(nx)])],64))}},cx=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},lx={},ux={class:"bg-gradient-to-r from-zinc-300 animate-pulse rounded-lg"};function hx(t,e){return Ie(),xe("div",ux," ")}const Bn=cx(lx,[["render",hx]]),fx={class:"h-48 w-64 border -ml-16 border-light-gray border-l-4 border-l-zinc-400 rounded-xl bg-white dark:bg-dark-bg-black p-4 flex flex-col justify-between gap-3"},Oa={__name:"TasksHomeSceleton",setup(t){return(e,n)=>(Ie(),xe("div",fx,[he("div",null,[ie(Bn,{class:"w-40 h-10 mb-3"}),ie(Bn,{class:"max-w-[90%] mb-3"}),ie(Bn,{class:"max-w-[50%] h-7 mb-1"}),ie(Bn,{class:"max-w-[50%] h-7"})])]))}},dx={class:"border-2 border-zinc-300 rounded-xl w-52 bg-white dark:bg-dark-bg-black dark:border-zinc-400 p-3"},px={class:"flex justify-between items-center"},ka={__name:"MemberSceleton",setup(t){return(e,n)=>(Ie(),xe("div",dx,[he("div",px,[ie(Bn,{class:"h-7 w-24"}),ie(Bn,{class:"h-12 w-12 rounded-full"})]),ie(Bn,{class:"w-36 h-7"})]))}},mx={class:"ml-64 mt-20 mb-40 px-5"},gx={class:"flex [&>*:first-child]:ml-0"},_x={class:"ml-64 px-5"},yx={class:"flex [&>*:first-child]:ml-0"},vx={__name:"HomeMainSceleton",setup(t){return(e,n)=>(Ie(),xe(st,null,[he("div",mx,[ie(Bn,{class:"w-40 h-10 mb-5"}),he("div",gx,[ie(Oa),ie(Oa),ie(Oa),ie(Oa)])]),he("div",_x,[ie(Bn,{class:"w-40 h-10 mb-5"}),he("div",yx,[ie(ka,{class:"-mb-20"}),ie(ka,{class:"-mb-20"}),ie(ka,{class:"-mb-20"}),ie(ka,{class:"-mb-20"})])])],64))}},Ex={__name:"HomeView",setup(t){const e=Vr();return(n,r)=>(Ie(),xe("div",null,[Fe(e).currentUser?(Ie(),ts(LM,{key:0},{default:pt(()=>[(Ie(),ts(Pw,null,{fallback:pt(()=>[ie(vx)]),default:pt(()=>[ie(ax)]),_:1}))]),_:1})):(Ie(),ts(WM,{key:1}))]))}},Zr=Q0({history:l0("/task-manager"),routes:[{path:"/",name:"home",component:Ex},{path:"/login",name:"login",component:()=>ga(()=>import("./LogIn-01657a7f.js"),[])},{path:"/signup",name:"signup",component:()=>ga(()=>import("./SignUp-c3a3d3a7.js"),[])},{path:"/tasks",name:"tasks",component:()=>ga(()=>import("./TasksView-d0f0194f.js"),["assets/TasksView-d0f0194f.js","assets/TasksView-c7a3701d.css"]),meta:{requiresAuth:!0}},{path:"/team",name:"team",component:()=>ga(()=>import("./TeamView-39f5017d.js"),[]),meta:{requiresAuth:!0}}]});Zr.beforeEach((t,e,n)=>{if(t.matched.some(r=>r.meta.requiresAuth)&&!ur.currentUser){n("/");return}n()});const Vr=iy("usersStore",()=>{const t=Nd(),e=We(null),n=l=>{e.value=l},r=()=>{e.value=null},s=We(null),i=We([]),o=()=>{ur.onAuthStateChanged(async l=>{if(l===null)r();else{const u=FT(Pa,"users",ur.currentUser.uid),h=await mL(u);n({uid:ur.currentUser.uid,email:ur.currentUser.email,username:h.data().username,jobTitle:h.data().jobTitle}),s.value=ou(Pa,`users/${ur.currentUser.uid}/tasks`),await t.loadTasks.refetch(),Zr.isReady&&Zr.currentRoute.value.path==="/login"&&Zr.push("/")}}),Zr.push("/")},a=vy("getTeamMembers",async()=>{const l=ou(Pa,"users");return(await gh(l)).docs.map(f=>({uid:f.id,...f.data()}))},{onSuccess:l=>{i.value=l;const u=ou(Pa,`users/${ur.currentUser.uid}/team`);c(u),l.forEach(async h=>{await XT(u,h)})},onError:l=>{console.error("Error getting team members:",l)}}),c=async l=>{(await gh(l)).forEach(h=>{gL(h.ref)})};return{currentUser:e,userTasksCollection:s,teamMembers:i,setUser:n,clearUser:r,fetchUser:o,getTeamMembers:a}}),Tx={__name:"App",setup(t){return Vr().fetchUser(),(n,r)=>{const s=ci("router-view");return Ie(),xe("div",null,[ie(s)])}}};const Ix={titleHome:"The best platform for cross-functional work",newTasks:"New tasks",inProgress:"In Progress",completed:"Completed",team:"Team members",noTask:"You don't have any tasks yet",noTeam:"You don't have any team members yet",tasksLength:"Your tasks : ",teamLength:"Your team members : ",noSearchTask:"Can't find any task matches "},wx={textHome:"Want more efficiency in your organization? Taskie is easy for all teams to use, so you can deliver quality work, faster.",textLogIn:"Don't have an account?",selectJob:"Please select your job title:",textSignUp:"Already have an account?",selectMember:"Select a team member"},bx={getStarted:"Get started",logIn:"Log In",signUp:"Sign Up",addNew:"Add New",add:"Add",cancel:"Cancel",confirm:"Confirm",edit:"Edit",inProgress:"In Progress",complete:"Complete",assign:"Assign to:"},Ax={email:"Input your email address",password:"Input your password",createPassword:"Create your password",username:"Create your username",search:"Search",taskName:"Write a task name",taskDescription:"Write a task description",taskEndDate:"Select task's end date",changeEndDate:"Change task's end date",confirmPassword:"Confirm your password"},Rx={home:"Home",tasks:"My tasks",team:"Team",settings:"Settings",logOut:"Log Out"},Cx={markNew:"New",markInProgress:"In Progress",markCompleted:"Completed",createdBy:"Created By:",assignedTo:"Assigned to:",creationDate:"Creation Date:",endDate:"End Date:"},Px={titles:Ix,texts:wx,buttons:bx,placeholders:Ax,sidebar:Rx,tasks:Cx},Sx={titleHome:"Найкраща платформа для міжфункціональної роботи",newTasks:"Нові задачі",inProgress:"В роботі",completed:"Завершені",team:"Учасники команди",noTask:"Поки немає задач",noTeam:"Поки немає учасників команди",tasksLength:"У вас задач : ",teamLength:"Учасників команди : ",noSearchTask:"Немає щодної задачі, що збігалася б з  "},Ox={textHome:"Хочете більше ефективності у своїй організації? Taskie простий у використанні для всіх команд, тому ви можете виконувати якісну роботу швидше.",textLogIn:"Не маєте акаунту?",selectJob:"Оберіть вашу посаду:",textSignUp:"Вже маєш акаунт?",selectMember:"Виберіть учасника команди"},kx={getStarted:"Почати",logIn:"Авторизуватися",signUp:"Зареєструватися",addNew:"Добавити нову задачу",add:"Добавити",cancel:"Скасувати",confirm:"Підтвердити",edit:"Правити",inProgress:"В роботі",complete:"Завершити",assign:"Назначити на:"},Nx={email:"Введіть свій email",password:"Введіть свій пароль",createPassword:"Створіть свій пароль",username:"Створіть свій нікнейм",search:"Пошук",taskName:"Назва задачі",taskDescription:"Опис задачі",taskEndDate:"Виберіть дату закінчення задачі",changeEndDate:"Змініть дату закінчення задачі",confirmPassword:"Підтвердіть ваш пароль"},Dx={home:"Домашня сторінка",tasks:"Мої задачі",team:"Команда",settings:"Налаштування",logOut:"Вихід"},Lx={markNew:"Нова задача",markInProgress:"В роботі",markCompleted:"Завершена",createdBy:"Створена:",assignedTo:"Назначена на:",creationDate:"Створено:",endDate:"До"},Mx={titles:Sx,texts:Ox,buttons:kx,placeholders:Nx,sidebar:Dx,tasks:Lx},xx="eu",Fx={en:Px,ua:Mx},Vx=Object.assign(Fx),Ux=localStorage.getItem("lang"),$x=gM({legacy:!1,locale:Ux||xx,fallbackLocale:"en",messages:Vx}),aa=iA(Tx,{setup(){const{t}=Ei();return{t}}});aa.use($x);aa.use(cA());aa.use(Zr);aa.use(BA);aa.mount("#app");export{Eb as $,ke as A,Fe as B,_r as C,Bs as D,sn as E,st as F,La as G,Lo as H,x_ as I,zx as J,tF as K,oF as L,Cu as M,Mo as N,Wx as O,pw as P,xo as Q,Xh as R,Hx as S,Gw as T,Bx as U,vb as V,Tb as W,ts as X,jx as Y,Kx as Z,ky as _,ci as a,J_ as a0,No as a1,Vo as a2,Jx as a3,Xx as a4,Dc as a5,jw as a6,Qx as a7,Lh as a8,Mc as a9,Nd as aa,eF as ab,Zx as ac,Ly as ad,sR as ae,Ws as af,Ny as ag,lR as ah,Dy as ai,cx as aj,hf as ak,qA as al,aF as am,gL as an,Xw as ao,Bn as ap,Pw as aq,LM as ar,ka as as,he as b,xe as c,ie as d,Yx as e,qx as f,tn as g,ur as h,FT as i,Pa as j,mL as k,ou as l,Zr as m,hn as n,Ie as o,L_ as p,rn as q,We as r,nF as s,Ge as t,Vr as u,Gx as v,pt as w,$e as x,Hn as y,M_ as z};
