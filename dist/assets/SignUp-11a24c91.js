import{u as U,a as $,b as j,s as N,r as P,c as T,d as E,o as c,e as m,f as o,g as l,w as f,h as A,i as d,t as n,m as F,v as I,F as g,n as h,j as L,_ as B,k as C}from"./index-6442168a.js";import{u as M,_ as p,a as q,r as u,m as k,e as z,s as D}from"./InputUI-d7ec38f8.js";function J(){const w=U(),t=$();return j({mutationFn:e=>N(e),onSuccess:()=>{w.invalidateQueries({queryKey:["user"]})},onError:e=>{switch(e.code){case"auth/email-already-in-use":t.addNotification("error","Email already in use!");break;case"auth/invalid-email":alert("Invalid email"),t.addNotification("error","Invalid email!");break;case"auth/operation-not-allowed":t.addNotification("error","Operation not allowed!");break;case"auth/weak-password":t.addNotification("error","Weak password!");break;default:t.addNotification("error","Error signing up!")}}})}const K={class:"pl-32 pt-7"},O=o("img",{src:B,alt:"logo"},null,-1),Q=o("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),H={class:"flex flex-col items-center justify-center h-screen -mt-7"},R={class:"dark:text-zinc-400"},W={disabled:""},X={class:"mt-10 block text-center"},Y={class:"block pb-3 dark:text-zinc-400"},ee={__name:"SignUp",setup(w){const t=["BackEnd developer","FrontEnd developer","HR manager","Office manager","Project Manager","Security specialist","UI/UX"],e=P({username:"",email:"",password:"",confirmPassword:"",jobTitle:""}),v=T(()=>({username:{required:u,minLength:k(4)},email:{required:u,email:z},password:{required:u,minLength:k(8)},confirmPassword:{required:u,sameAs:D(e.password)},jobTitle:{required:u}})),i=M(v,e),y=$(),{mutateAsync:V,isLoading:_}=J(),x=async r=>{await i.value.$validate()&&V(r,{onSuccess:()=>{C.push("/"),y.addNotification("success","Your accout was successfully signed up")}})};return(r,a)=>{const b=E("router-link");return c(),m(g,null,[o("div",K,[l(b,{to:{name:"home"},class:"flex gap-3 items-center"},{default:f(()=>[O,Q]),_:1})]),o("div",H,[o("form",{onSubmit:a[5]||(a[5]=A(s=>x(e),["prevent"])),class:"flex flex-col gap-5"},[l(p,{type:"text",name:"name",placeholder:r.$t("placeholders.username"),modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=s=>e.username=s),errors:d(i).username.$errors},null,8,["placeholder","modelValue","errors"]),l(p,{type:"email",name:"email",placeholder:r.$t("placeholders.email"),modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=s=>e.email=s),errors:d(i).email.$errors},null,8,["placeholder","modelValue","errors"]),l(p,{type:"password",name:"password",placeholder:r.$t("placeholders.createPassword"),modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=s=>e.password=s),errors:d(i).password.$errors},null,8,["placeholder","modelValue","errors"]),l(p,{type:"password",name:"password",placeholder:r.$t("placeholders.confirmPassword"),modelValue:e.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=s=>e.confirmPassword=s),errors:d(i).confirmPassword.$errors},null,8,["placeholder","modelValue","errors"]),o("label",R,n(r.$t("texts.selectJob")),1),F(o("select",{"onUpdate:modelValue":a[4]||(a[4]=s=>e.jobTitle=s),class:"dark:bg-dark-bg-black"},[o("option",W,n(r.$t("texts.selectJob")),1),(c(),m(g,null,h(t,(s,S)=>o("option",{key:S},n(s),1)),64))],512),[[I,e.jobTitle]]),(c(!0),m(g,null,h(d(i).jobTitle.$errors,s=>(c(),m("span",{key:s.$uid,class:"text-sm text-red-600 -mt-5"},n(s.$message),1))),128)),l(q,{"is-loading":d(_)},{default:f(()=>[o("span",null,n(r.$t("buttons.signUp")),1)]),_:1},8,["is-loading"])],32),o("div",X,[o("span",Y,n(r.$t("texts.textSignUp")),1),l(b,{to:{name:"login"},class:"underline text-lg dark:text-zinc-300"},{default:f(()=>[L(n(r.$t("buttons.logIn")),1)]),_:1})])])],64)}}};export{ee as default};
