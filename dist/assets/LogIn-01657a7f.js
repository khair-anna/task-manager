import{r as h,u as k,a as _,o as w,c as f,b as e,d as c,w as u,e as x,f as p,v as m,t as n,F as v,g as U,_ as y,s as $,h as r,i as I,j as g,k as T,l as D,m as S}from"./index-1b7fe851.js";const V={class:"pl-32 pt-7"},j=e("img",{src:y,alt:"logo"},null,-1),z=e("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),B={class:"flex flex-col items-center justify-center h-screen -mt-7"},C=["placeholder"],E=["placeholder"],F={type:"submit",class:"border-2 rounded-lg mx-auto text-xl bg-main-blue py-1 px-2 text-black dark:text-zinc-200 dark:border-0"},N={class:"mt-10 block text-center"},A={class:"block pb-3 dark:text-zinc-400"},W={__name:"LogIn",setup(L){const o=h({}),d=k(),b=async a=>{const{email:t,password:l}=a;try{await $(r,t,l);const s=I(g,"users",r.currentUser.uid),i=await T(s);d.setUser({uid:r.currentUser.uid,email:r.currentUser.email,username:i.data().username,jobTitle:i.data().jobTitle}),d.userTasksCollection=D(g,`users/${r.currentUser.uid}/tasks`)}catch(s){switch(s.code){case"auth/user-not-found":alert("User not found");break;case"auth/wrong-password":alert("Wrong password");break;case"auth/invalid-login-credentials":alert("Invalid login credentials");break;default:console.log(s.message)}return}S.push("/")};return(a,t)=>{const l=_("router-link");return w(),f(v,null,[e("div",V,[c(l,{to:{name:"home"},class:"flex gap-3 items-center"},{default:u(()=>[j,z]),_:1})]),e("div",B,[e("form",{onSubmit:t[2]||(t[2]=x(s=>b(o.value),["prevent"])),class:"flex flex-col gap-5"},[p(e("input",{name:"email",type:"email",placeholder:a.$t("placeholders.email"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":t[0]||(t[0]=s=>o.value.email=s)},null,8,C),[[m,o.value.email]]),p(e("input",{name:"password",type:"password",placeholder:a.$t("placeholders.password"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":t[1]||(t[1]=s=>o.value.password=s)},null,8,E),[[m,o.value.password]]),e("button",F,n(a.$t("buttons.logIn")),1)],32),e("div",N,[e("span",A,n(a.$t("texts.textLogIn")),1),c(l,{to:{name:"signup"},class:"underline text-lg dark:text-zinc-300"},{default:u(()=>[U(n(a.$t("buttons.signUp")),1)]),_:1})])])],64)}}};export{W as default};
