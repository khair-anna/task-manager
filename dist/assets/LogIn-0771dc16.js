import{u as v,a as g,b as x,l as $,r as y,c as b,d as V,o as N,e as S,f as s,g as r,w as i,h as I,i as d,t as u,F as C,j as E,_ as F,k as L}from"./index-6442168a.js";import{u as U,_ as p,a as q,r as f,e as A}from"./InputUI-d7ec38f8.js";function B(){const c=v(),e=g();return x({mutationFn:a=>$(a),onSuccess:()=>{c.invalidateQueries({queryKey:["user"]})},onError:a=>{switch(a.code){case"auth/user-not-found":e.addNotification("error","User not found!");break;case"auth/wrong-password":e.addNotification("error","Wrong password!");break;case"auth/invalid-login-credentials":e.addNotification("error","Invalid login credentials!");break;default:e.addNotification("error","Error logging in!")}}})}const j={class:"pl-32 pt-7"},z=s("img",{src:F,alt:"logo"},null,-1),K=s("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),M={class:"flex flex-col items-center justify-center h-screen -mt-7"},Q={class:"mt-10 block text-center"},T={class:"block pb-3 dark:text-zinc-400"},Y={__name:"LogIn",setup(c){const e=y({email:"",password:""}),a=b(()=>({email:{required:f,email:A},password:{required:f}})),l=U(a,e),_=g(),{mutateAsync:h,isLoading:w}=B(),k=async o=>{await l.value.$validate()&&h(o,{onSuccess:()=>{L.push("/"),_.addNotification("success","You are successfully logged in")}})};return(o,t)=>{const m=V("router-link");return N(),S(C,null,[s("div",j,[r(m,{to:{name:"home"},class:"flex gap-3 items-center"},{default:i(()=>[z,K]),_:1})]),s("div",M,[s("form",{onSubmit:t[2]||(t[2]=I(n=>k(e),["prevent"])),class:"flex flex-col gap-5"},[r(p,{type:"email",name:"email",placeholder:o.$t("placeholders.email"),modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=n=>e.email=n),errors:d(l).email.$errors},null,8,["placeholder","modelValue","errors"]),r(p,{type:"password",name:"password",placeholder:o.$t("placeholders.password"),modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=n=>e.password=n),errors:d(l).password.$errors},null,8,["placeholder","modelValue","errors"]),r(q,{"is-loading":d(w)},{default:i(()=>[s("span",null,u(o.$t("buttons.logIn")),1)]),_:1},8,["is-loading"])],32),s("div",Q,[s("span",T,u(o.$t("texts.textLogIn")),1),r(m,{to:{name:"signup"},class:"underline text-lg dark:text-zinc-300"},{default:i(()=>[E(u(o.$t("buttons.signUp")),1)]),_:1})])])],64)}}};export{Y as default};
