import{u as j,a as v,b as N,s as P,r as T,c as E,d as A,o as m,e as c,f as r,g as l,w as f,h as F,i as d,t as n,m as I,v as L,F as g,n as h,j as k,_ as B,k as C}from"./index-1092b788.js";import{u as M,_ as p,r as u,m as $,e as q,s as z}from"./InputUI-bd212db8.js";import{_ as D}from"./ButtonUI-362414bf.js";function J(){const w=j(),t=v();return N({mutationFn:e=>P(e),onSuccess:()=>{w.invalidateQueries({queryKey:["user"]})},onError:e=>{switch(e.code){case"auth/email-already-in-use":t.addNotification("error","Email already in use!");break;case"auth/invalid-email":alert("Invalid email"),t.addNotification("error","Invalid email!");break;case"auth/operation-not-allowed":t.addNotification("error","Operation not allowed!");break;case"auth/weak-password":t.addNotification("error","Weak password!");break;default:t.addNotification("error","Error signing up!")}}})}const K={class:"pl-32 pt-7"},O=r("img",{src:B,alt:"logo"},null,-1),Q=r("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),H={class:"flex flex-col items-center justify-center h-screen -mt-7"},R={class:"dark:text-zinc-400"},W={disabled:""},X={class:"mt-10 block text-center"},Y={class:"block pb-3 dark:text-zinc-400"},se={__name:"SignUp",setup(w){const t=["BackEnd developer","FrontEnd developer","HR manager","Office manager","Project Manager","Security specialist","UI/UX"],e=T({username:"",email:"",password:"",confirmPassword:"",jobTitle:""}),y=E(()=>({username:{required:u,minLength:$(4)},email:{required:u,email:q},password:{required:u,minLength:$(8)},confirmPassword:{required:u,sameAs:z(e.password)},jobTitle:{required:u}})),i=M(y,e),_=v(),{mutateAsync:V,isLoading:x}=J(),S=async o=>{await i.value.$validate()&&V(o,{onSuccess:()=>{C.push("/"),_.addNotification("success","Your accout was successfully signed up")}})};return(o,a)=>{const b=A("router-link");return m(),c(g,null,[r("div",K,[l(b,{to:{name:"home"},class:"flex gap-3 items-center"},{default:f(()=>[O,Q]),_:1})]),r("div",H,[r("form",{onSubmit:a[5]||(a[5]=F(s=>S(e),["prevent"])),class:"flex flex-col gap-5"},[l(p,{type:"text",name:"name",placeholder:o.$t("placeholders.username"),modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=s=>e.username=s),errors:d(i).username.$errors},null,8,["placeholder","modelValue","errors"]),l(p,{type:"email",name:"email",placeholder:o.$t("placeholders.email"),modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=s=>e.email=s),errors:d(i).email.$errors},null,8,["placeholder","modelValue","errors"]),l(p,{type:"password",name:"password",placeholder:o.$t("placeholders.createPassword"),modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=s=>e.password=s),errors:d(i).password.$errors},null,8,["placeholder","modelValue","errors"]),l(p,{type:"password",name:"password",placeholder:o.$t("placeholders.confirmPassword"),modelValue:e.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=s=>e.confirmPassword=s),errors:d(i).confirmPassword.$errors},null,8,["placeholder","modelValue","errors"]),r("label",R,n(o.$t("texts.selectJob")),1),I(r("select",{"onUpdate:modelValue":a[4]||(a[4]=s=>e.jobTitle=s),class:"dark:bg-dark-bg-black"},[r("option",W,n(o.$t("texts.selectJob")),1),(m(),c(g,null,h(t,(s,U)=>r("option",{key:U},n(s),1)),64))],512),[[L,e.jobTitle]]),(m(!0),c(g,null,h(d(i).jobTitle.$errors,s=>(m(),c("span",{key:s.$uid,class:"text-sm text-red-600 -mt-5"},n(s.$message),1))),128)),l(D,{"is-loading":d(x)},{default:f(()=>[k(n(o.$t("buttons.signUp")),1)]),_:1},8,["is-loading"])],32),r("div",X,[r("span",Y,n(o.$t("texts.textSignUp")),1),l(b,{to:{name:"login"},class:"underline text-lg dark:text-zinc-300"},{default:f(()=>[k(n(o.$t("buttons.logIn")),1)]),_:1})])])],64)}}};export{se as default};
