(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Oh(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const qe={},Ds=[],dn=()=>{},GI=()=>!1,zI=/^on[^a-z]/,Dc=t=>zI.test(t),Nh=t=>t.startsWith("onUpdate:"),at=Object.assign,Dh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},YI=Object.prototype.hasOwnProperty,Se=(t,e)=>YI.call(t,e),ie=Array.isArray,Ls=t=>Mo(t)==="[object Map]",Lc=t=>Mo(t)==="[object Set]",Bd=t=>Mo(t)==="[object Date]",_e=t=>typeof t=="function",ze=t=>typeof t=="string",js=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",a_=t=>(Ue(t)||_e(t))&&_e(t.then)&&_e(t.catch),c_=Object.prototype.toString,Mo=t=>c_.call(t),XI=t=>Mo(t).slice(8,-1),l_=t=>Mo(t)==="[object Object]",Lh=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,La=Oh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},JI=/-(\w)/g,Ln=Mc(t=>t.replace(JI,(e,n)=>n?n.toUpperCase():"")),ZI=/\B([A-Z])/g,ps=Mc(t=>t.replace(ZI,"-$1").toLowerCase()),xc=Mc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Vl=Mc(t=>t?`on${xc(t)}`:""),is=(t,e)=>!Object.is(t,e),Ma=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ga=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},za=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ew=t=>{const e=ze(t)?Number(t):NaN;return isNaN(e)?t:e};let jd;const _u=()=>jd||(jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fc(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ze(r)?sw(r):Fc(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ze(t)||Ue(t))return t}const tw=/;(?![^(]*\))/g,nw=/:([^]+)/,rw=/\/\*[^]*?\*\//g;function sw(t){const e={};return t.replace(rw,"").split(tw).forEach(n=>{if(n){const r=n.split(nw);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function vr(t){let e="";if(ze(t))e=t;else if(ie(t))for(let n=0;n<t.length;n++){const r=vr(t[n]);r&&(e+=r+" ")}else if(Ue(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function HF(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ze(e)&&(t.class=vr(e)),n&&(t.style=Fc(n)),t}const iw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ow=Oh(iw);function u_(t){return!!t||t===""}function aw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Vc(t[r],e[r]);return n}function Vc(t,e){if(t===e)return!0;let n=Bd(t),r=Bd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=js(t),r=js(e),n||r)return t===e;if(n=ie(t),r=ie(e),n||r)return n&&r?aw(t,e):!1;if(n=Ue(t),r=Ue(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Vc(t[o],e[o]))return!1}}return String(t)===String(e)}function cw(t,e){return t.findIndex(n=>Vc(n,e))}const Ve=t=>ze(t)?t:t==null?"":ie(t)||Ue(t)&&(t.toString===c_||!_e(t.toString))?JSON.stringify(t,h_,2):String(t),h_=(t,e)=>e&&e.__v_isRef?h_(t,e.value):Ls(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Lc(e)?{[`Set(${e.size})`]:[...e.values()]}:Ue(e)&&!ie(e)&&!l_(e)?String(e):e;let Xt;class f_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xt,!e&&Xt&&(this.index=(Xt.scopes||(Xt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Xt;try{return Xt=this,e()}finally{Xt=n}}}on(){Xt=this}off(){Xt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Mh(t){return new f_(t)}function lw(t,e=Xt){e&&e.active&&e.effects.push(t)}function xh(){return Xt}function Uc(t){Xt&&Xt.cleanups.push(t)}const Fh=t=>{const e=new Set(t);return e.w=0,e.n=0,e},d_=t=>(t.w&Cr)>0,p_=t=>(t.n&Cr)>0,uw=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Cr},hw=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];d_(s)&&!p_(s)?s.delete(t):e[n++]=s,s.w&=~Cr,s.n&=~Cr}e.length=n}},Ya=new WeakMap;let Di=0,Cr=1;const yu=30;let un;const ts=Symbol(""),vu=Symbol("");class Vh{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,lw(this,r)}run(){if(!this.active)return this.fn();let e=un,n=Er;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=un,un=this,Er=!0,Cr=1<<++Di,Di<=yu?uw(this):qd(this),this.fn()}finally{Di<=yu&&hw(this),Cr=1<<--Di,un=this.parent,Er=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){un===this?this.deferStop=!0:this.active&&(qd(this),this.onStop&&this.onStop(),this.active=!1)}}function qd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Er=!0;const m_=[];function li(){m_.push(Er),Er=!1}function ui(){const t=m_.pop();Er=t===void 0?!0:t}function Qt(t,e,n){if(Er&&un){let r=Ya.get(t);r||Ya.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Fh()),g_(s)}}function g_(t,e){let n=!1;Di<=yu?p_(t)||(t.n|=Cr,n=!d_(t)):n=!t.has(un),n&&(t.add(un),un.deps.push(t))}function Kn(t,e,n,r,s,i){const o=Ya.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ie(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!js(u)&&u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ie(t)?Lh(n)&&a.push(o.get("length")):(a.push(o.get(ts)),Ls(t)&&a.push(o.get(vu)));break;case"delete":ie(t)||(a.push(o.get(ts)),Ls(t)&&a.push(o.get(vu)));break;case"set":Ls(t)&&a.push(o.get(ts));break}if(a.length===1)a[0]&&Eu(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Eu(Fh(c))}}function Eu(t,e){const n=ie(t)?t:[...t];for(const r of n)r.computed&&Hd(r);for(const r of n)r.computed||Hd(r)}function Hd(t,e){(t!==un||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function fw(t,e){var n;return(n=Ya.get(t))==null?void 0:n.get(e)}const dw=Oh("__proto__,__v_isRef,__isVue"),__=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(js)),Wd=pw();function pw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Re(this);for(let i=0,o=this.length;i<o;i++)Qt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(Re)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){li();const r=Re(this)[e].apply(this,n);return ui(),r}}),t}function mw(t){const e=Re(this);return Qt(e,"has",t),e.hasOwnProperty(t)}class y_{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?Pw:I_:i?T_:E_).get(e))return e;const o=ie(e);if(!s){if(o&&Se(Wd,n))return Reflect.get(Wd,n,r);if(n==="hasOwnProperty")return mw}const a=Reflect.get(e,n,r);return(js(n)?__.has(n):dw(n))||(s||Qt(e,"get",n),i)?a:Be(a)?o&&Lh(n)?a:a.value:Ue(a)?s?hi(a):Gn(a):a}}class v_ extends y_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(qs(i)&&Be(i)&&!Be(r))return!1;if(!this._shallow&&(!Xa(r)&&!qs(r)&&(i=Re(i),r=Re(r)),!ie(e)&&Be(i)&&!Be(r)))return i.value=r,!0;const o=ie(e)&&Lh(n)?Number(n)<e.length:Se(e,n),a=Reflect.set(e,n,r,s);return e===Re(s)&&(o?is(r,i)&&Kn(e,"set",n,r):Kn(e,"add",n,r)),a}deleteProperty(e,n){const r=Se(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Kn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!js(n)||!__.has(n))&&Qt(e,"has",n),r}ownKeys(e){return Qt(e,"iterate",ie(e)?"length":ts),Reflect.ownKeys(e)}}class gw extends y_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const _w=new v_,yw=new gw,vw=new v_(!0),Uh=t=>t,$c=t=>Reflect.getPrototypeOf(t);function ha(t,e,n=!1,r=!1){t=t.__v_raw;const s=Re(t),i=Re(e);n||(is(e,i)&&Qt(s,"get",e),Qt(s,"get",i));const{has:o}=$c(s),a=r?Uh:n?jh:ro;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function fa(t,e=!1){const n=this.__v_raw,r=Re(n),s=Re(t);return e||(is(t,s)&&Qt(r,"has",t),Qt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function da(t,e=!1){return t=t.__v_raw,!e&&Qt(Re(t),"iterate",ts),Reflect.get(t,"size",t)}function Kd(t){t=Re(t);const e=Re(this);return $c(e).has.call(e,t)||(e.add(t),Kn(e,"add",t,t)),this}function Qd(t,e){e=Re(e);const n=Re(this),{has:r,get:s}=$c(n);let i=r.call(n,t);i||(t=Re(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?is(e,o)&&Kn(n,"set",t,e):Kn(n,"add",t,e),this}function Gd(t){const e=Re(this),{has:n,get:r}=$c(e);let s=n.call(e,t);s||(t=Re(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Kn(e,"delete",t,void 0),i}function zd(){const t=Re(this),e=t.size!==0,n=t.clear();return e&&Kn(t,"clear",void 0,void 0),n}function pa(t,e){return function(r,s){const i=this,o=i.__v_raw,a=Re(o),c=e?Uh:t?jh:ro;return!t&&Qt(a,"iterate",ts),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function ma(t,e,n){return function(...r){const s=this.__v_raw,i=Re(s),o=Ls(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?Uh:e?jh:ro;return!e&&Qt(i,"iterate",c?vu:ts),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function nr(t){return function(...e){return t==="delete"?!1:this}}function Ew(){const t={get(i){return ha(this,i)},get size(){return da(this)},has:fa,add:Kd,set:Qd,delete:Gd,clear:zd,forEach:pa(!1,!1)},e={get(i){return ha(this,i,!1,!0)},get size(){return da(this)},has:fa,add:Kd,set:Qd,delete:Gd,clear:zd,forEach:pa(!1,!0)},n={get(i){return ha(this,i,!0)},get size(){return da(this,!0)},has(i){return fa.call(this,i,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:pa(!0,!1)},r={get(i){return ha(this,i,!0,!0)},get size(){return da(this,!0)},has(i){return fa.call(this,i,!0)},add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear"),forEach:pa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ma(i,!1,!1),n[i]=ma(i,!0,!1),e[i]=ma(i,!1,!0),r[i]=ma(i,!0,!0)}),[t,n,e,r]}const[Tw,Iw,ww,bw]=Ew();function $h(t,e){const n=e?t?bw:ww:t?Iw:Tw;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Se(n,s)&&s in r?n:r,s,i)}const Aw={get:$h(!1,!1)},Rw={get:$h(!1,!0)},Cw={get:$h(!0,!1)},E_=new WeakMap,T_=new WeakMap,I_=new WeakMap,Pw=new WeakMap;function Sw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kw(t){return t.__v_skip||!Object.isExtensible(t)?0:Sw(XI(t))}function Gn(t){return qs(t)?t:Bh(t,!1,_w,Aw,E_)}function w_(t){return Bh(t,!1,vw,Rw,T_)}function hi(t){return Bh(t,!0,yw,Cw,I_)}function Bh(t,e,n,r,s){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=kw(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Tr(t){return qs(t)?Tr(t.__v_raw):!!(t&&t.__v_isReactive)}function qs(t){return!!(t&&t.__v_isReadonly)}function Xa(t){return!!(t&&t.__v_isShallow)}function b_(t){return Tr(t)||qs(t)}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function Bc(t){return Ga(t,"__v_skip",!0),t}const ro=t=>Ue(t)?Gn(t):t,jh=t=>Ue(t)?hi(t):t;function qh(t){Er&&un&&(t=Re(t),g_(t.dep||(t.dep=Fh())))}function Hh(t,e){t=Re(t);const n=t.dep;n&&Eu(n)}function Be(t){return!!(t&&t.__v_isRef===!0)}function Ze(t){return A_(t,!1)}function Wh(t){return A_(t,!0)}function A_(t,e){return Be(t)?t:new Ow(t,e)}class Ow{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Re(e),this._value=n?e:ro(e)}get value(){return qh(this),this._value}set value(e){const n=this.__v_isShallow||Xa(e)||qs(e);e=n?e:Re(e),is(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ro(e),Hh(this))}}function Ee(t){return Be(t)?t.value:t}const Nw={get:(t,e,n)=>Ee(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Be(s)&&!Be(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function R_(t){return Tr(t)?t:new Proxy(t,Nw)}class Dw{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>qh(this),()=>Hh(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Lw(t){return new Dw(t)}function Kh(t){const e=ie(t)?new Array(t.length):{};for(const n in t)e[n]=C_(t,n);return e}class Mw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return fw(Re(this._object),this._key)}}class xw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Fw(t,e,n){return Be(t)?t:_e(t)?new xw(t):Ue(t)&&arguments.length>1?C_(t,e,n):Ze(t)}function C_(t,e,n){const r=t[e];return Be(r)?r:new Mw(t,e,n)}class Vw{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Vh(e,()=>{this._dirty||(this._dirty=!0,Hh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=Re(this);return qh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Uw(t,e,n=!1){let r,s;const i=_e(t);return i?(r=t,s=dn):(r=t.get,s=t.set),new Vw(r,s,i||!s,n)}function Ir(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){jc(i,e,n)}return s}function sn(t,e,n,r){if(_e(t)){const i=Ir(t,e,n,r);return i&&a_(i)&&i.catch(o=>{jc(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(sn(t[i],e,n,r));return s}function jc(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Ir(c,null,10,[t,o,a]);return}}$w(t,n,s,r)}function $w(t,e,n,r=!0){console.error(t)}let so=!1,Tu=!1;const Dt=[];let An=0;const Ms=[];let $n=null,Kr=0;const P_=Promise.resolve();let Qh=null;function xo(t){const e=Qh||P_;return t?e.then(this?t.bind(this):t):e}function Bw(t){let e=An+1,n=Dt.length;for(;e<n;){const r=e+n>>>1,s=Dt[r],i=io(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Gh(t){(!Dt.length||!Dt.includes(t,so&&t.allowRecurse?An+1:An))&&(t.id==null?Dt.push(t):Dt.splice(Bw(t.id),0,t),S_())}function S_(){!so&&!Tu&&(Tu=!0,Qh=P_.then(O_))}function jw(t){const e=Dt.indexOf(t);e>An&&Dt.splice(e,1)}function qw(t){ie(t)?Ms.push(...t):(!$n||!$n.includes(t,t.allowRecurse?Kr+1:Kr))&&Ms.push(t),S_()}function Yd(t,e=so?An+1:0){for(;e<Dt.length;e++){const n=Dt[e];n&&n.pre&&(Dt.splice(e,1),e--,n())}}function k_(t){if(Ms.length){const e=[...new Set(Ms)];if(Ms.length=0,$n){$n.push(...e);return}for($n=e,$n.sort((n,r)=>io(n)-io(r)),Kr=0;Kr<$n.length;Kr++)$n[Kr]();$n=null,Kr=0}}const io=t=>t.id==null?1/0:t.id,Hw=(t,e)=>{const n=io(t)-io(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function O_(t){Tu=!1,so=!0,Dt.sort(Hw);const e=dn;try{for(An=0;An<Dt.length;An++){const n=Dt[An];n&&n.active!==!1&&Ir(n,null,14)}}finally{An=0,Dt.length=0,k_(),so=!1,Qh=null,(Dt.length||Ms.length)&&O_()}}function Ww(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||qe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||qe;f&&(s=n.map(m=>ze(m)?m.trim():m)),h&&(s=n.map(za))}let a,c=r[a=Vl(e)]||r[a=Vl(Ln(e))];!c&&i&&(c=r[a=Vl(ps(e))]),c&&sn(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,sn(l,t,6,s)}}function N_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!_e(t)){const c=l=>{const u=N_(l,e,!0);u&&(a=!0,at(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ue(t)&&r.set(t,null),null):(ie(i)?i.forEach(c=>o[c]=null):at(o,i),Ue(t)&&r.set(t,o),o)}function qc(t,e){return!t||!Dc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,ps(e))||Se(t,e))}let gt=null,D_=null;function Ja(t){const e=gt;return gt=t,D_=t&&t.type.__scopeId||null,e}function Ge(t,e=gt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&lp(-1);const i=Ja(e);let o;try{o=t(...s)}finally{Ja(i),r._d&&lp(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ul(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:m,ctx:v,inheritAttrs:E}=t;let w,g;const I=Ja(t);try{if(n.shapeFlag&4){const T=s||r;w=wn(u.call(T,T,h,i,m,f,v)),g=c}else{const T=e;w=wn(T.length>1?T(i,{attrs:c,slots:a,emit:l}):T(i,null)),g=e.props?c:Kw(c)}}catch(T){Wi.length=0,jc(T,t,1),w=ne(cn)}let A=w;if(g&&E!==!1){const T=Object.keys(g),{shapeFlag:P}=A;T.length&&P&7&&(o&&T.some(Nh)&&(g=Qw(g,o)),A=Pr(A,g))}return n.dirs&&(A=Pr(A),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),w=A,Ja(I),w}const Kw=t=>{let e;for(const n in t)(n==="class"||n==="style"||Dc(n))&&((e||(e={}))[n]=t[n]);return e},Qw=(t,e)=>{const n={};for(const r in t)(!Nh(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Gw(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Xd(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!qc(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Xd(r,o,l):!0:!!o;return!1}function Xd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!qc(n,i))return!0}return!1}function zw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const zh="components";function ms(t,e){return M_(zh,t,!0,e)||t}const L_=Symbol.for("v-ndc");function WF(t){return ze(t)?M_(zh,t,!1)||t:t||L_}function M_(t,e,n=!0,r=!1){const s=gt||ct;if(s){const i=s.type;if(t===zh){const a=H0(i,!1);if(a&&(a===e||a===Ln(e)||a===xc(Ln(e))))return i}const o=Jd(s[t]||i[t],e)||Jd(s.appContext[t],e);return!o&&r?i:o}}function Jd(t,e){return t&&(t[e]||t[Ln(e)]||t[xc(Ln(e))])}const Yw=t=>t.__isSuspense;function Xw(t,e){e&&e.pendingBranch?ie(t)?e.effects.push(...t):e.effects.push(t):qw(t)}function x_(t,e){return Yh(t,null,e)}const ga={};function on(t,e,n){return Yh(t,e,n)}function Yh(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=qe){var a;const c=xh()===((a=ct)==null?void 0:a.scope)?ct:null;let l,u=!1,h=!1;if(Be(t)?(l=()=>t.value,u=Xa(t)):Tr(t)?(l=()=>t,r=!0):ie(t)?(h=!0,u=t.some(T=>Tr(T)||Xa(T)),l=()=>t.map(T=>{if(Be(T))return T.value;if(Tr(T))return Yr(T);if(_e(T))return Ir(T,c,2)})):_e(t)?e?l=()=>Ir(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return f&&f(),sn(t,c,3,[m])}:l=dn,e&&r){const T=l;l=()=>Yr(T())}let f,m=T=>{f=I.onStop=()=>{Ir(T,c,4)}},v;if(uo)if(m=dn,e?n&&sn(e,c,3,[l(),h?[]:void 0,m]):l(),s==="sync"){const T=Q0();v=T.__watcherHandles||(T.__watcherHandles=[])}else return dn;let E=h?new Array(t.length).fill(ga):ga;const w=()=>{if(I.active)if(e){const T=I.run();(r||u||(h?T.some((P,k)=>is(P,E[k])):is(T,E)))&&(f&&f(),sn(e,c,3,[T,E===ga?void 0:h&&E[0]===ga?[]:E,m]),E=T)}else I.run()};w.allowRecurse=!!e;let g;s==="sync"?g=w:s==="post"?g=()=>Ht(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),g=()=>Gh(w));const I=new Vh(l,g);e?n?w():E=I.run():s==="post"?Ht(I.run.bind(I),c&&c.suspense):I.run();const A=()=>{I.stop(),c&&c.scope&&Dh(c.scope.effects,I)};return v&&v.push(A),A}function Jw(t,e,n){const r=this.proxy,s=ze(t)?t.includes(".")?F_(r,t):()=>r[t]:t.bind(r,r);let i;_e(e)?i=e:(i=e.handler,n=e);const o=ct;Hs(this);const a=Yh(s,i.bind(r),n);return o?Hs(o):ns(),a}function F_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Yr(t,e){if(!Ue(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Be(t))Yr(t.value,e);else if(ie(t))for(let n=0;n<t.length;n++)Yr(t[n],e);else if(Lc(t)||Ls(t))t.forEach(n=>{Yr(n,e)});else if(l_(t))for(const n in t)Yr(t[n],e);return t}function KF(t,e){const n=gt;if(n===null)return t;const r=Qc(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=qe]=e[i];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&Yr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function Br(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(li(),sn(c,n,8,[t.el,a,t,e]),ui())}}const ur=Symbol("_leaveCb"),_a=Symbol("_enterCb");function V_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vo(()=>{t.isMounted=!0}),H_(()=>{t.isUnmounting=!0}),t}const tn=[Function,Array],U_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tn,onEnter:tn,onAfterEnter:tn,onEnterCancelled:tn,onBeforeLeave:tn,onLeave:tn,onAfterLeave:tn,onLeaveCancelled:tn,onBeforeAppear:tn,onAppear:tn,onAfterAppear:tn,onAppearCancelled:tn},Zw={name:"BaseTransition",props:U_,setup(t,{slots:e}){const n=pn(),r=V_();let s;return()=>{const i=e.default&&Xh(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const E of i)if(E.type!==cn){o=E;break}}const a=Re(t),{mode:c}=a;if(r.isLeaving)return $l(o);const l=Zd(o);if(!l)return $l(o);const u=oo(l,a,r,n);ao(l,u);const h=n.subTree,f=h&&Zd(h);let m=!1;const{getTransitionKey:v}=l.type;if(v){const E=v();s===void 0?s=E:E!==s&&(s=E,m=!0)}if(f&&f.type!==cn&&(!Qr(l,f)||m)){const E=oo(f,a,r,n);if(ao(f,E),c==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},$l(o);c==="in-out"&&l.type!==cn&&(E.delayLeave=(w,g,I)=>{const A=$_(r,f);A[String(f.key)]=f,w[ur]=()=>{g(),w[ur]=void 0,delete u.delayedLeave},u.delayedLeave=I})}return o}}},e0=Zw;function $_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function oo(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:E,onAppear:w,onAfterAppear:g,onAppearCancelled:I}=e,A=String(t.key),T=$_(n,t),P=(D,N)=>{D&&sn(D,r,9,N)},k=(D,N)=>{const V=N[1];P(D,N),ie(D)?D.every(ee=>ee.length<=1)&&V():D.length<=1&&V()},S={mode:i,persisted:o,beforeEnter(D){let N=a;if(!n.isMounted)if(s)N=E||a;else return;D[ur]&&D[ur](!0);const V=T[A];V&&Qr(t,V)&&V.el[ur]&&V.el[ur](),P(N,[D])},enter(D){let N=c,V=l,ee=u;if(!n.isMounted)if(s)N=w||c,V=g||l,ee=I||u;else return;let B=!1;const ae=D[_a]=Pe=>{B||(B=!0,Pe?P(ee,[D]):P(V,[D]),S.delayedLeave&&S.delayedLeave(),D[_a]=void 0)};N?k(N,[D,ae]):ae()},leave(D,N){const V=String(t.key);if(D[_a]&&D[_a](!0),n.isUnmounting)return N();P(h,[D]);let ee=!1;const B=D[ur]=ae=>{ee||(ee=!0,N(),ae?P(v,[D]):P(m,[D]),D[ur]=void 0,T[V]===t&&delete T[V])};T[V]=t,f?k(f,[D,B]):B()},clone(D){return oo(D,e,n,r)}};return S}function $l(t){if(Hc(t))return t=Pr(t),t.children=null,t}function Zd(t){return Hc(t)?t.children?t.children[0]:void 0:t}function ao(t,e){t.shapeFlag&6&&t.component?ao(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Xh(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===it?(o.patchFlag&128&&s++,r=r.concat(Xh(o.children,e,a))):(e||o.type!==cn)&&r.push(a!=null?Pr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Fo(t,e){return _e(t)?(()=>at({name:t.name},e,{setup:t}))():t}const ji=t=>!!t.type.__asyncLoader,Hc=t=>t.type.__isKeepAlive;function t0(t,e){B_(t,"a",e)}function n0(t,e){B_(t,"da",e)}function B_(t,e,n=ct){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Wc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Hc(s.parent.vnode)&&r0(r,e,n,s),s=s.parent}}function r0(t,e,n,r){const s=Wc(e,t,r,!0);Jh(()=>{Dh(r[e],s)},n)}function Wc(t,e,n=ct,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;li(),Hs(n);const a=sn(e,n,t,o);return ns(),ui(),a});return r?s.unshift(i):s.push(i),i}}const Zn=t=>(e,n=ct)=>(!uo||t==="sp")&&Wc(t,(...r)=>e(...r),n),j_=Zn("bm"),Vo=Zn("m"),s0=Zn("bu"),q_=Zn("u"),H_=Zn("bum"),Jh=Zn("um"),i0=Zn("sp"),o0=Zn("rtg"),a0=Zn("rtc");function c0(t,e=ct){Wc("ec",t,e)}function Zh(t,e,n,r){let s;const i=n&&n[r];if(ie(t)||ze(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Ue(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function QF(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ie(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function l0(t,e,n={},r,s){if(gt.isCE||gt.parent&&ji(gt.parent)&&gt.parent.isCE)return e!=="default"&&(n.name=e),ne("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),Z();const o=i&&W_(i(n)),a=$t(it,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function W_(t){return t.some(e=>ec(e)?!(e.type===cn||e.type===it&&!W_(e.children)):!0)?t:null}const Iu=t=>t?ny(t)?Qc(t)||t.proxy:Iu(t.parent):null,qi=at(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Iu(t.parent),$root:t=>Iu(t.root),$emit:t=>t.emit,$options:t=>ef(t),$forceUpdate:t=>t.f||(t.f=()=>Gh(t.update)),$nextTick:t=>t.n||(t.n=xo.bind(t.proxy)),$watch:t=>Jw.bind(t)}),Bl=(t,e)=>t!==qe&&!t.__isScriptSetup&&Se(t,e),u0={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Bl(r,e))return o[e]=1,r[e];if(s!==qe&&Se(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Se(l,e))return o[e]=3,i[e];if(n!==qe&&Se(n,e))return o[e]=4,n[e];wu&&(o[e]=0)}}const u=qi[e];let h,f;if(u)return e==="$attrs"&&Qt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==qe&&Se(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,Se(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Bl(s,e)?(s[e]=n,!0):r!==qe&&Se(r,e)?(r[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==qe&&Se(t,o)||Bl(e,o)||(a=i[0])&&Se(a,o)||Se(r,o)||Se(qi,o)||Se(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function GF(){return h0().slots}function h0(){const t=pn();return t.setupContext||(t.setupContext=sy(t))}function ep(t){return ie(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let wu=!0;function f0(t){const e=ef(t),n=t.proxy,r=t.ctx;wu=!1,e.beforeCreate&&tp(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:v,activated:E,deactivated:w,beforeDestroy:g,beforeUnmount:I,destroyed:A,unmounted:T,render:P,renderTracked:k,renderTriggered:S,errorCaptured:D,serverPrefetch:N,expose:V,inheritAttrs:ee,components:B,directives:ae,filters:Pe}=e;if(l&&d0(l,r,null),o)for(const ve in o){const de=o[ve];_e(de)&&(r[ve]=de.bind(n))}if(s){const ve=s.call(n,n);Ue(ve)&&(t.data=Gn(ve))}if(wu=!0,i)for(const ve in i){const de=i[ve],De=_e(de)?de.bind(n,n):_e(de.get)?de.get.bind(n,n):dn,tt=!_e(de)&&_e(de.set)?de.set.bind(n):dn,nt=Oe({get:De,set:tt});Object.defineProperty(r,ve,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Xe=>nt.value=Xe})}if(a)for(const ve in a)K_(a[ve],r,n,ve);if(c){const ve=_e(c)?c.call(n):c;Reflect.ownKeys(ve).forEach(de=>{xa(de,ve[de])})}u&&tp(u,t,"c");function te(ve,de){ie(de)?de.forEach(De=>ve(De.bind(n))):de&&ve(de.bind(n))}if(te(j_,h),te(Vo,f),te(s0,m),te(q_,v),te(t0,E),te(n0,w),te(c0,D),te(a0,k),te(o0,S),te(H_,I),te(Jh,T),te(i0,N),ie(V))if(V.length){const ve=t.exposed||(t.exposed={});V.forEach(de=>{Object.defineProperty(ve,de,{get:()=>n[de],set:De=>n[de]=De})})}else t.exposed||(t.exposed={});P&&t.render===dn&&(t.render=P),ee!=null&&(t.inheritAttrs=ee),B&&(t.components=B),ae&&(t.directives=ae)}function d0(t,e,n=dn){ie(t)&&(t=bu(t));for(const r in t){const s=t[r];let i;Ue(s)?"default"in s?i=an(s.from||r,s.default,!0):i=an(s.from||r):i=an(s),Be(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function tp(t,e,n){sn(ie(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function K_(t,e,n,r){const s=r.includes(".")?F_(n,r):()=>n[r];if(ze(t)){const i=e[t];_e(i)&&on(s,i)}else if(_e(t))on(s,t.bind(n));else if(Ue(t))if(ie(t))t.forEach(i=>K_(i,e,n,r));else{const i=_e(t.handler)?t.handler.bind(n):e[t.handler];_e(i)&&on(s,i,t)}}function ef(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>Za(c,l,o,!0)),Za(c,e,o)),Ue(e)&&i.set(e,c),c}function Za(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Za(t,i,n,!0),s&&s.forEach(o=>Za(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=p0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const p0={data:np,props:rp,emits:rp,methods:Li,computed:Li,beforeCreate:Vt,created:Vt,beforeMount:Vt,mounted:Vt,beforeUpdate:Vt,updated:Vt,beforeDestroy:Vt,beforeUnmount:Vt,destroyed:Vt,unmounted:Vt,activated:Vt,deactivated:Vt,errorCaptured:Vt,serverPrefetch:Vt,components:Li,directives:Li,watch:g0,provide:np,inject:m0};function np(t,e){return e?t?function(){return at(_e(t)?t.call(this,this):t,_e(e)?e.call(this,this):e)}:e:t}function m0(t,e){return Li(bu(t),bu(e))}function bu(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vt(t,e){return t?[...new Set([].concat(t,e))]:e}function Li(t,e){return t?at(Object.create(null),t,e):e}function rp(t,e){return t?ie(t)&&ie(e)?[...new Set([...t,...e])]:at(Object.create(null),ep(t),ep(e??{})):e}function g0(t,e){if(!t)return e;if(!e)return t;const n=at(Object.create(null),t);for(const r in e)n[r]=Vt(t[r],e[r]);return n}function Q_(){return{app:null,config:{isNativeTag:GI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _0=0;function y0(t,e){return function(r,s=null){_e(r)||(r=at({},r)),s!=null&&!Ue(s)&&(s=null);const i=Q_(),o=new WeakSet;let a=!1;const c=i.app={_uid:_0++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:G0,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&_e(l.install)?(o.add(l),l.install(c,...u)):_e(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=ne(r,s);return f.appContext=i,u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,Qc(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){co=c;try{return l()}finally{co=null}}};return c}}let co=null;function xa(t,e){if(ct){let n=ct.provides;const r=ct.parent&&ct.parent.provides;r===n&&(n=ct.provides=Object.create(r)),n[t]=e}}function an(t,e,n=!1){const r=ct||gt;if(r||co){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:co._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&_e(e)?e.call(r&&r.proxy):e}}function v0(){return!!(ct||gt||co)}function E0(t,e,n,r=!1){const s={},i={};Ga(i,Kc,1),t.propsDefaults=Object.create(null),G_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:w_(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function T0(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Re(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(qc(t.emitsOptions,f))continue;const m=e[f];if(c)if(Se(i,f))m!==i[f]&&(i[f]=m,l=!0);else{const v=Ln(f);s[v]=Au(c,a,v,m,t,!1)}else m!==i[f]&&(i[f]=m,l=!0)}}}else{G_(t,e,s,i)&&(l=!0);let u;for(const h in a)(!e||!Se(e,h)&&((u=ps(h))===h||!Se(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Au(c,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!Se(e,h))&&(delete i[h],l=!0)}l&&Kn(t,"set","$attrs")}function G_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(La(c))continue;const l=e[c];let u;s&&Se(s,u=Ln(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:qc(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=Re(n),l=a||qe;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Au(s,c,h,l[h],t,!Se(l,h))}}return o}function Au(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Se(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&_e(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(Hs(s),r=l[n]=c.call(null,e),ns())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ps(n))&&(r=!0))}return r}function z_(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!_e(t)){const u=h=>{c=!0;const[f,m]=z_(h,e,!0);at(o,f),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ue(t)&&r.set(t,Ds),Ds;if(ie(i))for(let u=0;u<i.length;u++){const h=Ln(i[u]);sp(h)&&(o[h]=qe)}else if(i)for(const u in i){const h=Ln(u);if(sp(h)){const f=i[u],m=o[h]=ie(f)||_e(f)?{type:f}:at({},f);if(m){const v=ap(Boolean,m.type),E=ap(String,m.type);m[0]=v>-1,m[1]=E<0||v<E,(v>-1||Se(m,"default"))&&a.push(h)}}}const l=[o,a];return Ue(t)&&r.set(t,l),l}function sp(t){return t[0]!=="$"}function ip(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function op(t,e){return ip(t)===ip(e)}function ap(t,e){return ie(e)?e.findIndex(n=>op(n,t)):_e(e)&&op(e,t)?0:-1}const Y_=t=>t[0]==="_"||t==="$stable",tf=t=>ie(t)?t.map(wn):[wn(t)],I0=(t,e,n)=>{if(e._n)return e;const r=Ge((...s)=>tf(e(...s)),n);return r._c=!1,r},X_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Y_(s))continue;const i=t[s];if(_e(i))e[s]=I0(s,i,r);else if(i!=null){const o=tf(i);e[s]=()=>o}}},J_=(t,e)=>{const n=tf(e);t.slots.default=()=>n},w0=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Re(e),Ga(e,"_",n)):X_(e,t.slots={})}else t.slots={},e&&J_(t,e);Ga(t.slots,Kc,1)},b0=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=qe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(at(s,e),!n&&a===1&&delete s._):(i=!e.$stable,X_(e,s)),o=e}else e&&(J_(t,e),o={default:1});if(i)for(const a in s)!Y_(a)&&o[a]==null&&delete s[a]};function Ru(t,e,n,r,s=!1){if(ie(t)){t.forEach((f,m)=>Ru(f,e&&(ie(e)?e[m]:e),n,r,s));return}if(ji(r)&&!s)return;const i=r.shapeFlag&4?Qc(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===qe?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(ze(l)?(u[l]=null,Se(h,l)&&(h[l]=null)):Be(l)&&(l.value=null)),_e(c))Ir(c,a,12,[o,u]);else{const f=ze(c),m=Be(c);if(f||m){const v=()=>{if(t.f){const E=f?Se(h,c)?h[c]:u[c]:c.value;s?ie(E)&&Dh(E,i):ie(E)?E.includes(i)||E.push(i):f?(u[c]=[i],Se(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,Se(h,c)&&(h[c]=o)):m&&(c.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,Ht(v,n)):v()}}}const Ht=Xw;function A0(t){return R0(t)}function R0(t,e){const n=_u();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=dn,insertStaticContent:v}=t,E=(y,d,p,_=null,b=null,C=null,x=!1,$=null,j=!!d.dynamicChildren)=>{if(y===d)return;y&&!Qr(y,d)&&(_=L(y),Xe(y,b,C,!0),y=null),d.patchFlag===-2&&(j=!1,d.dynamicChildren=null);const{type:U,ref:re,shapeFlag:H}=d;switch(U){case Uo:w(y,d,p,_);break;case cn:g(y,d,p,_);break;case jl:y==null&&I(d,p,_,x);break;case it:B(y,d,p,_,b,C,x,$,j);break;default:H&1?P(y,d,p,_,b,C,x,$,j):H&6?ae(y,d,p,_,b,C,x,$,j):(H&64||H&128)&&U.process(y,d,p,_,b,C,x,$,j,q)}re!=null&&b&&Ru(re,y&&y.ref,C,d||y,!d)},w=(y,d,p,_)=>{if(y==null)r(d.el=a(d.children),p,_);else{const b=d.el=y.el;d.children!==y.children&&l(b,d.children)}},g=(y,d,p,_)=>{y==null?r(d.el=c(d.children||""),p,_):d.el=y.el},I=(y,d,p,_)=>{[y.el,y.anchor]=v(y.children,d,p,_,y.el,y.anchor)},A=({el:y,anchor:d},p,_)=>{let b;for(;y&&y!==d;)b=f(y),r(y,p,_),y=b;r(d,p,_)},T=({el:y,anchor:d})=>{let p;for(;y&&y!==d;)p=f(y),s(y),y=p;s(d)},P=(y,d,p,_,b,C,x,$,j)=>{x=x||d.type==="svg",y==null?k(d,p,_,b,C,x,$,j):N(y,d,b,C,x,$,j)},k=(y,d,p,_,b,C,x,$)=>{let j,U;const{type:re,props:H,shapeFlag:R,transition:O,dirs:X}=y;if(j=y.el=o(y.type,C,H&&H.is,H),R&8?u(j,y.children):R&16&&D(y.children,j,null,_,b,C&&re!=="foreignObject",x,$),X&&Br(y,null,_,"created"),S(j,y,y.scopeId,x,_),H){for(const we in H)we!=="value"&&!La(we)&&i(j,we,null,H[we],C,y.children,_,b,Je);"value"in H&&i(j,"value",null,H.value),(U=H.onVnodeBeforeMount)&&Tn(U,_,y)}X&&Br(y,null,_,"beforeMount");const le=C0(b,O);le&&O.beforeEnter(j),r(j,d,p),((U=H&&H.onVnodeMounted)||le||X)&&Ht(()=>{U&&Tn(U,_,y),le&&O.enter(j),X&&Br(y,null,_,"mounted")},b)},S=(y,d,p,_,b)=>{if(p&&m(y,p),_)for(let C=0;C<_.length;C++)m(y,_[C]);if(b){let C=b.subTree;if(d===C){const x=b.vnode;S(y,x,x.scopeId,x.slotScopeIds,b.parent)}}},D=(y,d,p,_,b,C,x,$,j=0)=>{for(let U=j;U<y.length;U++){const re=y[U]=$?hr(y[U]):wn(y[U]);E(null,re,d,p,_,b,C,x,$)}},N=(y,d,p,_,b,C,x)=>{const $=d.el=y.el;let{patchFlag:j,dynamicChildren:U,dirs:re}=d;j|=y.patchFlag&16;const H=y.props||qe,R=d.props||qe;let O;p&&jr(p,!1),(O=R.onVnodeBeforeUpdate)&&Tn(O,p,d,y),re&&Br(d,y,p,"beforeUpdate"),p&&jr(p,!0);const X=b&&d.type!=="foreignObject";if(U?V(y.dynamicChildren,U,$,p,_,X,C):x||de(y,d,$,null,p,_,X,C,!1),j>0){if(j&16)ee($,d,H,R,p,_,b);else if(j&2&&H.class!==R.class&&i($,"class",null,R.class,b),j&4&&i($,"style",H.style,R.style,b),j&8){const le=d.dynamicProps;for(let we=0;we<le.length;we++){const je=le[we],dt=H[je],tr=R[je];(tr!==dt||je==="value")&&i($,je,dt,tr,b,y.children,p,_,Je)}}j&1&&y.children!==d.children&&u($,d.children)}else!x&&U==null&&ee($,d,H,R,p,_,b);((O=R.onVnodeUpdated)||re)&&Ht(()=>{O&&Tn(O,p,d,y),re&&Br(d,y,p,"updated")},_)},V=(y,d,p,_,b,C,x)=>{for(let $=0;$<d.length;$++){const j=y[$],U=d[$],re=j.el&&(j.type===it||!Qr(j,U)||j.shapeFlag&70)?h(j.el):p;E(j,U,re,null,_,b,C,x,!0)}},ee=(y,d,p,_,b,C,x)=>{if(p!==_){if(p!==qe)for(const $ in p)!La($)&&!($ in _)&&i(y,$,p[$],null,x,d.children,b,C,Je);for(const $ in _){if(La($))continue;const j=_[$],U=p[$];j!==U&&$!=="value"&&i(y,$,U,j,x,d.children,b,C,Je)}"value"in _&&i(y,"value",p.value,_.value)}},B=(y,d,p,_,b,C,x,$,j)=>{const U=d.el=y?y.el:a(""),re=d.anchor=y?y.anchor:a("");let{patchFlag:H,dynamicChildren:R,slotScopeIds:O}=d;O&&($=$?$.concat(O):O),y==null?(r(U,p,_),r(re,p,_),D(d.children,p,re,b,C,x,$,j)):H>0&&H&64&&R&&y.dynamicChildren?(V(y.dynamicChildren,R,p,b,C,x,$),(d.key!=null||b&&d===b.subTree)&&nf(y,d,!0)):de(y,d,p,re,b,C,x,$,j)},ae=(y,d,p,_,b,C,x,$,j)=>{d.slotScopeIds=$,y==null?d.shapeFlag&512?b.ctx.activate(d,p,_,x,j):Pe(d,p,_,b,C,x,j):Fe(y,d,j)},Pe=(y,d,p,_,b,C,x)=>{const $=y.component=$0(y,_,b);if(Hc(y)&&($.ctx.renderer=q),B0($),$.asyncDep){if(b&&b.registerDep($,te),!y.el){const j=$.subTree=ne(cn);g(null,j,d,p)}return}te($,y,d,p,b,C,x)},Fe=(y,d,p)=>{const _=d.component=y.component;if(Gw(y,d,p))if(_.asyncDep&&!_.asyncResolved){ve(_,d,p);return}else _.next=d,jw(_.update),_.update();else d.el=y.el,_.vnode=d},te=(y,d,p,_,b,C,x)=>{const $=()=>{if(y.isMounted){let{next:re,bu:H,u:R,parent:O,vnode:X}=y,le=re,we;jr(y,!1),re?(re.el=X.el,ve(y,re,x)):re=X,H&&Ma(H),(we=re.props&&re.props.onVnodeBeforeUpdate)&&Tn(we,O,re,X),jr(y,!0);const je=Ul(y),dt=y.subTree;y.subTree=je,E(dt,je,h(dt.el),L(dt),y,b,C),re.el=je.el,le===null&&zw(y,je.el),R&&Ht(R,b),(we=re.props&&re.props.onVnodeUpdated)&&Ht(()=>Tn(we,O,re,X),b)}else{let re;const{el:H,props:R}=d,{bm:O,m:X,parent:le}=y,we=ji(d);if(jr(y,!1),O&&Ma(O),!we&&(re=R&&R.onVnodeBeforeMount)&&Tn(re,le,d),jr(y,!0),H&&Te){const je=()=>{y.subTree=Ul(y),Te(H,y.subTree,y,b,null)};we?d.type.__asyncLoader().then(()=>!y.isUnmounted&&je()):je()}else{const je=y.subTree=Ul(y);E(null,je,p,_,y,b,C),d.el=je.el}if(X&&Ht(X,b),!we&&(re=R&&R.onVnodeMounted)){const je=d;Ht(()=>Tn(re,le,je),b)}(d.shapeFlag&256||le&&ji(le.vnode)&&le.vnode.shapeFlag&256)&&y.a&&Ht(y.a,b),y.isMounted=!0,d=p=_=null}},j=y.effect=new Vh($,()=>Gh(U),y.scope),U=y.update=()=>j.run();U.id=y.uid,jr(y,!0),U()},ve=(y,d,p)=>{d.component=y;const _=y.vnode.props;y.vnode=d,y.next=null,T0(y,d.props,_,p),b0(y,d.children,p),li(),Yd(),ui()},de=(y,d,p,_,b,C,x,$,j=!1)=>{const U=y&&y.children,re=y?y.shapeFlag:0,H=d.children,{patchFlag:R,shapeFlag:O}=d;if(R>0){if(R&128){tt(U,H,p,_,b,C,x,$,j);return}else if(R&256){De(U,H,p,_,b,C,x,$,j);return}}O&8?(re&16&&Je(U,b,C),H!==U&&u(p,H)):re&16?O&16?tt(U,H,p,_,b,C,x,$,j):Je(U,b,C,!0):(re&8&&u(p,""),O&16&&D(H,p,_,b,C,x,$,j))},De=(y,d,p,_,b,C,x,$,j)=>{y=y||Ds,d=d||Ds;const U=y.length,re=d.length,H=Math.min(U,re);let R;for(R=0;R<H;R++){const O=d[R]=j?hr(d[R]):wn(d[R]);E(y[R],O,p,null,b,C,x,$,j)}U>re?Je(y,b,C,!0,!1,H):D(d,p,_,b,C,x,$,j,H)},tt=(y,d,p,_,b,C,x,$,j)=>{let U=0;const re=d.length;let H=y.length-1,R=re-1;for(;U<=H&&U<=R;){const O=y[U],X=d[U]=j?hr(d[U]):wn(d[U]);if(Qr(O,X))E(O,X,p,null,b,C,x,$,j);else break;U++}for(;U<=H&&U<=R;){const O=y[H],X=d[R]=j?hr(d[R]):wn(d[R]);if(Qr(O,X))E(O,X,p,null,b,C,x,$,j);else break;H--,R--}if(U>H){if(U<=R){const O=R+1,X=O<re?d[O].el:_;for(;U<=R;)E(null,d[U]=j?hr(d[U]):wn(d[U]),p,X,b,C,x,$,j),U++}}else if(U>R)for(;U<=H;)Xe(y[U],b,C,!0),U++;else{const O=U,X=U,le=new Map;for(U=X;U<=R;U++){const zt=d[U]=j?hr(d[U]):wn(d[U]);zt.key!=null&&le.set(zt.key,U)}let we,je=0;const dt=R-X+1;let tr=!1,Fl=0;const Ai=new Array(dt);for(U=0;U<dt;U++)Ai[U]=0;for(U=O;U<=H;U++){const zt=y[U];if(je>=dt){Xe(zt,b,C,!0);continue}let En;if(zt.key!=null)En=le.get(zt.key);else for(we=X;we<=R;we++)if(Ai[we-X]===0&&Qr(zt,d[we])){En=we;break}En===void 0?Xe(zt,b,C,!0):(Ai[En-X]=U+1,En>=Fl?Fl=En:tr=!0,E(zt,d[En],p,null,b,C,x,$,j),je++)}const Ud=tr?P0(Ai):Ds;for(we=Ud.length-1,U=dt-1;U>=0;U--){const zt=X+U,En=d[zt],$d=zt+1<re?d[zt+1].el:_;Ai[U]===0?E(null,En,p,$d,b,C,x,$,j):tr&&(we<0||U!==Ud[we]?nt(En,p,$d,2):we--)}}},nt=(y,d,p,_,b=null)=>{const{el:C,type:x,transition:$,children:j,shapeFlag:U}=y;if(U&6){nt(y.component.subTree,d,p,_);return}if(U&128){y.suspense.move(d,p,_);return}if(U&64){x.move(y,d,p,q);return}if(x===it){r(C,d,p);for(let H=0;H<j.length;H++)nt(j[H],d,p,_);r(y.anchor,d,p);return}if(x===jl){A(y,d,p);return}if(_!==2&&U&1&&$)if(_===0)$.beforeEnter(C),r(C,d,p),Ht(()=>$.enter(C),b);else{const{leave:H,delayLeave:R,afterLeave:O}=$,X=()=>r(C,d,p),le=()=>{H(C,()=>{X(),O&&O()})};R?R(C,X,le):le()}else r(C,d,p)},Xe=(y,d,p,_=!1,b=!1)=>{const{type:C,props:x,ref:$,children:j,dynamicChildren:U,shapeFlag:re,patchFlag:H,dirs:R}=y;if($!=null&&Ru($,null,p,y,!0),re&256){d.ctx.deactivate(y);return}const O=re&1&&R,X=!ji(y);let le;if(X&&(le=x&&x.onVnodeBeforeUnmount)&&Tn(le,d,y),re&6)xn(y.component,p,_);else{if(re&128){y.suspense.unmount(p,_);return}O&&Br(y,null,d,"beforeUnmount"),re&64?y.type.remove(y,d,p,b,q,_):U&&(C!==it||H>0&&H&64)?Je(U,d,p,!1,!0):(C===it&&H&384||!b&&re&16)&&Je(j,d,p),_&&en(y)}(X&&(le=x&&x.onVnodeUnmounted)||O)&&Ht(()=>{le&&Tn(le,d,y),O&&Br(y,null,d,"unmounted")},p)},en=y=>{const{type:d,el:p,anchor:_,transition:b}=y;if(d===it){Gt(p,_);return}if(d===jl){T(y);return}const C=()=>{s(p),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(y.shapeFlag&1&&b&&!b.persisted){const{leave:x,delayLeave:$}=b,j=()=>x(p,C);$?$(y.el,C,j):j()}else C()},Gt=(y,d)=>{let p;for(;y!==d;)p=f(y),s(y),y=p;s(d)},xn=(y,d,p)=>{const{bum:_,scope:b,update:C,subTree:x,um:$}=y;_&&Ma(_),b.stop(),C&&(C.active=!1,Xe(x,y,d,p)),$&&Ht($,d),Ht(()=>{y.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Je=(y,d,p,_=!1,b=!1,C=0)=>{for(let x=C;x<y.length;x++)Xe(y[x],d,p,_,b)},L=y=>y.shapeFlag&6?L(y.component.subTree):y.shapeFlag&128?y.suspense.next():f(y.anchor||y.el),K=(y,d,p)=>{y==null?d._vnode&&Xe(d._vnode,null,null,!0):E(d._vnode||null,y,d,null,null,null,p),Yd(),k_(),d._vnode=y},q={p:E,um:Xe,m:nt,r:en,mt:Pe,mc:D,pc:de,pbc:V,n:L,o:t};let Y,Te;return e&&([Y,Te]=e(q)),{render:K,hydrate:Y,createApp:y0(K,Y)}}function jr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function C0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function nf(t,e,n=!1){const r=t.children,s=e.children;if(ie(r)&&ie(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=hr(s[i]),a.el=o.el),n||nf(o,a)),a.type===Uo&&(a.el=o.el)}}function P0(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const S0=t=>t.__isTeleport,Hi=t=>t&&(t.disabled||t.disabled===""),cp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Cu=(t,e)=>{const n=t&&t.to;return ze(n)?e?e(n):null:n},k0={__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:h,pbc:f,o:{insert:m,querySelector:v,createText:E,createComment:w}}=l,g=Hi(e.props);let{shapeFlag:I,children:A,dynamicChildren:T}=e;if(t==null){const P=e.el=E(""),k=e.anchor=E("");m(P,n,r),m(k,n,r);const S=e.target=Cu(e.props,v),D=e.targetAnchor=E("");S&&(m(D,S),o=o||cp(S));const N=(V,ee)=>{I&16&&u(A,V,ee,s,i,o,a,c)};g?N(n,k):S&&N(S,D)}else{e.el=t.el;const P=e.anchor=t.anchor,k=e.target=t.target,S=e.targetAnchor=t.targetAnchor,D=Hi(t.props),N=D?n:k,V=D?P:S;if(o=o||cp(k),T?(f(t.dynamicChildren,T,N,s,i,o,a),nf(t,e,!0)):c||h(t,e,N,V,s,i,o,a,!1),g)D?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ya(e,n,P,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ee=e.target=Cu(e.props,v);ee&&ya(e,ee,null,l,0)}else D&&ya(e,k,S,l,1)}Z_(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:f}=t;if(h&&i(u),o&&i(l),a&16){const m=o||!Hi(f);for(let v=0;v<c.length;v++){const E=c[v];s(E,e,n,m,!!E.dynamicChildren)}}},move:ya,hydrate:O0};function ya(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,h=i===2;if(h&&r(o,e,n),(!h||Hi(u))&&c&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);h&&r(a,e,n)}function O0(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=Cu(e.props,c);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Hi(e.props))e.anchor=l(o(t),e,a(t),n,r,s,i),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(h,e,u,n,r,s,i)}Z_(e)}return e.anchor&&o(e.anchor)}const N0=k0;function Z_(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const it=Symbol.for("v-fgt"),Uo=Symbol.for("v-txt"),cn=Symbol.for("v-cmt"),jl=Symbol.for("v-stc"),Wi=[];let hn=null;function Z(t=!1){Wi.push(hn=t?null:[])}function D0(){Wi.pop(),hn=Wi[Wi.length-1]||null}let lo=1;function lp(t){lo+=t}function ey(t){return t.dynamicChildren=lo>0?hn||Ds:null,D0(),lo>0&&hn&&hn.push(t),t}function ue(t,e,n,r,s,i){return ey(G(t,e,n,r,s,i,!0))}function $t(t,e,n,r,s){return ey(ne(t,e,n,r,s,!0))}function ec(t){return t?t.__v_isVNode===!0:!1}function Qr(t,e){return t.type===e.type&&t.key===e.key}const Kc="__vInternal",ty=({key:t})=>t??null,Fa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ze(t)||Be(t)||_e(t)?{i:gt,r:t,k:e,f:!!n}:t:null);function G(t,e=null,n=null,r=0,s=null,i=t===it?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ty(e),ref:e&&Fa(e),scopeId:D_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gt};return a?(rf(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=ze(n)?8:16),lo>0&&!o&&hn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&hn.push(c),c}const ne=L0;function L0(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===L_)&&(t=cn),ec(t)){const a=Pr(t,e,!0);return n&&rf(a,n),lo>0&&!i&&hn&&(a.shapeFlag&6?hn[hn.indexOf(t)]=a:hn.push(a)),a.patchFlag|=-2,a}if(W0(t)&&(t=t.__vccOpts),e){e=M0(e);let{class:a,style:c}=e;a&&!ze(a)&&(e.class=vr(a)),Ue(c)&&(b_(c)&&!ie(c)&&(c=at({},c)),e.style=Fc(c))}const o=ze(t)?1:Yw(t)?128:S0(t)?64:Ue(t)?4:_e(t)?2:0;return G(t,e,n,r,s,o,i,!0)}function M0(t){return t?b_(t)||Kc in t?at({},t):t:null}function Pr(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?F0(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&ty(a),ref:e&&e.ref?n&&s?ie(s)?s.concat(Fa(e)):[s,Fa(e)]:Fa(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==it?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pr(t.ssContent),ssFallback:t.ssFallback&&Pr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Kt(t=" ",e=0){return ne(Uo,null,t,e)}function x0(t="",e=!1){return e?(Z(),$t(cn,null,t)):ne(cn,null,t)}function wn(t){return t==null||typeof t=="boolean"?ne(cn):ie(t)?ne(it,null,t.slice()):typeof t=="object"?hr(t):ne(Uo,null,String(t))}function hr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pr(t)}function rf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ie(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),rf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Kc in e)?e._ctx=gt:s===3&&gt&&(gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else _e(e)?(e={default:e,_ctx:gt},n=32):(e=String(e),r&64?(n=16,e=[Kt(e)]):n=8);t.children=e,t.shapeFlag|=n}function F0(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=vr([e.class,r.class]));else if(s==="style")e.style=Fc([e.style,r.style]);else if(Dc(s)){const i=e[s],o=r[s];o&&i!==o&&!(ie(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Tn(t,e,n,r=null){sn(t,e,7,[n,r])}const V0=Q_();let U0=0;function $0(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||V0,i={uid:U0++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new f_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:z_(r,s),emitsOptions:N_(r,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:r.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ww.bind(null,i),t.ce&&t.ce(i),i}let ct=null;const pn=()=>ct||gt;let sf,Is,up="__VUE_INSTANCE_SETTERS__";(Is=_u()[up])||(Is=_u()[up]=[]),Is.push(t=>ct=t),sf=t=>{Is.length>1?Is.forEach(e=>e(t)):Is[0](t)};const Hs=t=>{sf(t),t.scope.on()},ns=()=>{ct&&ct.scope.off(),sf(null)};function ny(t){return t.vnode.shapeFlag&4}let uo=!1;function B0(t,e=!1){uo=e;const{props:n,children:r}=t.vnode,s=ny(t);E0(t,n,s,e),w0(t,r);const i=s?j0(t,e):void 0;return uo=!1,i}function j0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Bc(new Proxy(t.ctx,u0));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?sy(t):null;Hs(t),li();const i=Ir(r,t,0,[t.props,s]);if(ui(),ns(),a_(i)){if(i.then(ns,ns),e)return i.then(o=>{hp(t,o,e)}).catch(o=>{jc(o,t,0)});t.asyncDep=i}else hp(t,i,e)}else ry(t,e)}function hp(t,e,n){_e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=R_(e)),ry(t,n)}let fp;function ry(t,e,n){const r=t.type;if(!t.render){if(!e&&fp&&!r.render){const s=r.template||ef(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=at(at({isCustomElement:i,delimiters:a},o),c);r.render=fp(s,l)}}t.render=r.render||dn}{Hs(t),li();try{f0(t)}finally{ui(),ns()}}}function q0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Qt(t,"get","$attrs"),e[n]}}))}function sy(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return q0(t)},slots:t.slots,emit:t.emit,expose:e}}function Qc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(R_(Bc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qi)return qi[n](t)},has(e,n){return n in e||n in qi}}))}function H0(t,e=!0){return _e(t)?t.displayName||t.name:t.name||e&&t.__name}function W0(t){return _e(t)&&"__vccOpts"in t}const Oe=(t,e)=>Uw(t,e,uo);function $o(t,e,n){const r=arguments.length;return r===2?Ue(e)&&!ie(e)?ec(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ec(n)&&(n=[n]),ne(t,e,n))}const K0=Symbol.for("v-scx"),Q0=()=>an(K0),G0="3.3.8",z0="http://www.w3.org/2000/svg",Gr=typeof document<"u"?document:null,dp=Gr&&Gr.createElement("template"),Y0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?Gr.createElementNS(z0,t):Gr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Gr.createTextNode(t),createComment:t=>Gr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{dp.innerHTML=r?`<svg>${t}</svg>`:t;const a=dp.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rr="transition",Ri="animation",Ws=Symbol("_vtc"),of=(t,{slots:e})=>$o(e0,oy(t),e);of.displayName="Transition";const iy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},X0=of.props=at({},U_,iy),qr=(t,e=[])=>{ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},pp=t=>t?ie(t)?t.some(e=>e.length>1):t.length>1:!1;function oy(t){const e={};for(const B in t)B in iy||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,v=J0(s),E=v&&v[0],w=v&&v[1],{onBeforeEnter:g,onEnter:I,onEnterCancelled:A,onLeave:T,onLeaveCancelled:P,onBeforeAppear:k=g,onAppear:S=I,onAppearCancelled:D=A}=e,N=(B,ae,Pe)=>{cr(B,ae?u:a),cr(B,ae?l:o),Pe&&Pe()},V=(B,ae)=>{B._isLeaving=!1,cr(B,h),cr(B,m),cr(B,f),ae&&ae()},ee=B=>(ae,Pe)=>{const Fe=B?S:I,te=()=>N(ae,B,Pe);qr(Fe,[ae,te]),mp(()=>{cr(ae,B?c:i),Un(ae,B?u:a),pp(Fe)||gp(ae,r,E,te)})};return at(e,{onBeforeEnter(B){qr(g,[B]),Un(B,i),Un(B,o)},onBeforeAppear(B){qr(k,[B]),Un(B,c),Un(B,l)},onEnter:ee(!1),onAppear:ee(!0),onLeave(B,ae){B._isLeaving=!0;const Pe=()=>V(B,ae);Un(B,h),cy(),Un(B,f),mp(()=>{B._isLeaving&&(cr(B,h),Un(B,m),pp(T)||gp(B,r,w,Pe))}),qr(T,[B,Pe])},onEnterCancelled(B){N(B,!1),qr(A,[B])},onAppearCancelled(B){N(B,!0),qr(D,[B])},onLeaveCancelled(B){V(B),qr(P,[B])}})}function J0(t){if(t==null)return null;if(Ue(t))return[ql(t.enter),ql(t.leave)];{const e=ql(t);return[e,e]}}function ql(t){return ew(t)}function Un(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ws]||(t[Ws]=new Set)).add(e)}function cr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ws];n&&(n.delete(e),n.size||(t[Ws]=void 0))}function mp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Z0=0;function gp(t,e,n,r){const s=t._endId=++Z0,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=ay(t,e);if(!o)return r();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,f),i()},f=m=>{m.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,f)}function ay(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),s=r(`${rr}Delay`),i=r(`${rr}Duration`),o=_p(s,i),a=r(`${Ri}Delay`),c=r(`${Ri}Duration`),l=_p(a,c);let u=null,h=0,f=0;e===rr?o>0&&(u=rr,h=o,f=i.length):e===Ri?l>0&&(u=Ri,h=l,f=c.length):(h=Math.max(o,l),u=h>0?o>l?rr:Ri:null,f=u?u===rr?i.length:c.length:0);const m=u===rr&&/\b(transform|all)(,|$)/.test(r(`${rr}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:m}}function _p(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>yp(n)+yp(t[r])))}function yp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function cy(){return document.body.offsetHeight}function eb(t,e,n){const r=t[Ws];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const af=Symbol("_vod"),zF={beforeMount(t,{value:e},{transition:n}){t[af]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ci(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ci(t,!0),r.enter(t)):r.leave(t,()=>{Ci(t,!1)}):Ci(t,e))},beforeUnmount(t,{value:e}){Ci(t,e)}};function Ci(t,e){t.style.display=e?t[af]:"none"}function tb(t,e,n){const r=t.style,s=ze(n);if(n&&!s){if(e&&!ze(e))for(const i in e)n[i]==null&&Pu(r,i,"");for(const i in n)Pu(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),af in t&&(r.display=i)}}const vp=/\s*!important$/;function Pu(t,e,n){if(ie(n))n.forEach(r=>Pu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=nb(t,e);vp.test(n)?t.setProperty(ps(r),n.replace(vp,""),"important"):t[r]=n}}const Ep=["Webkit","Moz","ms"],Hl={};function nb(t,e){const n=Hl[e];if(n)return n;let r=Ln(e);if(r!=="filter"&&r in t)return Hl[e]=r;r=xc(r);for(let s=0;s<Ep.length;s++){const i=Ep[s]+r;if(i in t)return Hl[e]=i}return e}const Tp="http://www.w3.org/1999/xlink";function rb(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Tp,e.slice(6,e.length)):t.setAttributeNS(Tp,e,n);else{const i=ow(e);n==null||i&&!u_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function sb(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=u_(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function zr(t,e,n,r){t.addEventListener(e,n,r)}function ib(t,e,n,r){t.removeEventListener(e,n,r)}const Ip=Symbol("_vei");function ob(t,e,n,r,s=null){const i=t[Ip]||(t[Ip]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=ab(e);if(r){const l=i[e]=ub(r,s);zr(t,a,l,c)}else o&&(ib(t,a,o,c),i[e]=void 0)}}const wp=/(?:Once|Passive|Capture)$/;function ab(t){let e;if(wp.test(t)){e={};let r;for(;r=t.match(wp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ps(t.slice(2)),e]}let Wl=0;const cb=Promise.resolve(),lb=()=>Wl||(cb.then(()=>Wl=0),Wl=Date.now());function ub(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;sn(hb(r,n.value),e,5,[r])};return n.value=t,n.attached=lb(),n}function hb(t,e){if(ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const bp=/^on[a-z]/,fb=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?eb(t,r,s):e==="style"?tb(t,n,r):Dc(e)?Nh(e)||ob(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):db(t,e,r,s))?sb(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),rb(t,e,r,s))};function db(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&bp.test(e)&&_e(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||bp.test(e)&&ze(n)?!1:e in t}const ly=new WeakMap,uy=new WeakMap,tc=Symbol("_moveCb"),Ap=Symbol("_enterCb"),hy={name:"TransitionGroup",props:at({},X0,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=pn(),r=V_();let s,i;return q_(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!vb(s[0].el,n.vnode.el,o))return;s.forEach(gb),s.forEach(_b);const a=s.filter(yb);cy(),a.forEach(c=>{const l=c.el,u=l.style;Un(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=l[tc]=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",h),l[tc]=null,cr(l,o))};l.addEventListener("transitionend",h)})}),()=>{const o=Re(t),a=oy(o);let c=o.tag||it;s=i,i=e.default?Xh(e.default()):[];for(let l=0;l<i.length;l++){const u=i[l];u.key!=null&&ao(u,oo(u,a,r,n))}if(s)for(let l=0;l<s.length;l++){const u=s[l];ao(u,oo(u,a,r,n)),ly.set(u,u.el.getBoundingClientRect())}return ne(c,null,i)}}},pb=t=>delete t.mode;hy.props;const mb=hy;function gb(t){const e=t.el;e[tc]&&e[tc](),e[Ap]&&e[Ap]()}function _b(t){uy.set(t,t.el.getBoundingClientRect())}function yb(t){const e=ly.get(t),n=uy.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function vb(t,e,n){const r=t.cloneNode(),s=t[Ws];s&&s.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=ay(r);return i.removeChild(r),o}const nc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ie(e)?n=>Ma(e,n):e};function Eb(t){t.target.composing=!0}function Rp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xs=Symbol("_assign"),YF={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[xs]=nc(s);const i=r||s.props&&s.props.type==="number";zr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=za(a)),t[xs](a)}),n&&zr(t,"change",()=>{t.value=t.value.trim()}),e||(zr(t,"compositionstart",Eb),zr(t,"compositionend",Rp),zr(t,"change",Rp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[xs]=nc(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&za(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},XF={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Lc(e);zr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?za(rc(o)):rc(o));t[xs](t.multiple?s?new Set(i):i:i[0])}),t[xs]=nc(r)},mounted(t,{value:e}){Cp(t,e)},beforeUpdate(t,e,n){t[xs]=nc(n)},updated(t,{value:e}){Cp(t,e)}};function Cp(t,e){const n=t.multiple;if(!(n&&!ie(e)&&!Lc(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=rc(i);if(n)ie(e)?i.selected=cw(e,o)>-1:i.selected=e.has(o);else if(Vc(rc(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function rc(t){return"_value"in t?t._value:t.value}const Tb=["ctrl","shift","alt","meta"],Ib={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Tb.some(n=>t[`${n}Key`]&&!e.includes(n))},JF=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=Ib[e[s]];if(i&&i(n,e))return}return t(n,...r)},wb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ZF=(t,e)=>n=>{if(!("key"in n))return;const r=ps(n.key);if(e.some(s=>s===r||wb[s]===r))return t(n)},bb=at({patchProp:fb},Y0);let Pp;function fy(){return Pp||(Pp=A0(bb))}const eV=(...t)=>{fy().render(...t)},Ab=(...t)=>{const e=fy().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Rb(r);if(!s)return;const i=e._component;!_e(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Rb(t){return ze(t)?document.querySelector(t):t}var Cb=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let dy;const Gc=t=>dy=t,py=Symbol();function Su(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ki;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ki||(Ki={}));function Pb(){const t=Mh(!0),e=t.run(()=>Ze({}));let n=[],r=[];const s=Bc({install(i){Gc(s),s._a=i,i.provide(py,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!Cb?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const my=()=>{};function Sp(t,e,n,r=my){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&xh()&&Uc(s),s}function ws(t,...e){t.slice().forEach(n=>{n(...e)})}const Sb=t=>t();function ku(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Su(s)&&Su(r)&&t.hasOwnProperty(n)&&!Be(r)&&!Tr(r)?t[n]=ku(s,r):t[n]=r}return t}const kb=Symbol();function Ob(t){return!Su(t)||!t.hasOwnProperty(kb)}const{assign:lr}=Object;function Nb(t){return!!(Be(t)&&t.effect)}function Db(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=Kh(n.state.value[t]);return lr(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Bc(Oe(()=>{Gc(n);const m=n._s.get(t);return o[f].call(m,m)})),h),{}))}return c=gy(t,l,e,n,r,!0),c}function gy(t,e,n={},r,s,i){let o;const a=lr({actions:{}},n),c={deep:!0};let l,u,h=[],f=[],m;const v=r.state.value[t];!i&&!v&&(r.state.value[t]={}),Ze({});let E;function w(D){let N;l=u=!1,typeof D=="function"?(D(r.state.value[t]),N={type:Ki.patchFunction,storeId:t,events:m}):(ku(r.state.value[t],D),N={type:Ki.patchObject,payload:D,storeId:t,events:m});const V=E=Symbol();xo().then(()=>{E===V&&(l=!0)}),u=!0,ws(h,N,r.state.value[t])}const g=i?function(){const{state:N}=n,V=N?N():{};this.$patch(ee=>{lr(ee,V)})}:my;function I(){o.stop(),h=[],f=[],r._s.delete(t)}function A(D,N){return function(){Gc(r);const V=Array.from(arguments),ee=[],B=[];function ae(te){ee.push(te)}function Pe(te){B.push(te)}ws(f,{args:V,name:D,store:P,after:ae,onError:Pe});let Fe;try{Fe=N.apply(this&&this.$id===t?this:P,V)}catch(te){throw ws(B,te),te}return Fe instanceof Promise?Fe.then(te=>(ws(ee,te),te)).catch(te=>(ws(B,te),Promise.reject(te))):(ws(ee,Fe),Fe)}}const T={_p:r,$id:t,$onAction:Sp.bind(null,f),$patch:w,$reset:g,$subscribe(D,N={}){const V=Sp(h,D,N.detached,()=>ee()),ee=o.run(()=>on(()=>r.state.value[t],B=>{(N.flush==="sync"?u:l)&&D({storeId:t,type:Ki.direct,events:m},B)},lr({},c,N)));return V},$dispose:I},P=Gn(T);r._s.set(t,P);const S=(r._a&&r._a.runWithContext||Sb)(()=>r._e.run(()=>(o=Mh()).run(e)));for(const D in S){const N=S[D];if(Be(N)&&!Nb(N)||Tr(N))i||(v&&Ob(N)&&(Be(N)?N.value=v[D]:ku(N,v[D])),r.state.value[t][D]=N);else if(typeof N=="function"){const V=A(D,N);S[D]=V,a.actions[D]=N}}return lr(P,S),lr(Re(P),S),Object.defineProperty(P,"$state",{get:()=>r.state.value[t],set:D=>{w(N=>{lr(N,D)})}}),r._p.forEach(D=>{lr(P,o.run(()=>D({store:P,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(P.$state,v),l=!0,u=!0,P}function cf(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,c){const l=v0();return a=a||(l?an(py,null):null),a&&Gc(a),a=dy,a._s.has(r)||(i?gy(r,e,s,a):Db(r,s,a)),a._s.get(r)}return o.$id=r,o}function Ou(t,e){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ou(t,e)}function fi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ou(t,e)}var di=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var s=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function ke(){return ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ke.apply(this,arguments)}var sc=typeof window>"u";function kt(){}function Lb(t,e){return typeof t=="function"?t(e):t}function Nu(t){return typeof t=="number"&&t>=0&&t!==1/0}function ic(t){return Array.isArray(t)?t:[t]}function _y(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kl(t,e,n){return zc(t)?typeof e=="function"?ke({},n,{queryKey:t,queryFn:e}):ke({},e,{queryKey:t}):t}function fr(t,e,n){return zc(t)?[ke({},e,{queryKey:t}),n]:[t||{},e]}function Mb(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function kp(t,e){var n=t.active,r=t.exact,s=t.fetching,i=t.inactive,o=t.predicate,a=t.queryKey,c=t.stale;if(zc(a)){if(r){if(e.queryHash!==lf(a,e.options))return!1}else if(!oc(e.queryKey,a))return!1}var l=Mb(n,i);if(l==="none")return!1;if(l!=="all"){var u=e.isActive();if(l==="active"&&!u||l==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof s=="boolean"&&e.isFetching()!==s||o&&!o(e))}function Op(t,e){var n=t.exact,r=t.fetching,s=t.predicate,i=t.mutationKey;if(zc(i)){if(!e.options.mutationKey)return!1;if(n){if(Xr(e.options.mutationKey)!==Xr(i))return!1}else if(!oc(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function lf(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Xr;return n(t)}function Xr(t){var e=ic(t);return xb(e)}function xb(t){return JSON.stringify(t,function(e,n){return Du(n)?Object.keys(n).sort().reduce(function(r,s){return r[s]=n[s],r},{}):n})}function oc(t,e){return yy(ic(t),ic(e))}function yy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!yy(t[n],e[n])}):!1}function ac(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Du(t)&&Du(e)){for(var r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{},a=0,c=0;c<i;c++){var l=n?c:s[c];o[l]=ac(t[l],e[l]),o[l]===t[l]&&a++}return r===i&&a===r?t:o}return e}function Fb(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Du(t){if(!Np(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!Np(n)||!n.hasOwnProperty("isPrototypeOf"))}function Np(t){return Object.prototype.toString.call(t)==="[object Object]"}function zc(t){return typeof t=="string"||Array.isArray(t)}function Vb(t){return new Promise(function(e){setTimeout(e,t)})}function Dp(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function vy(){if(typeof AbortController=="function")return new AbortController}var Ub=function(t){fi(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!sc&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(s){this.focused=s,s&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(s){s()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(di),Qi=new Ub,$b=function(t){fi(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!sc&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(s){this.online=s,s&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(s){s()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(di),Va=new $b;function Bb(t){return Math.min(1e3*Math.pow(2,t),3e4)}function cc(t){return typeof(t==null?void 0:t.cancel)=="function"}var Ey=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Ua(t){return t instanceof Ey}var Ty=function(e){var n=this,r=!1,s,i,o,a;this.abort=e.abort,this.cancel=function(f){return s==null?void 0:s(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,m){o=f,a=m});var c=function(m){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(m),i==null||i(),o(m))},l=function(m){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(m),i==null||i(),a(m))},u=function(){return new Promise(function(m){i=m,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function f(){if(!n.isResolved){var m;try{m=e.fn()}catch(v){m=Promise.reject(v)}s=function(E){if(!n.isResolved&&(l(new Ey(E)),n.abort==null||n.abort(),cc(m)))try{m.cancel()}catch{}},n.isTransportCancelable=cc(m),Promise.resolve(m).then(c).catch(function(v){var E,w;if(!n.isResolved){var g=(E=e.retry)!=null?E:3,I=(w=e.retryDelay)!=null?w:Bb,A=typeof I=="function"?I(n.failureCount,v):I,T=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,v);if(r||!T){l(v);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,v),Vb(A).then(function(){if(!Qi.isFocused()||!Va.isOnline())return u()}).then(function(){r?l(v):f()})}})}};h()},jb=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(r){var s=this;this.transactions?this.queue.push(r):Dp(function(){s.notifyFn(r)})},e.batchCalls=function(r){var s=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];s.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&Dp(function(){r.batchNotifyFn(function(){s.forEach(function(i){r.notifyFn(i)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),mt=new jb,qb=console;function lc(){return qb}var Hb=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var s;this.options=ke({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Nu(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,s){var i,o,a=this.state.data,c=Lb(r,a);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,a,c)?c=a:this.options.structuralSharing!==!1&&(c=ac(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},e.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},e.cancel=function(r){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(r),i?i.then(kt).catch(kt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!_y(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,s){var i=this,o,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(I){return I.options.queryFn});u&&this.setOptions(u.options)}var h=ic(this.queryKey),f=vy(),m={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var v=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(m)):Promise.reject("Missing queryFn")},E={fetchOptions:s,options:this.options,queryKey:h,state:this.state,fetchFn:v,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var w;(w=this.options.behavior)==null||w.onFetch(E)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=E.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=E.fetchOptions)==null?void 0:g.meta})}return this.retryer=new Ty({fn:E.fetchFn,abort:f==null||(c=f.abort)==null?void 0:c.bind(f),onSuccess:function(A){i.setData(A),i.cache.config.onSuccess==null||i.cache.config.onSuccess(A,i),i.cacheTime===0&&i.optionalRemove()},onError:function(A){Ua(A)&&A.silent||i.dispatch({type:"error",error:A}),Ua(A)||(i.cache.config.onError==null||i.cache.config.onError(A,i),lc().error(A)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:E.options.retry,retryDelay:E.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),mt.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,s){var i,o;switch(s.type){case"failed":return ke({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return ke({},r,{isPaused:!0});case"continue":return ke({},r,{isPaused:!1});case"fetch":return ke({},r,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return ke({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=s.error;return Ua(a)&&a.revert&&this.revertState?ke({},this.revertState):ke({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return ke({},r,{isInvalidated:!0});case"setState":return ke({},r,s.state);default:return r}},t}(),Iy=function(t){fi(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var n=e.prototype;return n.build=function(s,i,o){var a,c=i.queryKey,l=(a=i.queryHash)!=null?a:lf(c,i),u=this.get(l);return u||(u=new Hb({cache:this,queryKey:c,queryHash:l,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(u)),u},n.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},n.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},n.clear=function(){var s=this;mt.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},n.get=function(s){return this.queriesMap[s]},n.getAll=function(){return this.queries},n.find=function(s,i){var o=fr(s,i),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(c){return kp(a,c)})},n.findAll=function(s,i){var o=fr(s,i),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(c){return kp(a,c)}):this.queries},n.notify=function(s){var i=this;mt.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){var s=this;mt.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var s=this;mt.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(di),Wb=function(){function t(n){this.options=ke({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||wy(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(kt).catch(kt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){s=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),lc().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,s;return this.retryer=new Ty({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var s=this;this.state=Kb(this.state,r),mt.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(r)}),s.mutationCache.notify(s)})},t}();function wy(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Kb(t,e){switch(e.type){case"failed":return ke({},t,{failureCount:t.failureCount+1});case"pause":return ke({},t,{isPaused:!0});case"continue":return ke({},t,{isPaused:!1});case"loading":return ke({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return ke({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return ke({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return ke({},t,e.state);default:return t}}var by=function(t){fi(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var n=e.prototype;return n.build=function(s,i,o){var a=new Wb({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(s){this.mutations.push(s),this.notify(s)},n.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},n.clear=function(){var s=this;mt.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return Op(s,i)})},n.findAll=function(s){return this.mutations.filter(function(i){return Op(s,i)})},n.notify=function(s){var i=this;mt.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return mt.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(kt)})},Promise.resolve())})},e}(di);function Qb(){return{onFetch:function(e){e.fetchFn=function(){var n,r,s,i,o,a,c=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,l=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",m=((o=e.state.data)==null?void 0:o.pages)||[],v=((a=e.state.data)==null?void 0:a.pageParams)||[],E=vy(),w=E==null?void 0:E.signal,g=v,I=!1,A=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},T=function(Pe,Fe,te,ve){return g=ve?[Fe].concat(g):[].concat(g,[Fe]),ve?[te].concat(Pe):[].concat(Pe,[te])},P=function(Pe,Fe,te,ve){if(I)return Promise.reject("Cancelled");if(typeof te>"u"&&!Fe&&Pe.length)return Promise.resolve(Pe);var de={queryKey:e.queryKey,signal:w,pageParam:te,meta:e.meta},De=A(de),tt=Promise.resolve(De).then(function(Xe){return T(Pe,te,Xe,ve)});if(cc(De)){var nt=tt;nt.cancel=De.cancel}return tt},k;if(!m.length)k=P([]);else if(h){var S=typeof u<"u",D=S?u:Lp(e.options,m);k=P(m,S,D)}else if(f){var N=typeof u<"u",V=N?u:Gb(e.options,m);k=P(m,N,V,!0)}else(function(){g=[];var ae=typeof e.options.getNextPageParam>"u",Pe=c&&m[0]?c(m[0],0,m):!0;k=Pe?P([],ae,v[0]):Promise.resolve(T([],v[0],m[0]));for(var Fe=function(de){k=k.then(function(De){var tt=c&&m[de]?c(m[de],de,m):!0;if(tt){var nt=ae?v[de]:Lp(e.options,De);return P(De,ae,nt)}return Promise.resolve(T(De,v[de],m[de]))})},te=1;te<m.length;te++)Fe(te)})();var ee=k.then(function(ae){return{pages:ae,pageParams:g}}),B=ee;return B.cancel=function(){I=!0,E==null||E.abort(),cc(k)&&k.cancel()},ee}}}}function Lp(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Gb(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var zb=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new Iy,this.mutationCache=n.mutationCache||new by,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=Qi.subscribe(function(){Qi.isFocused()&&Va.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Va.subscribe(function(){Qi.isFocused()&&Va.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(r,s){var i=fr(r,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(ke({},r,{fetching:!0})).length},e.getQueryData=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var i=s.queryKey,o=s.state,a=o.data;return[i,a]})},e.setQueryData=function(r,s,i){var o=Kl(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(s,i)},e.setQueriesData=function(r,s,i){var o=this;return mt.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,o.setQueryData(c,s,i)]})})},e.getQueryState=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state},e.removeQueries=function(r,s){var i=fr(r,s),o=i[0],a=this.queryCache;mt.batch(function(){a.findAll(o).forEach(function(c){a.remove(c)})})},e.resetQueries=function(r,s,i){var o=this,a=fr(r,s,i),c=a[0],l=a[1],u=this.queryCache,h=ke({},c,{active:!0});return mt.batch(function(){return u.findAll(c).forEach(function(f){f.reset()}),o.refetchQueries(h,l)})},e.cancelQueries=function(r,s,i){var o=this,a=fr(r,s,i),c=a[0],l=a[1],u=l===void 0?{}:l;typeof u.revert>"u"&&(u.revert=!0);var h=mt.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.cancel(u)})});return Promise.all(h).then(kt).catch(kt)},e.invalidateQueries=function(r,s,i){var o,a,c,l=this,u=fr(r,s,i),h=u[0],f=u[1],m=ke({},h,{active:(o=(a=h.refetchActive)!=null?a:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return mt.batch(function(){return l.queryCache.findAll(h).forEach(function(v){v.invalidate()}),l.refetchQueries(m,f)})},e.refetchQueries=function(r,s,i){var o=this,a=fr(r,s,i),c=a[0],l=a[1],u=mt.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.fetch(void 0,ke({},l,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(u).then(kt);return l!=null&&l.throwOnError||(h=h.catch(kt)),h},e.fetchQuery=function(r,s,i){var o=Kl(r,s,i),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},e.prefetchQuery=function(r,s,i){return this.fetchQuery(r,s,i).then(kt).catch(kt)},e.fetchInfiniteQuery=function(r,s,i){var o=Kl(r,s,i);return o.behavior=Qb(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,s,i){return this.fetchInfiniteQuery(r,s,i).then(kt).catch(kt)},e.cancelMutations=function(){var r=this,s=mt.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(kt).catch(kt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,s){var i=this.queryDefaults.find(function(o){return Xr(r)===Xr(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},e.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(i){return oc(r,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(r,s){var i=this.mutationDefaults.find(function(o){return Xr(r)===Xr(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},e.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(i){return oc(r,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=ke({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=lf(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:ke({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),Yb=function(t){fi(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Mp(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Lu(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Lu(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(s,i){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&xp(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();c&&(this.currentQuery!==a||this.options.enabled!==o.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},n.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(s,i){var o=this,a={},c=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(s).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return c(l),s[l]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),a},n.getNextResult=function(s){var i=this;return new Promise(function(o,a){var c=i.subscribe(function(l){l.isFetching||(c(),l.isError&&(s!=null&&s.throwOnError)?a(l.error):o(l))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(s){return this.fetch(ke({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},n.fetchOptimistic=function(s){var i=this,o=this.client.defaultQueryObserverOptions(s),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return i.createResult(a,o)})},n.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(kt)),i},n.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(sc||this.currentResult.isStale||!Nu(this.options.staleTime))){var i=_y(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},o)}},n.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},n.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(sc||this.options.enabled===!1||!Nu(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Qi.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(s,i){var o=this.currentQuery,a=this.options,c=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,h=s!==o,f=h?s.state:this.currentQueryInitialState,m=h?this.currentResult:this.previousQueryResult,v=s.state,E=v.dataUpdatedAt,w=v.error,g=v.errorUpdatedAt,I=v.isFetching,A=v.status,T=!1,P=!1,k;if(i.optimisticResults){var S=this.hasListeners(),D=!S&&Mp(s,i),N=S&&xp(s,o,i,a);(D||N)&&(I=!0,E||(A="loading"))}if(i.keepPreviousData&&!v.dataUpdateCount&&(m!=null&&m.isSuccess)&&A!=="error")k=m.data,E=m.dataUpdatedAt,A=m.status,T=!0;else if(i.select&&typeof v.data<"u")if(c&&v.data===(l==null?void 0:l.data)&&i.select===this.selectFn)k=this.selectResult;else try{this.selectFn=i.select,k=i.select(v.data),i.structuralSharing!==!1&&(k=ac(c==null?void 0:c.data,k)),this.selectResult=k,this.selectError=null}catch(B){lc().error(B),this.selectError=B}else k=v.data;if(typeof i.placeholderData<"u"&&typeof k>"u"&&(A==="loading"||A==="idle")){var V;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))V=c.data;else if(V=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof V<"u")try{V=i.select(V),i.structuralSharing!==!1&&(V=ac(c==null?void 0:c.data,V)),this.selectError=null}catch(B){lc().error(B),this.selectError=B}typeof V<"u"&&(A="success",k=V,P=!0)}this.selectError&&(w=this.selectError,k=this.selectResult,g=Date.now(),A="error");var ee={status:A,isLoading:A==="loading",isSuccess:A==="success",isError:A==="error",isIdle:A==="idle",data:k,dataUpdatedAt:E,error:w,errorUpdatedAt:g,failureCount:v.fetchFailureCount,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>f.dataUpdateCount||v.errorUpdateCount>f.errorUpdateCount,isFetching:I,isRefetching:I&&A!=="loading",isLoadingError:A==="error"&&v.dataUpdatedAt===0,isPlaceholderData:P,isPreviousData:T,isRefetchError:A==="error"&&v.dataUpdatedAt!==0,isStale:uf(s,i),refetch:this.refetch,remove:this.remove};return ee},n.shouldNotifyListeners=function(s,i){if(!i)return!0;var o=this.options,a=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!a&&!c||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(s).some(function(u){var h=u,f=s[h]!==i[h],m=l==null?void 0:l.some(function(E){return E===u}),v=c==null?void 0:c.some(function(E){return E===u});return f&&!v&&(!l||m)})},n.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Fb(this.currentResult,i)){var o={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(ke({},o,s))}},n.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},n.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Ua(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(s){var i=this;mt.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(di);function Xb(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Mp(t,e){return Xb(t,e)||t.state.dataUpdatedAt>0&&Lu(t,e,e.refetchOnMount)}function Lu(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&uf(t,e)}return!1}function xp(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&uf(t,n)}function uf(t,e){return t.isStaleByTime(e.staleTime)}var Jb=function(t){fi(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.setOptions(s),i.bindMethods(),i.updateResult(),i}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},n.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},n.onMutationUpdate=function(s){this.updateResult();var i={listeners:!0};s.type==="success"?i.onSuccess=!0:s.type==="error"&&(i.onError=!0),this.notify(i)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(s,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,ke({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:wy(),i=ke({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},n.notify=function(s){var i=this;mt.batch(function(){i.mutateOptions&&(s.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):s.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},e}(di),hf={exports:{}},Ay={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},Ry=Object.keys(Ay).join("|"),Zb=new RegExp(Ry,"g"),eA=new RegExp(Ry,""),Cy=function(t){return t.replace(Zb,function(e){return Ay[e]})},tA=function(t){return!!t.match(eA)};hf.exports=Cy;hf.exports.has=tA;hf.exports.remove=Cy;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mu=function(t,e){return Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Mu(t,e)};function ff(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mu(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bn=function(){return bn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bn.apply(this,arguments)},nA="VUE_QUERY_CLIENT";function xu(t){var e=t?":".concat(t):"";return"".concat(nA).concat(e)}function Yt(t){return typeof t=="string"||Array.isArray(t)}function rA(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),Yt(t)?typeof e=="function"?Object.assign(n,{mutationKey:t,mutationFn:e}):Object.assign(e,{mutationKey:t}):typeof t=="function"?Object.assign(e,{mutationFn:t}):t}function Py(t,e){Object.keys(t).forEach(function(n){t[n]=e[n]})}function Fu(t,e){if(e){var n=e(t);if(n!==void 0||Be(t))return n}if(Array.isArray(t))return t.map(function(s){return Fu(s,e)});if(typeof t=="object"&&sA(t)){var r=Object.entries(t).map(function(s){var i=s[0],o=s[1];return[i,Fu(o,e)]});return Object.fromEntries(r)}return t}function se(t){return Fu(t,function(e){if(Be(e))return se(Ee(e))})}function sA(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Yc(t){var e;t===void 0&&(t="");var n=(e=pn())===null||e===void 0?void 0:e.proxy;if(!n)throw new Error("vue-query hooks can only be used inside setup() function.");var r=xu(t),s=an(r);if(!s)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return s}var iA=function(t){ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.find=function(n,r){var s=se(n),i=se(r);return t.prototype.find.call(this,s,i)},e.prototype.findAll=function(n,r){var s=se(n),i=se(r);return Yt(s)?t.prototype.findAll.call(this,s,i):t.prototype.findAll.call(this,s)},e}(Iy),oA=function(t){ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.find=function(n){return t.prototype.find.call(this,se(n))},e.prototype.findAll=function(n){return t.prototype.findAll.call(this,se(n))},e}(by),Fp=function(t){ff(e,t);function e(n){n===void 0&&(n={});var r=se(n),s={defaultOptions:se(r.defaultOptions),queryCache:r.queryCache||new iA,mutationCache:r.mutationCache||new oA};return t.call(this,s)||this}return e.prototype.isFetching=function(n,r){var s=se(n),i=se(r);return Yt(s)?t.prototype.isFetching.call(this,s,i):t.prototype.isFetching.call(this,s)},e.prototype.isMutating=function(n){return t.prototype.isMutating.call(this,se(n))},e.prototype.getQueryData=function(n,r){return t.prototype.getQueryData.call(this,se(n),se(r))},e.prototype.getQueriesData=function(n){var r=se(n);return Yt(r)?t.prototype.getQueriesData.call(this,r):t.prototype.getQueriesData.call(this,r)},e.prototype.setQueryData=function(n,r,s){return t.prototype.setQueryData.call(this,se(n),r,se(s))},e.prototype.setQueriesData=function(n,r,s){var i=se(n),o=se(s);return Yt(i)?t.prototype.setQueriesData.call(this,i,r,o):t.prototype.setQueriesData.call(this,i,r,o)},e.prototype.getQueryState=function(n,r){return t.prototype.getQueryState.call(this,se(n),se(r))},e.prototype.removeQueries=function(n,r){var s=se(n);return Yt(s)?t.prototype.removeQueries.call(this,s,se(r)):t.prototype.removeQueries.call(this,s)},e.prototype.resetQueries=function(n,r,s){var i=se(n),o=se(r);return Yt(i)?t.prototype.resetQueries.call(this,i,o,se(s)):t.prototype.resetQueries.call(this,i,o)},e.prototype.cancelQueries=function(n,r,s){var i=se(n),o=se(r);return Yt(i)?t.prototype.cancelQueries.call(this,i,o,se(s)):t.prototype.cancelQueries.call(this,i,o)},e.prototype.invalidateQueries=function(n,r,s){var i=se(n),o=se(r);return Yt(i)?t.prototype.invalidateQueries.call(this,i,o,se(s)):t.prototype.invalidateQueries.call(this,i,o)},e.prototype.refetchQueries=function(n,r,s){var i=se(n),o=se(r);return Yt(i)?t.prototype.refetchQueries.call(this,i,o,se(s)):t.prototype.refetchQueries.call(this,i,o)},e.prototype.fetchQuery=function(n,r,s){var i=se(n),o=se(r);return Yt(i)?t.prototype.fetchQuery.call(this,i,o,se(s)):t.prototype.fetchQuery.call(this,i)},e.prototype.prefetchQuery=function(n,r,s){return t.prototype.prefetchQuery.call(this,se(n),se(r),se(s))},e.prototype.fetchInfiniteQuery=function(n,r,s){var i=se(n),o=se(r);return Yt(i)?t.prototype.fetchInfiniteQuery.call(this,i,o,se(s)):t.prototype.fetchInfiniteQuery.call(this,i)},e.prototype.prefetchInfiniteQuery=function(n,r,s){return t.prototype.prefetchInfiniteQuery.call(this,se(n),se(r),se(s))},e.prototype.setDefaultOptions=function(n){t.prototype.setDefaultOptions.call(this,se(n))},e.prototype.setQueryDefaults=function(n,r){t.prototype.setQueryDefaults.call(this,se(n),se(r))},e.prototype.getQueryDefaults=function(n){return t.prototype.getQueryDefaults.call(this,se(n))},e.prototype.setMutationDefaults=function(n,r){t.prototype.setMutationDefaults.call(this,se(n),se(r))},e.prototype.getMutationDefaults=function(n){return t.prototype.getMutationDefaults.call(this,se(n))},e}(zb),Vp;(function(t){t[t.Fetching=0]="Fetching",t[t.Fresh=1]="Fresh",t[t.Stale=2]="Stale",t[t.Inactive=3]="Inactive"})(Vp||(Vp={}));var aA={install:function(t,e){var n;e===void 0&&(e={});var r=xu(e.queryClientKey),s;if("queryClient"in e&&e.queryClient)s=e.queryClient;else if(e.contextSharing&&typeof window<"u")if(window.__VUE_QUERY_CONTEXT__)s=window.__VUE_QUERY_CONTEXT__;else{var i="queryClientConfig"in e?e.queryClientConfig:void 0;s=new Fp(i),window.__VUE_QUERY_CONTEXT__=s}else{var i="queryClientConfig"in e?e.queryClientConfig:void 0;s=new Fp(i)}s.mount();var o=function(){var c;s.unmount(),(c=e.additionalClients)===null||c===void 0||c.forEach(function(l){l.queryClient.unmount()})};if(t.onUnmount)t.onUnmount(o);else{var a=t.unmount;t.unmount=function(){o(),a()}}t.provide(r,s),(n=e.additionalClients)===null||n===void 0||n.forEach(function(c){var l=xu(c.queryClientKey);t.provide(l,c.queryClient),c.queryClient.mount()})}};function cA(t,e,n,r){n===void 0&&(n={}),r===void 0&&(r={});var s=u(),i=Yc(s.queryClientKey),o=i.defaultQueryObserverOptions(s),a=new t(i,o),c=Gn(a.getCurrentResult()),l=a.subscribe(function(h){Py(c,h)});return on([function(){return e},function(){return n},function(){return r}],function(){a.setOptions(i.defaultQueryObserverOptions(u()))},{deep:!0}),Uc(function(){l()}),bn(bn({},Kh(hi(c))),{suspense:function(){return a.fetchOptimistic(o)}});function u(){var h;return Yt(e)?typeof n=="function"?h=bn(bn({},r),{queryKey:e,queryFn:n}):h=bn(bn({},n),{queryKey:e}):h=e,se(h)}}function df(t,e,n){return cA(Yb,t,e,n)}function lA(t,e,n){var r=rA(t,e,n),s=Yc(r.queryClientKey),i=new Jb(s,r),o=Gn(i.getCurrentResult()),a=i.subscribe(function(){Py(o,i.getCurrentResult())}),c=function(u,h){i.mutate(u,h).catch(function(){})};x_(function(){i.setOptions(r)}),Uc(function(){a()});var l=Kh(hi(o));return bn(bn({},l),{mutate:c,mutateAsync:o.mutate})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;c||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new hA;const f=i<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const v=l<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fA=function(t){const e=Sy(t);return ky.encodeByteArray(e,!0)},uc=function(t){return fA(t).replace(/\./g,"")},Oy=function(t){try{return ky.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=()=>dA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Oy(t[1]);return e&&JSON.parse(e)},pf=()=>{try{return pA()||mA()||gA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ny=t=>{var e,n;return(n=(e=pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_A=t=>{const e=Ny(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dy=()=>{var t;return(t=pf())===null||t===void 0?void 0:t.config},Ly=t=>{var e;return(e=pf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[uc(JSON.stringify(n)),uc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function TA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wA(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RA,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?CA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new er(s,a,r)}}function CA(t,e){return t.replace(PA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PA=/\{\$([^}]+)}/g;function SA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Up(i)&&Up(o)){if(!hc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Up(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function xi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kA(t,e){const n=new OA(t,e);return n.subscribe.bind(n)}class OA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ql),s.error===void 0&&(s.error=Ql),s.complete===void 0&&(s.complete=Ql);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ql(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MA(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(t){return t===Wr?void 0:t}function MA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const FA={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},VA=Ae.INFO,UA={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},$A=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=UA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mf{constructor(e){this.name=e,this._logLevel=VA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const BA=(t,e)=>e.some(n=>t instanceof n);let $p,Bp;function jA(){return $p||($p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return Bp||(Bp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const My=new WeakMap,Vu=new WeakMap,xy=new WeakMap,Gl=new WeakMap,gf=new WeakMap;function HA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(wr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&My.set(n,t)}).catch(()=>{}),gf.set(e,t),e}function WA(t){if(Vu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vu.set(t,e)}let Uu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KA(t){Uu=t(Uu)}function QA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zl(this),e,...n);return xy.set(r,e.sort?e.sort():[e]),wr(r)}:qA().includes(t)?function(...e){return t.apply(zl(this),e),wr(My.get(this))}:function(...e){return wr(t.apply(zl(this),e))}}function GA(t){return typeof t=="function"?QA(t):(t instanceof IDBTransaction&&WA(t),BA(t,jA())?new Proxy(t,Uu):t)}function wr(t){if(t instanceof IDBRequest)return HA(t);if(Gl.has(t))return Gl.get(t);const e=GA(t);return e!==t&&(Gl.set(t,e),gf.set(e,t)),e}const zl=t=>gf.get(t);function zA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=wr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wr(o.result),c.oldVersion,c.newVersion,wr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const YA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],Yl=new Map;function jp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yl.get(e))return Yl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=XA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YA.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Yl.set(e,i),i}KA(t=>({...t,get:(e,n,r)=>jp(e,n)||t.get(e,n,r),has:(e,n)=>!!jp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $u="@firebase/app",qp="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new mf("@firebase/app"),eR="@firebase/app-compat",tR="@firebase/analytics-compat",nR="@firebase/analytics",rR="@firebase/app-check-compat",sR="@firebase/app-check",iR="@firebase/auth",oR="@firebase/auth-compat",aR="@firebase/database",cR="@firebase/database-compat",lR="@firebase/functions",uR="@firebase/functions-compat",hR="@firebase/installations",fR="@firebase/installations-compat",dR="@firebase/messaging",pR="@firebase/messaging-compat",mR="@firebase/performance",gR="@firebase/performance-compat",_R="@firebase/remote-config",yR="@firebase/remote-config-compat",vR="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",IR="@firebase/firestore-compat",wR="firebase",bR="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="[DEFAULT]",AR={[$u]:"fire-core",[eR]:"fire-core-compat",[nR]:"fire-analytics",[tR]:"fire-analytics-compat",[sR]:"fire-app-check",[rR]:"fire-app-check-compat",[iR]:"fire-auth",[oR]:"fire-auth-compat",[aR]:"fire-rtdb",[cR]:"fire-rtdb-compat",[lR]:"fire-fn",[uR]:"fire-fn-compat",[hR]:"fire-iid",[fR]:"fire-iid-compat",[dR]:"fire-fcm",[pR]:"fire-fcm-compat",[mR]:"fire-perf",[gR]:"fire-perf-compat",[_R]:"fire-rc",[yR]:"fire-rc-compat",[vR]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[IR]:"fire-fst-compat","fire-js":"fire-js",[wR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,ju=new Map;function RR(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ks(t){const e=t.name;if(ju.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;ju.set(e,t);for(const n of fc.values())RR(n,t);return!0}function _f(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},br=new Bo("app","Firebase",CR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=bR;function Fy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bu,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=Dy()),!n)throw br.create("no-options");const i=fc.get(s);if(i){if(hc(n,i.options)&&hc(r,i.config))return i;throw br.create("duplicate-app",{appName:s})}const o=new xA(s);for(const c of ju.values())o.addComponent(c);const a=new PR(n,r,o);return fc.set(s,a),a}function Vy(t=Bu){const e=fc.get(t);if(!e&&t===Bu&&Dy())return Fy();if(!e)throw br.create("no-app",{appName:t});return e}function Ar(t,e,n){var r;let s=(r=AR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(a.join(" "));return}Ks(new os(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-heartbeat-database",kR=1,ho="firebase-heartbeat-store";let Xl=null;function Uy(){return Xl||(Xl=zA(SR,kR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ho)}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Xl}async function OR(t){try{return await(await Uy()).transaction(ho).objectStore(ho).get($y(t))}catch(e){if(e instanceof er)as.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function Hp(t,e){try{const r=(await Uy()).transaction(ho,"readwrite");await r.objectStore(ho).put(e,$y(t)),await r.done}catch(n){if(n instanceof er)as.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function $y(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1024,DR=30*24*60*60*1e3;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Wp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=DR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wp(),{heartbeatsToSend:r,unsentEntries:s}=MR(this._heartbeatsCache.heartbeats),i=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Wp(){return new Date().toISOString().substring(0,10)}function MR(t,e=NR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Kp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Kp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await OR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kp(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t){Ks(new os("platform-logger",e=>new JA(e),"PRIVATE")),Ks(new os("heartbeat",e=>new LR(e),"PRIVATE")),Ar($u,qp,t),Ar($u,qp,"esm2017"),Ar("fire-js","")}FR("");var VR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,yf=yf||{},pe=VR||self;function Xc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function UR(t){return Object.prototype.hasOwnProperty.call(t,Jl)&&t[Jl]||(t[Jl]=++$R)}var Jl="closure_uid_"+(1e9*Math.random()>>>0),$R=0;function BR(t,e,n){return t.call.apply(t.bind,arguments)}function jR(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Lt=BR:Lt=jR,Lt.apply(null,arguments)}function va(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Dr(){this.s=this.s,this.o=this.o}var qR=0;Dr.prototype.s=!1;Dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),qR!=0)&&UR(this)};Dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const By=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Qp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Xc(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var HR=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",()=>{},e),pe.removeEventListener("test",()=>{},e)}catch{}return t}();function fo(t){return/^[\s\xa0]*$/.test(t)}function Jc(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function Rn(t){return Jc().indexOf(t)!=-1}function Ef(t){return Ef[" "](t),t}Ef[" "]=function(){};function WR(t,e){var n=FC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var KR=Rn("Opera"),Qs=Rn("Trident")||Rn("MSIE"),jy=Rn("Edge"),qu=jy||Qs,qy=Rn("Gecko")&&!(Jc().toLowerCase().indexOf("webkit")!=-1&&!Rn("Edge"))&&!(Rn("Trident")||Rn("MSIE"))&&!Rn("Edge"),QR=Jc().toLowerCase().indexOf("webkit")!=-1&&!Rn("Edge");function Hy(){var t=pe.document;return t?t.documentMode:void 0}var Hu;e:{var Zl="",eu=function(){var t=Jc();if(qy)return/rv:([^\);]+)(\)|;)/.exec(t);if(jy)return/Edge\/([\d\.]+)/.exec(t);if(Qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QR)return/WebKit\/(\S+)/.exec(t);if(KR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(eu&&(Zl=eu?eu[1]:""),Qs){var tu=Hy();if(tu!=null&&tu>parseFloat(Zl)){Hu=String(tu);break e}}Hu=Zl}var Wu;if(pe.document&&Qs){var Gp=Hy();Wu=Gp||parseInt(Hu,10)||void 0}else Wu=void 0;var GR=Wu;function po(t,e){if(Mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qy){e:{try{Ef(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:zR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&po.$.h.call(this)}}Et(po,Mt);var zR={2:"touch",3:"pen",4:"mouse"};po.prototype.h=function(){po.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ho="closure_listenable_"+(1e6*Math.random()|0),YR=0;function XR(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++YR,this.fa=this.ia=!1}function Zc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Tf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Wy(t){const e={};for(const n in t)e[n]=t[n];return e}const zp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ky(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<zp.length;i++)n=zp[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function el(t){this.src=t,this.g={},this.h=0}el.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Qu(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new XR(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Ku(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=By(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Zc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qu(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var If="closure_lm_"+(1e6*Math.random()|0),nu={};function Qy(t,e,n,r,s){if(r&&r.once)return zy(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Qy(t,e[i],n,r,s);return null}return n=Af(n),t&&t[Ho]?t.O(e,n,qo(r)?!!r.capture:!!r,s):Gy(t,e,n,!1,r,s)}function Gy(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=qo(s)?!!s.capture:!!s,a=bf(t);if(a||(t[If]=a=new el(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=ZR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)HR||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Xy(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZR(){function t(n){return e.call(t.src,t.listener,n)}const e=eC;return t}function zy(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)zy(t,e[i],n,r,s);return null}return n=Af(n),t&&t[Ho]?t.P(e,n,qo(r)?!!r.capture:!!r,s):Gy(t,e,n,!0,r,s)}function Yy(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Yy(t,e[i],n,r,s);else r=qo(r)?!!r.capture:!!r,n=Af(n),t&&t[Ho]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Qu(i,n,r,s),-1<n&&(Zc(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=bf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qu(e,n,r,s)),(n=-1<t?e[t]:null)&&wf(n))}function wf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ho])Ku(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xy(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bf(e))?(Ku(n,t),n.h==0&&(n.src=null,e[If]=null)):Zc(t)}}}function Xy(t){return t in nu?nu[t]:nu[t]="on"+t}function eC(t,e){if(t.fa)t=!0;else{e=new po(e,this);var n=t.listener,r=t.la||t.src;t.ia&&wf(t),t=n.call(r,e)}return t}function bf(t){return t=t[If],t instanceof el?t:null}var ru="__closure_events_fn_"+(1e9*Math.random()>>>0);function Af(t){return typeof t=="function"?t:(t[ru]||(t[ru]=function(e){return t.handleEvent(e)}),t[ru])}function vt(){Dr.call(this),this.i=new el(this),this.S=this,this.J=null}Et(vt,Dr);vt.prototype[Ho]=!0;vt.prototype.removeEventListener=function(t,e,n,r){Yy(this,t,e,n,r)};function bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Mt(e,t);else if(e instanceof Mt)e.target=e.target||t;else{var s=e;e=new Mt(r,t),Ky(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ea(o,r,!0,e)&&s}if(o=e.g=t,s=Ea(o,r,!0,e)&&s,s=Ea(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ea(o,r,!1,e)&&s}vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zc(n[r]);delete t.g[e],t.h--}}this.J=null};vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ea(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Ku(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Rf=pe.JSON.stringify;class tC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function nC(){var t=Cf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rC{constructor(){this.h=this.g=null}add(e,n){const r=Jy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Jy=new tC(()=>new sC,t=>t.reset());class sC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oC(t){pe.setTimeout(()=>{throw t},0)}let mo,go=!1,Cf=new rC,Zy=()=>{const t=pe.Promise.resolve(void 0);mo=()=>{t.then(aC)}};var aC=()=>{for(var t;t=nC();){try{t.h.call(t.g)}catch(n){oC(n)}var e=Jy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}go=!1};function tl(t,e){vt.call(this),this.h=t||1,this.g=e||pe,this.j=Lt(this.qb,this),this.l=Date.now()}Et(tl,vt);W=tl.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bt(this,"tick"),this.ga&&(Pf(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Pf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){tl.$.N.call(this),Pf(this),delete this.g};function Sf(t,e,n){if(typeof t=="function")n&&(t=Lt(t,n));else if(t&&typeof t.handleEvent=="function")t=Lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function ev(t){t.g=Sf(()=>{t.g=null,t.i&&(t.i=!1,ev(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class cC extends Dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ev(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(t){Dr.call(this),this.h=t,this.g={}}Et(_o,Dr);var Yp=[];function tv(t,e,n,r){Array.isArray(n)||(n&&(Yp[0]=n.toString()),n=Yp);for(var s=0;s<n.length;s++){var i=Qy(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function nv(t){Tf(t.g,function(e,n){this.g.hasOwnProperty(n)&&wf(e)},t),t.g={}}_o.prototype.N=function(){_o.$.N.call(this),nv(this)};_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nl(){this.g=!0}nl.prototype.Ea=function(){this.g=!1};function lC(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function uC(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+fC(t,n)+(r?" "+r:"")})}function hC(t,e){t.info(function(){return"TIMEOUT: "+e})}nl.prototype.info=function(){};function fC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Rf(n)}catch{return e}}var gs={},Xp=null;function rl(){return Xp=Xp||new vt}gs.Ta="serverreachability";function rv(t){Mt.call(this,gs.Ta,t)}Et(rv,Mt);function yo(t){const e=rl();bt(e,new rv(e))}gs.STAT_EVENT="statevent";function sv(t,e){Mt.call(this,gs.STAT_EVENT,t),this.stat=e}Et(sv,Mt);function Bt(t){const e=rl();bt(e,new sv(e,t))}gs.Ua="timingevent";function iv(t,e){Mt.call(this,gs.Ua,t),this.size=e}Et(iv,Mt);function Wo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var sl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ov={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kf(){}kf.prototype.h=null;function Jp(t){return t.h||(t.h=t.i())}function av(){}var Ko={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Of(){Mt.call(this,"d")}Et(Of,Mt);function Nf(){Mt.call(this,"c")}Et(Nf,Mt);var Gu;function il(){}Et(il,kf);il.prototype.g=function(){return new XMLHttpRequest};il.prototype.i=function(){return{}};Gu=new il;function Qo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _o(this),this.P=dC,t=qu?125:void 0,this.V=new tl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cv}function cv(){this.i=null,this.g="",this.h=!1}var dC=45e3,zu={},dc={};W=Qo.prototype;W.setTimeout=function(t){this.P=t};function Yu(t,e,n){t.L=1,t.v=al(zn(e)),t.s=n,t.S=!0,lv(t,null)}function lv(t,e){t.G=Date.now(),Go(t),t.A=zn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),_v(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cv,t.g=Vv(t.l,n?e:null,!t.s),0<t.O&&(t.M=new cC(Lt(t.Pa,t,t.g),t.O)),tv(t.U,t.g,"readystatechange",t.nb),e=t.I?Wy(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),yo(),lC(t.j,t.u,t.A,t.m,t.W,t.s)}W.nb=function(t){t=t.target;const e=this.M;e&&Cn(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const u=Cn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||qu||this.g&&(this.h.h||this.g.ja()||nm(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?yo(3):yo(2)),ol(this);var n=this.g.da();this.ca=n;t:if(uv(this)){var r=nm(this.g);t="";var s=r.length,i=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Gi(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,uC(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fo(a)){var l=a;break t}}l=null}if(n=l)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xu(this,n);else{this.i=!1,this.o=3,Bt(12),Jr(this),Gi(this);break e}}this.S?(hv(this,u,o),qu&&this.i&&u==3&&(tv(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,o,null),Xu(this,o)),u==4&&Jr(this),this.i&&!this.J&&(u==4?Lv(this.l,this):(this.i=!1,Go(this)))}else LC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bt(12)):(this.o=0,Bt(13)),Jr(this),Gi(this)}}}catch{}finally{}};function uv(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function hv(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=pC(t,n),s==dc){e==4&&(t.o=4,Bt(14),r=!1),ks(t.j,t.m,null,"[Incomplete Response]");break}else if(s==zu){t.o=4,Bt(15),ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ks(t.j,t.m,s,null),Xu(t,s);uv(t)&&s!=dc&&s!=zu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vf(e),e.M=!0,Bt(11))):(ks(t.j,t.m,n,"[Invalid Chunked Response]"),Jr(t),Gi(t))}W.mb=function(){if(this.g){var t=Cn(this.g),e=this.g.ja();this.C<e.length&&(ol(this),hv(this,t,e),this.i&&t!=4&&Go(this))}};function pC(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?dc:(n=Number(e.substring(n,r)),isNaN(n)?zu:(r+=1,r+n>e.length?dc:(e=e.slice(r,r+n),t.C=r+n,e)))}W.cancel=function(){this.J=!0,Jr(this)};function Go(t){t.Y=Date.now()+t.P,fv(t,t.P)}function fv(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Wo(Lt(t.lb,t),e)}function ol(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}W.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(hC(this.j,this.A),this.L!=2&&(yo(),Bt(17)),Jr(this),this.o=2,Gi(this)):fv(this,this.Y-t)};function Gi(t){t.l.H==0||t.J||Lv(t.l,t)}function Jr(t){ol(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Pf(t.V),nv(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Xu(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ju(n.i,t))){if(!t.K&&Ju(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)gc(n),ul(n);else break e;Ff(n),Bt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wo(Lt(n.ib,n),6e3));if(1>=Ev(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zr(n,11)}else if((t.K||n.g==t)&&gc(n),!fo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Df(i,i.h),i.h=null))}if(r.F){const E=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,He(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Fv(r,r.J?r.pa:null,r.Y),o.K){Tv(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(ol(a),Go(a)),r.g=o}else Nv(r);0<n.j.length&&hl(n)}else l[0]!="stop"&&l[0]!="close"||Zr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Zr(n,7):xf(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}yo(4)}catch{}}function mC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Xc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Xc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function dv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Xc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gC(t),r=mC(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var pv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _C(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function rs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rs){this.h=t.h,pc(this,t.j),this.s=t.s,this.g=t.g,mc(this,t.m),this.l=t.l;var e=t.i,n=new vo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Zp(this,n),this.o=t.o}else t&&(e=String(t).match(pv))?(this.h=!1,pc(this,e[1]||"",!0),this.s=Fi(e[2]||""),this.g=Fi(e[3]||"",!0),mc(this,e[4]),this.l=Fi(e[5]||"",!0),Zp(this,e[6]||"",!0),this.o=Fi(e[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}rs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vi(e,em,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vi(e,em,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Vi(n,n.charAt(0)=="/"?EC:vC,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vi(n,IC)),t.join("")};function zn(t){return new rs(t)}function pc(t,e,n){t.j=n?Fi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Zp(t,e,n){e instanceof vo?(t.i=e,wC(t.i,t.h)):(n||(e=Vi(e,TC)),t.i=new vo(e,t.h))}function He(t,e,n){t.i.set(e,n)}function al(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,yC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var em=/[#\/\?@]/g,vC=/[#\?:]/g,EC=/[#\?]/g,TC=/[#\?@]/g,IC=/#/g;function vo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lr(t){t.g||(t.g=new Map,t.h=0,t.i&&_C(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=vo.prototype;W.add=function(t,e){Lr(this),this.i=null,t=mi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function mv(t,e){Lr(t),e=mi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gv(t,e){return Lr(t),e=mi(t,e),t.g.has(e)}W.forEach=function(t,e){Lr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};W.ta=function(){Lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};W.Z=function(t){Lr(this);let e=[];if(typeof t=="string")gv(this,t)&&(e=e.concat(this.g.get(mi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return Lr(this),this.i=null,t=mi(this,t),gv(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function _v(t,e,n){mv(t,e),0<n.length&&(t.i=null,t.g.set(mi(t,e),vf(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function mi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wC(t,e){e&&!t.j&&(Lr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(mv(this,r),_v(this,s,n))},t)),t.j=e}var bC=class{constructor(t,e){this.g=t,this.map=e}};function yv(t){this.l=t||AC,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var AC=10;function vv(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ev(t){return t.h?1:t.g?t.g.size:0}function Ju(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Df(t,e){t.g?t.g.add(e):t.h=e}function Tv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yv.prototype.cancel=function(){if(this.i=Iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Iv(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return vf(t.i)}var RC=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function CC(){this.g=new RC}function PC(t,e,n){const r=n||"";try{dv(t,function(s,i){let o=s;qo(s)&&(o=Rf(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function SC(t,e){const n=new nl;if(pe.Image){const r=new Image;r.onload=va(Ta,n,r,"TestLoadImage: loaded",!0,e),r.onerror=va(Ta,n,r,"TestLoadImage: error",!1,e),r.onabort=va(Ta,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=va(Ta,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ta(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function zo(t){this.l=t.ec||null,this.j=t.ob||!1}Et(zo,kf);zo.prototype.g=function(){return new cl(this.l,this.j)};zo.prototype.i=function(t){return function(){return t}}({});function cl(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Lf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(cl,vt);var Lf=0;W=cl.prototype;W.open=function(t,e){if(this.readyState!=Lf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Eo(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=Lf};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wv(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wv(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yo(this):Eo(this),this.readyState==3&&wv(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,Yo(this))};W.Ya=function(t){this.g&&(this.response=t,Yo(this))};W.ka=function(){this.g&&Yo(this)};function Yo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Eo(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Eo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kC=pe.JSON.parse;function et(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bv,this.L=this.M=!1}Et(et,vt);var bv="",OC=/^https?$/i,NC=["POST","PUT"];W=et.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gu.g(),this.C=this.u?Jp(this.u):Jp(Gu),this.g.onreadystatechange=Lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){tm(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=pe.FormData&&t instanceof pe.FormData,!(0<=By(NC,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Cv(this),0<this.B&&((this.L=DC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.ua,this)):this.A=Sf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){tm(this,i)}};function DC(t){return Qs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof yf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function tm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Av(t),ll(t)}function Av(t){t.F||(t.F=!0,bt(t,"complete"),bt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),ll(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ll(this,!0)),et.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?Rv(this):this.kb())};W.kb=function(){Rv(this)};function Rv(t){if(t.h&&typeof yf<"u"&&(!t.C[1]||Cn(t)!=4||t.da()!=2)){if(t.v&&Cn(t)==4)Sf(t.La,0,t);else if(bt(t,"readystatechange"),Cn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(pv)[1]||null;!s&&pe.self&&pe.self.location&&(s=pe.self.location.protocol.slice(0,-1)),r=!OC.test(s?s.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var i=2<Cn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Av(t)}}finally{ll(t)}}}}function ll(t,e){if(t.g){Cv(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Cv(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function Cn(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kC(e)}};function nm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function LC(t){const e={};t=(t.g&&2<=Cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(fo(t[r]))continue;var n=iC(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}JR(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Pv(t){let e="";return Tf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Mf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function Pi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sv(t){this.Ga=0,this.j=[],this.l=new nl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pi("baseRetryDelayMs",5e3,t),this.hb=Pi("retryDelaySeedMs",1e4,t),this.eb=Pi("forwardChannelMaxRetries",2,t),this.xa=Pi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yv(t&&t.concurrentRequestLimit),this.Ja=new CC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=Sv.prototype;W.ra=8;W.H=1;function xf(t){if(kv(t),t.H==3){var e=t.W++,n=zn(t.I);if(He(n,"SID",t.K),He(n,"RID",e),He(n,"TYPE","terminate"),Xo(t,n),e=new Qo(t,t.l,e),e.L=2,e.v=al(zn(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=Vv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Go(e)}xv(t)}function ul(t){t.g&&(Vf(t),t.g.cancel(),t.g=null)}function kv(t){ul(t),t.u&&(pe.clearTimeout(t.u),t.u=null),gc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function hl(t){if(!vv(t.i)&&!t.m){t.m=!0;var e=t.Na;mo||Zy(),go||(mo(),go=!0),Cf.add(e,t),t.C=0}}function MC(t,e){return Ev(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wo(Lt(t.Na,t,e),Mv(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Qo(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Wy(i),Ky(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ov(this,s,e),n=zn(this.I),He(n,"RID",t),He(n,"CVER",22),this.F&&He(n,"X-HTTP-Session-Id",this.F),Xo(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Pv(i)))+"&"+e:this.o&&Mf(n,this.o,i)),Df(this.i,s),this.bb&&He(n,"TYPE","init"),this.P?(He(n,"$req",e),He(n,"SID","null"),s.aa=!0,Yu(s,n,null)):Yu(s,n,e),this.H=2}}else this.H==3&&(t?rm(this,t):this.j.length==0||vv(this.i)||rm(this))};function rm(t,e){var n;e?n=e.m:n=t.W++;const r=zn(t.I);He(r,"SID",t.K),He(r,"RID",n),He(r,"AID",t.V),Xo(t,r),t.o&&t.s&&Mf(r,t.o,t.s),n=new Qo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ov(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Df(t.i,n),Yu(n,r,e)}function Xo(t,e){t.na&&Tf(t.na,function(n,r){He(e,r,n)}),t.h&&dv({},function(n,r){He(e,r,n)})}function Ov(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Lt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{PC(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Nv(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;mo||Zy(),go||(mo(),go=!0),Cf.add(e,t),t.A=0}}function Ff(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wo(Lt(t.Ma,t),Mv(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,Dv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wo(Lt(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bt(10),ul(this),Dv(this))};function Vf(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function Dv(t){t.g=new Qo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=zn(t.wa);He(e,"RID","rpc"),He(e,"SID",t.K),He(e,"AID",t.V),He(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&He(e,"TO",t.qa),He(e,"TYPE","xmlhttp"),Xo(t,e),t.o&&t.s&&Mf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=al(zn(e)),n.s=null,n.S=!0,lv(n,t)}W.ib=function(){this.v!=null&&(this.v=null,ul(this),Ff(this),Bt(19))};function gc(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function Lv(t,e){var n=null;if(t.g==e){gc(t),Vf(t),t.g=null;var r=2}else if(Ju(t.i,e))n=e.F,Tv(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=rl(),bt(r,new iv(r,n)),hl(t)}else Nv(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&MC(t,e)||r==2&&Ff(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Zr(t,5);break;case 4:Zr(t,10);break;case 3:Zr(t,6);break;default:Zr(t,2)}}}function Mv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Lt(t.pb,t);n||(n=new rs("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||pc(n,"https"),al(n)),SC(n.toString(),r)}else Bt(2);t.H=0,t.h&&t.h.za(e),xv(t),kv(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bt(2)):(this.l.info("Failed to ping google.com"),Bt(1))};function xv(t){if(t.H=0,t.ma=[],t.h){const e=Iv(t.i);(e.length!=0||t.j.length!=0)&&(Qp(t.ma,e),Qp(t.ma,t.j),t.i.i.length=0,vf(t.j),t.j.length=0),t.h.ya()}}function Fv(t,e,n){var r=n instanceof rs?zn(n):new rs(n);if(r.g!="")e&&(r.g=e+"."+r.g),mc(r,r.m);else{var s=pe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new rs(null);r&&pc(i,r),e&&(i.g=e),s&&mc(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&He(r,n,e),He(r,"VER",t.ra),Xo(t,r),r}function Vv(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new et(new zo({ob:!0})):new et(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function Uv(){}W=Uv.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function _c(){if(Qs&&!(10<=Number(GR)))throw Error("Environmental error: no available transport.")}_c.prototype.g=function(t,e){return new Zt(t,e)};function Zt(t,e){vt.call(this),this.g=new Sv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gi(this)}Et(Zt,vt);Zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Fv(t,null,t.Y),hl(t)};Zt.prototype.close=function(){xf(this.g)};Zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Rf(t),t=n);e.j.push(new bC(e.fb++,t)),e.H==3&&hl(e)};Zt.prototype.N=function(){this.g.h=null,delete this.j,xf(this.g),delete this.g,Zt.$.N.call(this)};function $v(t){Of.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Et($v,Of);function Bv(){Nf.call(this),this.status=1}Et(Bv,Nf);function gi(t){this.g=t}Et(gi,Uv);gi.prototype.Ba=function(){bt(this.g,"a")};gi.prototype.Aa=function(t){bt(this.g,new $v(t))};gi.prototype.za=function(t){bt(this.g,new Bv)};gi.prototype.ya=function(){bt(this.g,"b")};function xC(){this.blockSize=-1}function mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Et(mn,xC);mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function su(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}mn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)su(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){su(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){su(this,r),s=0;break}}this.h=s,this.i+=e};mn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var FC={};function Uf(t){return-128<=t&&128>t?WR(t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Pn(t){if(isNaN(t)||!isFinite(t))return Fs;if(0>t)return It(Pn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zu;return new xe(e,0)}function jv(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return It(jv(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pn(Math.pow(e,8)),r=Fs,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Pn(Math.pow(e,i)),r=r.R(i).add(Pn(o))):(r=r.R(n),r=r.add(Pn(o)))}return r}var Zu=4294967296,Fs=Uf(0),eh=Uf(1),sm=Uf(16777216);W=xe.prototype;W.ea=function(){if(rn(this))return-It(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zu+r)*e,e*=Zu}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jn(this))return"0";if(rn(this))return"-"+It(this).toString(t);for(var e=Pn(Math.pow(t,6)),n=this,r="";;){var s=vc(n,e).g;n=yc(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,jn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function rn(t){return t.h==-1}W.X=function(t){return t=yc(this,t),rn(t)?-1:jn(t)?0:1};function It(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(eh)}W.abs=function(){return rn(this)?It(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function yc(t,e){return t.add(It(e))}W.R=function(t){if(jn(this)||jn(t))return Fs;if(rn(this))return rn(t)?It(this).R(It(t)):It(It(this).R(t));if(rn(t))return It(this.R(It(t)));if(0>this.X(sm)&&0>t.X(sm))return Pn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,Ia(n,2*r+2*s),n[2*r+2*s+1]+=i*c,Ia(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ia(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ia(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function Ia(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Si(t,e){this.g=t,this.h=e}function vc(t,e){if(jn(e))throw Error("division by zero");if(jn(t))return new Si(Fs,Fs);if(rn(t))return e=vc(It(t),e),new Si(It(e.g),It(e.h));if(rn(e))return e=vc(t,It(e)),new Si(It(e.g),e.h);if(30<t.g.length){if(rn(t)||rn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=eh,r=e;0>=r.X(t);)n=im(n),r=im(r);var s=bs(n,1),i=bs(r,1);for(r=bs(r,2),n=bs(n,2);!jn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=bs(r,1),n=bs(n,1)}return e=yc(t,s.R(e)),new Si(s,e)}for(s=Fs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Pn(n),o=i.R(e);rn(o)||0<o.X(t);)n-=r,i=Pn(n),o=i.R(e);jn(i)&&(i=eh),s=s.add(i),t=yc(t,o)}return new Si(s,t)}W.gb=function(t){return vc(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function im(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function bs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new xe(s,t.h)}_c.prototype.createWebChannel=_c.prototype.g;Zt.prototype.send=Zt.prototype.u;Zt.prototype.open=Zt.prototype.m;Zt.prototype.close=Zt.prototype.close;sl.NO_ERROR=0;sl.TIMEOUT=8;sl.HTTP_ERROR=6;ov.COMPLETE="complete";av.EventType=Ko;Ko.OPEN="a";Ko.CLOSE="b";Ko.ERROR="c";Ko.MESSAGE="d";vt.prototype.listen=vt.prototype.O;et.prototype.listenOnce=et.prototype.P;et.prototype.getLastError=et.prototype.Sa;et.prototype.getLastErrorCode=et.prototype.Ia;et.prototype.getStatus=et.prototype.da;et.prototype.getResponseJson=et.prototype.Wa;et.prototype.getResponseText=et.prototype.ja;et.prototype.send=et.prototype.ha;et.prototype.setWithCredentials=et.prototype.Oa;mn.prototype.digest=mn.prototype.l;mn.prototype.reset=mn.prototype.reset;mn.prototype.update=mn.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Pn;xe.fromString=jv;var VC=function(){return new _c},UC=function(){return rl()},iu=sl,$C=ov,BC=gs,om={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jC=zo,wa=av,qC=et,HC=mn,Vs=xe;const am="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _i="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new mf("@firebase/firestore");function ki(){return cs.logLevel}function J(t,...e){if(cs.logLevel<=Ae.DEBUG){const n=e.map($f);cs.debug(`Firestore (${_i}): ${t}`,...n)}}function Yn(t,...e){if(cs.logLevel<=Ae.ERROR){const n=e.map($f);cs.error(`Firestore (${_i}): ${t}`,...n)}}function Gs(t,...e){if(cs.logLevel<=Ae.WARN){const n=e.map($f);cs.warn(`Firestore (${_i}): ${t}`,...n)}}function $f(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${_i}) INTERNAL ASSERTION FAILED: `+t;throw Yn(e),new Error(e)}function Qe(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class KC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new qv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Ot(e)}}class GC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new YC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=JC(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ut(0,0))}static max(){return new ge(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return To.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof To?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class We extends To{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends To{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return ZC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new z(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new z(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new z(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new z(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(We.fromString(e))}static fromName(e){return new oe(We.fromString(e).popFirst(5))}static empty(){return new oe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new We(e.slice()))}}function eP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Sr(s,oe.empty(),e)}function tP(t){return new Sr(t.readTime,t.key,-1)}class Sr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Sr(ge.min(),oe.empty(),-1)}static max(){return new Sr(ge.max(),oe.empty(),-1)}}function nP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==rP)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Bf._e=-1;function fl(t){return t==null}function Ec(t){return t===0&&1/t==-1/0}function iP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}}class ba{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=s??Tt.EMPTY,this.right=i??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Tt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lm(this.data.getIterator())}getIteratorFrom(e){return new lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new At(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Kv("Invalid base64 string: "+i):i}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=oP.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qf(t){const e=t.mapValue.fields.__previous_value__;return jf(e)?qf(e):e}function Io(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class wo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jf(t)?4:cP(t)?9007199254740991:10:fe()}function Mn(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Io(t).isEqual(Io(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=kr(s.timestampValue),a=kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ls(s.bytesValue).isEqual(ls(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?Ec(o)===Ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(cm(o)!==cm(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Mn(o[c],a[c])))return!1;return!0}(t,e);default:return fe()}}function bo(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=us(t),r=us(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),c=st(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return um(t.timestampValue,e.timestampValue);case 4:return um(Io(t),Io(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ls(i),c=ls(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ne(a[l],c[l]);if(u!==0)return u}return Ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ne(st(i.latitude),st(o.latitude));return a!==0?a:Ne(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Ys(a[l],c[l]);if(u)return u}return Ne(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Aa.mapValue&&o===Aa.mapValue)return 0;if(i===Aa.mapValue)return 1;if(o===Aa.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Ne(c[h],u[h]);if(f!==0)return f;const m=Ys(a[c[h]],l[u[h]]);if(m!==0)return m}return Ne(c.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function um(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=kr(t),r=kr(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function Xs(t){return th(t)}function th(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=th(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${th(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function hm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nh(t){return!!t&&"integerValue"in t}function Hf(t){return!!t&&"arrayValue"in t}function fm(t){return!!t&&"nullValue"in t}function dm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $a(t){return!!t&&"mapValue"in t}function zi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$a(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zi(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=zi(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$a(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$a(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wt(zi(this.value))}}function Qv(t){const e=[];return _s(t.fields,(n,r)=>{const s=new wt([n]);if($a(r)){const i=Qv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ge.min(),ge.min(),ge.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,s){return new Nt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,ge.min(),ge.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ge.min(),ge.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.position=e,this.inclusive=n}}function pm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n="asc"){this.field=e,this.dir=n}}function lP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{}class ot extends Gv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hP(e,n,r):n==="array-contains"?new pP(e,r):n==="in"?new mP(e,r):n==="not-in"?new gP(e,r):n==="array-contains-any"?new _P(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fP(e,r):new dP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends Gv{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new gn(e,n)}matches(e){return zv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zv(t){return t.op==="and"}function Yv(t){return uP(t)&&zv(t)}function uP(t){for(const e of t.filters)if(e instanceof gn)return!1;return!0}function rh(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(Yv(t))return t.filters.map(e=>rh(e)).join(",");{const e=t.filters.map(n=>rh(n)).join(",");return`${t.op}(${e})`}}function Xv(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)}(t,e):t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Xv(o,s.filters[a]),!0):!1}(t,e):void fe()}function Jv(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(Jv).join(" ,")+"}"}(t):"Filter"}class hP extends ot{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class fP extends ot{constructor(e,n){super(e,"in",n),this.keys=Zv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dP extends ot{constructor(e,n){super(e,"not-in",n),this.keys=Zv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class pP extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hf(n)&&bo(n.arrayValue,this.value)}}class mP extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bo(this.value.arrayValue,n)}}class gP extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bo(this.value.arrayValue,n)}}class _P extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function gm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new yP(t,e,n,r,s,i,o)}function Wf(t){const e=ye(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ce=n}return e.ce}function Kf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mm(t.startAt,e.startAt)&&mm(t.endAt,e.endAt)}function sh(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function vP(t,e,n,r,s,i,o,a){return new yi(t,e,n,r,s,i,o,a)}function Qf(t){return new yi(t)}function _m(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eE(t){return t.collectionGroup!==null}function Yi(t){const e=ye(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(wt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Ao(i,r))}),n.has(wt.keyField().canonicalString())||e.le.push(new Ao(wt.keyField(),r))}return e.le}function kn(t){const e=ye(t);return e.he||(e.he=EP(e,Yi(t))),e.he}function EP(t,e){if(t.limitType==="F")return gm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ao(s.field,i)});const n=t.endAt?new Tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tc(t.startAt.position,t.startAt.inclusive):null;return gm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ih(t,e){const n=t.filters.concat([e]);return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oh(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dl(t,e){return Kf(kn(t),kn(e))&&t.limitType===e.limitType}function tE(t){return`${Wf(kn(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Jv(s)).join(", ")}]`),fl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xs(s)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function pl(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=pm(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Yi(r),s)||r.endAt&&!function(o,a,c){const l=pm(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Yi(r),s))}(t,e)}function TP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nE(t){return(e,n)=>{let r=!1;for(const s of Yi(t)){const i=IP(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function IP(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?Ys(c,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Ye(oe.comparator);function Xn(){return wP}const rE=new Ye(oe.comparator);function Ui(...t){let e=rE;for(const n of t)e=e.insert(n.key,n);return e}function sE(t){let e=rE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return Xi()}function iE(){return Xi()}function Xi(){return new vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const bP=new Ye(oe.comparator),AP=new At(oe.comparator);function be(...t){let e=AP;for(const n of t)e=e.add(n);return e}const RP=new At(Ne);function CP(){return RP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function aE(t){return{integerValue:""+t}}function PP(t,e){return iP(e)?aE(e):oE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this._=void 0}}function SP(t,e,n){return t instanceof Ic?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&jf(i)&&(i=qf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ro?lE(t,e):t instanceof Co?uE(t,e):function(s,i){const o=cE(s,i),a=ym(o)+ym(s.Ie);return nh(o)&&nh(s.Ie)?aE(a):oE(s.serializer,a)}(t,e)}function kP(t,e,n){return t instanceof Ro?lE(t,e):t instanceof Co?uE(t,e):n}function cE(t,e){return t instanceof wc?function(r){return nh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ic extends ml{}class Ro extends ml{constructor(e){super(),this.elements=e}}function lE(t,e){const n=hE(e);for(const r of t.elements)n.some(s=>Mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends ml{constructor(e){super(),this.elements=e}}function uE(t,e){let n=hE(e);for(const r of t.elements)n=n.filter(s=>!Mn(s,r));return{arrayValue:{values:n}}}class wc extends ml{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ym(t){return st(t.integerValue||t.doubleValue)}function hE(t){return Hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OP(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ro&&s instanceof Ro||r instanceof Co&&s instanceof Co?zs(r.elements,s.elements,Mn):r instanceof wc&&s instanceof wc?Mn(r.Ie,s.Ie):r instanceof Ic&&s instanceof Ic}(t.transform,e.transform)}class NP{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ba(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gl{}function fE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gf(t.key,ln.none()):new ea(t.key,t.data,ln.none());{const n=t.data,r=Wt.empty();let s=new At(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Mr(t.key,r,new Jt(s.toArray()),ln.none())}}function DP(t,e,n){t instanceof ea?function(s,i,o){const a=s.value.clone(),c=Em(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(s,i,o){if(!Ba(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Em(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(dE(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ji(t,e,n,r){return t instanceof ea?function(i,o,a,c){if(!Ba(i.precondition,o))return a;const l=i.value.clone(),u=Tm(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mr?function(i,o,a,c){if(!Ba(i.precondition,o))return a;const l=Tm(i.fieldTransforms,c,o),u=o.data;return u.setAll(dE(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Ba(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LP(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cE(r.transform,s||null);i!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function vm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zs(r,s,(i,o)=>OP(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ea extends gl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Mr extends gl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Em(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,kP(o,a,n[s]))}return r}function Tm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,SP(i,o,e))}return r}class Gf extends gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MP extends gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&DP(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ji(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ji(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=fE(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>vm(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>vm(n,r))}}class zf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return bP}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new zf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ce;function UP(t){switch(t){default:return fe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function pE(t){if(t===void 0)return Yn("GRPC error has no .code"),M.UNKNOWN;switch(t){case rt.OK:return M.OK;case rt.CANCELLED:return M.CANCELLED;case rt.UNKNOWN:return M.UNKNOWN;case rt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case rt.INTERNAL:return M.INTERNAL;case rt.UNAVAILABLE:return M.UNAVAILABLE;case rt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case rt.NOT_FOUND:return M.NOT_FOUND;case rt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case rt.ABORTED:return M.ABORTED;case rt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case rt.DATA_LOSS:return M.DATA_LOSS;default:return fe()}}(Ce=rt||(rt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new Vs([4294967295,4294967295],0);function Im(t){const e=$P().encode(t),n=new HC;return n.update(e),new Uint8Array(n.digest())}function wm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([s,i],0)]}class Yf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $i(`Invalid padding: ${n}`);if(r<0)throw new $i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $i(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $i(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Vs.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Vs.fromNumber(r)));return s.compare(BP)===1&&(s=new Vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Im(e),[r,s]=wm(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yf(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Im(e),[r,s]=wm(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $i extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _l(ge.min(),s,new Ye(Ne),Xn(),be())}}class ta{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ta(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class mE{constructor(e,n){this.targetId=e,this.fe=n}}class gE{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bm{constructor(){this.ge=0,this.pe=Rm(),this.ye=Ft.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=be(),n=be(),r=be();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new ta(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Rm()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class jP{constructor(e){this.Le=e,this.ke=new Map,this.qe=Xn(),this.Qe=Am(),this.Ke=new Ye(Ne)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(sh(i))if(r===0){const o=new oe(i.path);this.We(n,o,Nt.newNoDocument(o,ge.min()))}else Qe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ls(r).toUint8Array()}catch(c){if(c instanceof Kv)return Gs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Yf(o,s,i)}catch(c){return Gs(c instanceof $i?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&sh(a.target)){const c=new oe(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Nt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=be();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new _l(e,n,this.Ke,this.qe,r);return this.qe=Xn(),this.Qe=Am(),this.Ke=new Ye(Ne),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new bm,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new At(Ne),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new bm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Am(){return new Ye(oe.comparator)}function Rm(){return new Ye(oe.comparator)}const qP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),HP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WP=(()=>({and:"AND",or:"OR"}))();class KP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ah(t,e){return t.useProto3Json||fl(e)?e:{value:e}}function bc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QP(t,e){return bc(t,e.toTimestamp())}function On(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=kr(n);return new ut(r.seconds,r.nanos)}(t))}function Xf(t,e){return function(r){return new We(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function yE(t){const e=We.fromString(t);return Qe(IE(e)),e}function ch(t,e){return Xf(t.databaseId,e.path)}function ou(t,e){const n=yE(e);if(n.get(1)!==t.databaseId.projectId)throw new z(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(vE(n))}function lh(t,e){return Xf(t.databaseId,e)}function GP(t){const e=yE(t);return e.length===4?We.emptyPath():vE(e)}function uh(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vE(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Cm(t,e,n){return{name:ch(t,e),fields:n.value.mapValue.fields}}function zP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Qe(u===void 0||typeof u=="string"),Ft.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Uint8Array),Ft.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?M.UNKNOWN:pE(l.code);return new z(u,l.message||"")}(o);n=new gE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ou(t,r.document.name),i=On(r.document.updateTime),o=r.document.createTime?On(r.document.createTime):ge.min(),a=new Wt({mapValue:{fields:r.document.fields}}),c=Nt.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new ja(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ou(t,r.document),i=r.readTime?On(r.readTime):ge.min(),o=Nt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ja([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ou(t,r.document),i=r.removedTargetIds||[];n=new ja([],i,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new VP(s,i),a=r.targetId;n=new mE(a,o)}}return n}function YP(t,e){let n;if(e instanceof ea)n={update:Cm(t,e.key,e.value)};else if(e instanceof Gf)n={delete:ch(t,e.key)};else if(e instanceof Mr)n={update:Cm(t,e.key,e.data),updateMask:iS(e.fieldMask)};else{if(!(e instanceof MP))return fe();n={verify:ch(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:QP(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function XP(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?On(s.updateTime):On(i);return o.isEqual(ge.min())&&(o=On(i)),new NP(o,s.transformResults||[])}(n,e))):[]}function JP(t,e){return{documents:[lh(t,e.path)]}}function ZP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=lh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(c){if(c.length!==0)return TE(gn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(c){if(c.length!==0)return c.map(l=>function(h){return{field:Rs(h.field),direction:nS(h.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=ah(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function eS(t){let e=GP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=EE(h);return f instanceof gn&&Yv(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Ao(Cs(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,fl(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,m=h.values||[];return new Tc(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,m=h.values||[];return new Tc(m,f)}(n.endAt)),vP(e,s,o,i,a,"F",c,l)}function tS(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cs(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Cs(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cs(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cs(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Cs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>EE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function nS(t){return qP[t]}function rS(t){return HP[t]}function sS(t){return WP[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Cs(t){return wt.fromServerFormat(t.fieldPath)}function TE(t){return t instanceof ot?function(n){if(n.op==="=="){if(dm(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(fm(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dm(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(fm(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:rS(n.op),value:n.value}}}(t):t instanceof gn?function(n){const r=n.getFilters().map(s=>TE(s));return r.length===1?r[0]:{compositeFilter:{op:sS(n.op),filters:r}}}(t):fe()}function iS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.ut=e}}function aS(t){const e=eS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.on=new lS}addToCollectionParentIndex(e,n){return this.on.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Sr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class lS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Js(0)}static Nn(){return new Js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.changes=new vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ji(r.mutation,s,Jt.empty(),ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=es();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ui();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Xn();const o=Xi(),a=function(){return Xi()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Mr)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Ji(u.mutation,l,u.mutation.getFieldMask(),ut.now())):o.set(l.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new hS(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xi();let s=new Ye((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Jt.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||be()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=iE();u.forEach(f=>{if(!i.has(f)){const m=fE(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(es());let a=-1,c=i;return o.next(l=>F.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?F.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,be())).next(u=>({batchId:a,changes:sE(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=Ui();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ui();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,c=>{const l=function(h,f){return new yi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Nt.newInvalidDocument(u)))});let a=Ui();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&Ji(u.mutation,l,Jt.empty(),ut.now()),pl(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return F.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:On(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:aS(s.bundledQuery),readTime:On(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new Ye(oe.comparator),this.lr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=es(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ye((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=es(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=es(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return F.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FP(n,r));let i=this.lr.get(n);i===void 0&&(i=be(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this.hr=new At(pt.Pr),this.Ir=new At(pt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new pt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new oe(new We([])),r=new pt(n,e),s=new pt(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new oe(new We([])),r=new pt(n,e),s=new pt(n,e+1);let i=be();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return oe.comparator(e.key,n.key)||Ne(e.gr,n.gr)}static Tr(e,n){return Ne(e.gr,n.gr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new At(pt.Pr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xP(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),s=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ne);return n.forEach(s=>{const i=new pt(s,0),o=new pt(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),F.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new pt(new oe(i),0);let a=new At(Ne);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.gr)),!0)},o),F.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return F.forEach(n.mutations,s=>{const i=new pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new pt(n,0),s=this.yr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Cr=e,this.docs=function(){return new Ye(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xn();const o=n.path,a=new oe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||nP(tP(u),r)<=0||(s.has(u.key)||pl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}vr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _S(this)}getSize(e){return F.resolve(this.size)}}class _S extends uS{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.persistence=e,this.Fr=new vi(n=>Wf(n),Kf),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Jf,this.targetCount=0,this.Nr=Js.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),F.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.kn(n),F.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Bf(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new yS(this),this.indexManager=new cS,this.remoteDocumentCache=function(s){return new gS(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oS(n),this.Kr=new dS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new mS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new ES(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return F.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ES extends sP{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Gr=new Jf,this.zr=null}static jr(e){return new Zf(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Hr,r=>{const s=oe.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return F.or([()=>F.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ed(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new TS;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(ki()<=Ae.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),F.resolve()):(ki()<=Ae.DEBUG&&J("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(ki()<=Ae.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):F.resolve())}zi(e,n){if(_m(n))return F.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=oh(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=be(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,oh(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,s){return _m(n)||s.isEqual(ge.min())?F.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?F.resolve(null):(ki()<=Ae.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),As(n)),this.Xi(e,o,n,eP(s,-1)).next(a=>a))})}Yi(e,n){let r=new At(nE(e));return n.forEach((s,i)=>{pl(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return ki()<=Ae.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",As(n)),this.Gi.getDocumentsMatchingQuery(e,n,Sr.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ye(Ne),this.ns=new vi(i=>Wf(i),Kf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function bS(t,e,n,r){return new wS(t,e,n,r)}async function wE(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=be();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function AS(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,f=h.keys();let m=F.resolve();return f.forEach(v=>{m=m.next(()=>u.getEntry(c,v)).next(E=>{const w=l.docVersions.get(v);Qe(w!==null),E.version.compareTo(w)<0&&(h.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=be();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bE(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function RS(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Ft.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(E,w,g){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,u)&&a.push(n.qr.updateTargetData(i,m))});let c=Xn(),l=be();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(CS(i,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.ts=s,i))}function CS(t,e,n){let r=be(),s=be();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Xn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:s}})}function PS(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SS(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function hh(t,e,n){const r=ye(t),s=r.ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Zo(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function Pm(t,e,n){const r=ye(t);let s=ge.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=ye(c),f=h.ns.get(u);return f!==void 0?F.resolve(h.ts.get(f)):h.qr.getTargetData(l,u)}(r,o,kn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:be())).next(a=>(kS(r,TP(e),a),{documents:a,ls:i})))}function kS(t,e,n){let r=t.rs.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.rs.set(e,r)}class Sm{constructor(){this.activeTargetIds=CP()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OS{constructor(){this.eo=new Sm,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Sm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=null;function au(){return Ra===null?Ra=function(){return 268435456+Math.round(2147483648*Math.random())}():Ra++,"0x"+Ra.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class MS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=au(),c=this.So(n,r);J("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,i,o),this.Do(n,c,l,s).then(u=>(J("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Gs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=DS[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=au();return new Promise((o,a)=>{const c=new qC;c.setWithCredentials(!0),c.listenOnce($C.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case iu.NO_ERROR:const u=c.getResponseJson();J(St,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case iu.TIMEOUT:J(St,`RPC '${e}' ${i} timed out`),a(new z(M.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:const h=c.getStatus();if(J(St,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(g)>=0?g:M.UNKNOWN}(m.status);a(new z(v,m.message))}else a(new z(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new z(M.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{J(St,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);J(St,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}vo(e,n,r){const s=au(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VC(),a=UC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new jC({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");J(St,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,m=!1;const v=new LS({co:w=>{m?J(St,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(f||(J(St,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),J(St,`RPC '${e}' stream ${s} sending:`,w),h.send(w))},lo:()=>h.close()}),E=(w,g,I)=>{w.listen(g,A=>{try{I(A)}catch(T){setTimeout(()=>{throw T},0)}})};return E(h,wa.EventType.OPEN,()=>{m||J(St,`RPC '${e}' stream ${s} transport opened.`)}),E(h,wa.EventType.CLOSE,()=>{m||(m=!0,J(St,`RPC '${e}' stream ${s} transport closed`),v.Ro())}),E(h,wa.EventType.ERROR,w=>{m||(m=!0,Gs(St,`RPC '${e}' stream ${s} transport errored:`,w),v.Ro(new z(M.UNAVAILABLE,"The operation could not be completed")))}),E(h,wa.EventType.MESSAGE,w=>{var g;if(!m){const I=w.data[0];Qe(!!I);const A=I,T=A.error||((g=A[0])===null||g===void 0?void 0:g.error);if(T){J(St,`RPC '${e}' stream ${s} received error:`,T);const P=T.status;let k=function(N){const V=rt[N];if(V!==void 0)return pE(V)}(P),S=T.message;k===void 0&&(k=M.INTERNAL,S="Unknown error status: "+P+" with message "+T.message),m=!0,v.Ro(new z(k,S)),h.close()}else J(St,`RPC '${e}' stream ${s} received:`,I),v.Vo(I)}}),E(a,BC.STAT_EVENT,w=>{w.stat===om.PROXY?J(St,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===om.NOPROXY&&J(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.Ao()},0),v}}function cu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){return new KP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,s,i,o,a,c){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new AE(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new z(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xS extends RE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=zP(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?On(o.readTime):ge.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=uh(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=sh(c)?{documents:JP(i,c)}:{query:ZP(i,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_E(i,o.resumeToken);const l=ah(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=bc(i,o.snapshotVersion.toTimestamp());const l=ah(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=tS(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=uh(this.serializer),n.removeTarget=e,this.e_(n)}}class FS extends RE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=XP(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.I_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=uh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YP(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new z(M.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(M.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(M.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class US{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yn(n),this.f_=!1):J("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ys(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=ye(c);l.C_.add(4),await na(l),l.M_.set("Unknown"),l.C_.delete(4),await vl(l)}(this))})}),this.M_=new US(r,s)}}async function vl(t){if(ys(t))for(const e of t.v_)await e(!0)}async function na(t){for(const e of t.v_)await e(!1)}function CE(t,e){const n=ye(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),rd(n)?nd(n):Ei(n).Ho()&&td(n,e))}function PE(t,e){const n=ye(t),r=Ei(n);n.D_.delete(e),r.Ho()&&SE(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ys(n)&&n.M_.set("Unknown"))}function td(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ei(t).u_(e)}function SE(t,e){t.x_.Oe(e),Ei(t).c_(e)}function nd(t){t.x_=new jP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ei(t).start(),t.M_.g_()}function rd(t){return ys(t)&&!Ei(t).jo()&&t.D_.size>0}function ys(t){return ye(t).C_.size===0}function kE(t){t.x_=void 0}async function BS(t){t.D_.forEach((e,n)=>{td(t,e)})}async function jS(t,e){kE(t),rd(t)?(t.M_.w_(e),nd(t)):t.M_.set("Unknown")}async function qS(t,e,n){if(t.M_.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.D_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.D_.delete(a),s.x_.removeTarget(a))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ac(t,r)}else if(e instanceof ja?t.x_.$e(e):e instanceof mE?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ge.min()))try{const r=await bE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.D_.get(l);u&&i.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.D_.get(c);if(!u)return;i.D_.set(c,u.withResumeToken(Ft.EMPTY_BYTE_STRING,u.snapshotVersion)),SE(i,c);const h=new yr(u.target,c,l,u.sequenceNumber);td(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Ac(t,r)}}async function Ac(t,e,n){if(!Zo(e))throw e;t.C_.add(1),await na(t),t.M_.set("Offline"),n||(n=()=>bE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await vl(t)})}function OE(t,e){return e().catch(n=>Ac(t,n,e))}async function El(t){const e=ye(t),n=Or(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;HS(e);)try{const s=await PS(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,WS(e,s)}catch(s){await Ac(e,s)}NE(e)&&DE(e)}function HS(t){return ys(t)&&t.b_.length<10}function WS(t,e){t.b_.push(e);const n=Or(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function NE(t){return ys(t)&&!Or(t).jo()&&t.b_.length>0}function DE(t){Or(t).start()}async function KS(t){Or(t).E_()}async function QS(t){const e=Or(t);for(const n of t.b_)e.P_(n.mutations)}async function GS(t,e,n){const r=t.b_.shift(),s=zf.from(r,e,n);await OE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await El(t)}async function zS(t,e){e&&Or(t).h_&&await async function(r,s){if(function(o){return UP(o)&&o!==M.ABORTED}(s.code)){const i=r.b_.shift();Or(r).Yo(),await OE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await El(r)}}(t,e),NE(t)&&DE(t)}async function Om(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=ys(n);n.C_.add(3),await na(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await vl(n)}async function YS(t,e){const n=ye(t);e?(n.C_.delete(2),await vl(n)):e||(n.C_.add(2),await na(n),n.M_.set("Unknown"))}function Ei(t){return t.O_||(t.O_=function(n,r,s){const i=ye(n);return i.A_(),new xS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:BS.bind(null,t),Io:jS.bind(null,t),a_:qS.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),rd(t)?nd(t):t.M_.set("Unknown")):(await t.O_.stop(),kE(t))})),t.O_}function Or(t){return t.N_||(t.N_=function(n,r,s){const i=ye(n);return i.A_(),new FS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:KS.bind(null,t),Io:zS.bind(null,t),T_:QS.bind(null,t),I_:GS.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await El(t)):(await t.N_.stop(),t.b_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new sd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),Zo(t))return new z(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Ui(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.B_=new Ye(oe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):fe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zs{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zs(e,n,Us.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.k_=void 0,this.listeners=[]}}class JS{constructor(){this.queries=new vi(e=>tE(e),dl),this.onlineState="Unknown",this.q_=new Set}}async function LE(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new XS),s)try{i.k_=await n.onListen(r)}catch(o){const a=id(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Q_(n.onlineState),i.k_&&e.K_(i.k_)&&od(n)}async function ME(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function ZS(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.K_(s)&&(r=!0);o.k_=s}}r&&od(n)}function ek(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function od(t){t.q_.forEach(e=>{e.next()})}class xE{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class tk{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=be(),this.mutatedKeys=be(),this._a=nE(e),this.aa=new Us(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Nm,s=n?n.aa:this.aa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),m=pl(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;f&&m?f.data.isEqual(m.data)?v!==E&&(r.track({type:3,doc:m}),w=!0):this.ha(f,m)||(r.track({type:2,doc:m}),w=!0,(c&&this._a(m,c)>0||l&&this._a(m,l)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),w=!0):f&&!m&&(r.track({type:1,doc:f}),w=!0,(c||l)&&(a=!0)),w&&(m?(o=o.add(m),i=E?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:i}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort((l,u)=>function(f,m){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return v(f)-v(m)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,c=a!==this.sa;return this.sa=a,i.length!==0||c?{snapshot:new Zs(this.query,e.aa,s,i,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Nm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=be(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new VE(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new FE(r))}),n}da(e){this.ia=e.ls,this.oa=be();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Zs.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class nk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rk{constructor(e){this.key=e,this.Ra=!1}}class sk{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vi(a=>tE(a),dl),this.fa=new Map,this.ga=new Set,this.pa=new Ye(oe.comparator),this.ya=new Map,this.wa=new Jf,this.Sa={},this.ba=new Map,this.Da=Js.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function ik(t,e){const n=mk(t);let r,s;const i=n.ma.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Aa();else{const o=await SS(n.localStore,kn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await ok(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&CE(n.remoteStore,o)}return s}async function ok(t,e,n,r,s){t.va=(h,f,m)=>async function(E,w,g,I){let A=w.view.ca(g);A.Zi&&(A=await Pm(E.localStore,w.query,!1).then(({documents:k})=>w.view.ca(k,A)));const T=I&&I.targetChanges.get(w.targetId),P=w.view.applyChanges(A,E.isPrimaryClient,T);return Lm(E,w.targetId,P.Ta),P.snapshot}(t,h,f,m);const i=await Pm(t.localStore,e,!0),o=new tk(e,i.ls),a=o.ca(i.documents),c=ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);Lm(t,n,l.Ta);const u=new nk(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}async function ak(t,e){const n=ye(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(i=>!dl(i,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await hh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),PE(n.remoteStore,r.targetId),fh(n,r.targetId)}).catch(Jo)):(fh(n,r.targetId),await hh(n.localStore,r.targetId,!0))}async function ck(t,e,n){const r=gk(t);try{const s=await function(o,a){const c=ye(o),l=ut.now(),u=a.reduce((m,v)=>m.add(v.key),be());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Xn(),E=be();return c.ss.getEntries(m,u).next(w=>{v=w,v.forEach((g,I)=>{I.isValidDocument()||(E=E.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,v)).next(w=>{h=w;const g=[];for(const I of a){const A=LP(I,h.get(I.key).overlayedDocument);A!=null&&g.push(new Mr(I.key,A,Qv(A.value.mapValue),ln.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,E);return c.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:sE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Ye(Ne)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,s.batchId,n),await ra(r,s.changes),await El(r.remoteStore)}catch(s){const i=id(s,"Failed to persist write");n.reject(i)}}async function UE(t,e){const n=ye(t);try{const r=await RS(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ya.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ra=!0:s.modifiedDocuments.size>0?Qe(o.Ra):s.removedDocuments.size>0&&(Qe(o.Ra),o.Ra=!1))}),await ra(n,r,e)}catch(r){await Jo(r)}}function Dm(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ye(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const f of h.listeners)f.Q_(a)&&(l=!0)}),l&&od(c)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lk(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),i=s&&s.key;if(i){let o=new Ye(oe.comparator);o=o.insert(i,Nt.newNoDocument(i,ge.min()));const a=be().add(i),c=new _l(ge.min(),new Map,new Ye(Ne),o,a);await UE(r,c),r.pa=r.pa.remove(i),r.ya.delete(e),ad(r)}else await hh(r.localStore,e,!1).then(()=>fh(r,e,n)).catch(Jo)}async function uk(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await AS(n.localStore,e);BE(n,r,null),$E(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ra(n,s)}catch(s){await Jo(s)}}async function hk(t,e,n){const r=ye(t);try{const s=await function(o,a){const c=ye(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Qe(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);BE(r,e,n),$E(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ra(r,s)}catch(s){await Jo(s)}}function $E(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function BE(t,e,n){const r=ye(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function fh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||jE(t,r)})}function jE(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(PE(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),ad(t))}function Lm(t,e,n){for(const r of n)r instanceof FE?(t.wa.addReference(r.key,e),fk(t,r)):r instanceof VE?(J("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||jE(t,r.key)):fe()}function fk(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(J("SyncEngine","New document in limbo: "+n),t.ga.add(r),ad(t))}function ad(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new oe(We.fromString(e)),r=t.Da.next();t.ya.set(r,new rk(n)),t.pa=t.pa.insert(n,r),CE(t.remoteStore,new yr(kn(Qf(n.path)),r,"TargetPurposeLimboResolution",Bf._e))}}async function ra(t,e,n){const r=ye(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=ed.Qi(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(c,l){const u=ye(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(l,f=>F.forEach(f.ki,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>F.forEach(f.qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Zo(h))throw h;J("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=u.ts.get(f),v=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(v);u.ts=u.ts.insert(f,E)}}}(r.localStore,i))}async function dk(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await wE(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(c=>{c.reject(new z(M.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ra(n,r._s)}}function pk(t,e){const n=ye(t),r=n.ya.get(e);if(r&&r.Ra)return be().add(r.key);{let s=be();const i=n.fa.get(e);if(!i)return s;for(const o of i){const a=n.ma.get(o);s=s.unionWith(a.view.ua)}return s}}function mk(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lk.bind(null,e),e.Va.a_=ZS.bind(null,e.eventManager),e.Va.Fa=ek.bind(null,e.eventManager),e}function gk(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hk.bind(null,e),e}class Mm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return bS(this.persistence,new IS,e.initialUser,this.serializer)}createPersistence(e){return new vS(Zf.jr,this.serializer)}createSharedClientState(e){return new OS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _k{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dk.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JS}()}createDatastore(e){const n=yl(e.databaseInfo.databaseId),r=function(i){return new MS(i)}(e.databaseInfo);return function(i,o,a,c){return new VS(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new $S(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Dm(this.syncEngine,n,0),function(){return km.D()?new km:new NS}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const h=new sk(s,i,o,a,c,l);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);J("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await na(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ot.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{J("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(J("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=id(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lu(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Ek(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Om(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Om(e.remoteStore,i)),t._onlineComponents=e}function vk(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Ek(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await lu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vk(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await lu(t,new Mm)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await lu(t,new Mm);return t._offlineComponents}async function HE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await xm(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await xm(t,new _k))),t._onlineComponents}function Tk(t){return HE(t).then(e=>e.syncEngine)}async function WE(t){const e=await HE(t),n=e.eventManager;return n.onListen=ik.bind(null,e.syncEngine),n.onUnlisten=ak.bind(null,e.syncEngine),n}function Ik(t,e,n={}){const r=new Qn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new qE({next:f=>{o.enqueueAndForget(()=>ME(i,h));const m=f.docs.has(a);!m&&f.fromCache?l.reject(new z(M.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&c&&c.source==="server"?l.reject(new z(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new xE(Qf(a.path),u,{includeMetadataChanges:!0,J_:!0});return LE(i,h)}(await WE(t),t.asyncQueue,e,n,r)),r.promise}function wk(t,e,n={}){const r=new Qn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new qE({next:f=>{o.enqueueAndForget(()=>ME(i,h)),f.fromCache&&c.source==="server"?l.reject(new z(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new xE(a,u,{includeMetadataChanges:!0,J_:!0});return LE(i,h)}(await WE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e,n){if(!n)throw new z(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bk(t,e,n,r){if(e===!0&&r===!0)throw new z(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vm(t){if(!oe.isDocumentKey(t))throw new z(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Um(t){if(oe.isDocumentKey(t))throw new z(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function _n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tl(t);throw new z(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Il{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $m({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $m(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WC;switch(r.type){case"firstParty":return new zC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fm.get(n);r&&(J("ComponentProvider","Removing Datastore"),Fm.delete(n),r.terminate())}(this),Promise.resolve()}}function Ak(t,e,n,r={}){var s;const i=(t=_n(t,Il))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ot.MOCK_USER;else{a=vA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ot(l)}t._authCredentials=new KC(new qv(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Rr extends vs{constructor(e,n,r){super(e,n,Qf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new oe(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Rt(t,e,...n){if(t=yt(t),QE("collection","path",e),t instanceof Il){const r=We.fromString(e,...n);return Um(r),new Rr(t,null,r)}{if(!(t instanceof jt||t instanceof Rr))throw new z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Um(r),new Rr(t.firestore,null,r)}}function Ct(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Hv.newId()),QE("doc","path",e),t instanceof Il){const r=We.fromString(e,...n);return Vm(r),new jt(t,null,new oe(r))}{if(!(t instanceof jt||t instanceof Rr))throw new z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Vm(r),new jt(t.firestore,t instanceof Rr?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new AE(this,"async_queue_retry"),this.iu=()=>{const n=cu();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=cu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=cu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Qn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Zo(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=sd.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&fe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Es extends Il{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Rk}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GE(this),this._firestoreClient.terminate()}}function Ck(t,e){const n=typeof t=="object"?t:Vy(),r=typeof t=="string"?t:e||"(default)",s=_f(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_A("firestore");i&&Ak(s,...i)}return s}function cd(t){return t._firestoreClient||GE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GE(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new aP(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new yk(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Ft.fromBase64String(e))}catch(n){throw new z(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^__.*__$/;class Sk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ea(e,this.data,n,this.fieldTransforms)}}class zE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class hd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Rc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(YE(this.Iu)&&Pk.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yl(e)}pu(e,n,r,s=!1){return new hd({Iu:e,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bl(t){const e=t._freezeSettings(),n=yl(t._databaseId);return new kk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XE(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);fd("Data must be an object, but it was:",o,r);const a=JE(r,o);let c,l;if(i.merge)c=new Jt(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=dh(e,h,n);if(!o.contains(f))throw new z(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);eT(u,f)||u.push(f)}c=new Jt(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new Sk(new Wt(a),c,l)}class Al extends ld{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Al}}function Ok(t,e,n,r){const s=t.pu(1,e,n);fd("Data must be an object, but it was:",s,r);const i=[],o=Wt.empty();_s(r,(c,l)=>{const u=dd(e,c,n);l=yt(l);const h=s.Ru(u);if(l instanceof Al)i.push(u);else{const f=sa(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Jt(i);return new zE(o,a,s.fieldTransforms)}function Nk(t,e,n,r,s,i){const o=t.pu(1,e,n),a=[dh(e,r,n)],c=[s];if(i.length%2!=0)throw new z(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(dh(e,i[f])),c.push(i[f+1]);const l=[],u=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!eT(l,a[f])){const m=a[f];let v=c[f];v=yt(v);const E=o.Ru(m);if(v instanceof Al)l.push(m);else{const w=sa(v,E);w!=null&&(l.push(m),u.set(m,w))}}const h=new Jt(l);return new zE(u,h,o.fieldTransforms)}function Dk(t,e,n,r=!1){return sa(n,t.pu(r?4:3,e))}function sa(t,e){if(ZE(t=yt(t)))return fd("Unsupported field value:",e,t),JE(t,e);if(t instanceof ld)return function(r,s){if(!YE(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=sa(a,s.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ut.fromDate(r);return{timestampValue:bc(s.serializer,i)}}if(r instanceof ut){const i=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bc(s.serializer,i)}}if(r instanceof ud)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:_E(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xf(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${Tl(r)}`)}(t,e)}function JE(t,e){const n={};return Wv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,s)=>{const i=sa(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ud||t instanceof ei||t instanceof jt||t instanceof ld)}function fd(t,e,n){if(!ZE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Tl(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function dh(t,e,n){if((e=yt(e))instanceof wl)return e._internalPath;if(typeof e=="string")return dd(t,e);throw Rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lk=new RegExp("[~\\*/\\[\\]]");function dd(t,e,n){if(e.search(Lk)>=0)throw Rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wl(...e.split("."))._internalPath}catch{throw Rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new z(M.INVALID_ARGUMENT,a+t+c)}function eT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mk extends tT{data(){return super.data()}}function pd(t,e){return typeof e=="string"?dd(t,e):e instanceof wl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class md{}class nT extends md{}function Fk(t,e,...n){let r=[];e instanceof md&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof _d).length,a=i.filter(c=>c instanceof gd).length;if(o>1||o>0&&a>0)throw new z(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class gd extends nT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gd(e,n,r)}_apply(e){const n=this._parse(e);return rT(e._query,n),new vs(e.firestore,e.converter,ih(e._query,n))}_parse(e){const n=bl(e.firestore);return function(i,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new z(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){jm(h,u);const m=[];for(const v of h)m.push(Bm(c,i,v));f={arrayValue:{values:m}}}else f=Bm(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||jm(h,u),f=Dk(a,o,h,u==="in"||u==="not-in");return ot.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class _d extends md{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _d(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)rT(o,c),o=ih(o,c)}(e._query,n),new vs(e.firestore,e.converter,ih(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yd extends nT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yd(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new z(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new z(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ao(i,o)}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new yi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Vk(t,e="asc"){const n=e,r=pd("orderBy",t);return yd._create(r,n)}function Bm(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new z(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&n.indexOf("/")!==-1)throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!oe.isDocumentKey(r))throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hm(t,new oe(r))}if(n instanceof jt)return hm(t,n._key);throw new z(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tl(n)}.`)}function jm(t,e){if(!Array.isArray(t)||t.length===0)throw new z(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rT(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Uk{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _s(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new ud(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const n=kr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Qe(IE(r));const s=new wo(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Yn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iT extends tT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qa extends iT{data(e={}){return super.data(e)}}class $k{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qa(this._firestore,this._userDataWriter,r.key,r,new Bi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new qa(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bi(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new qa(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bi(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Bk(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){t=_n(t,jt);const e=_n(t.firestore,Es);return Ik(cd(e),t._key).then(n=>qk(e,t,n))}class oT extends Uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function aT(t){t=_n(t,vs);const e=_n(t.firestore,Es),n=cd(e),r=new oT(e);return xk(t._query),wk(n,t._query).then(s=>new $k(e,r,t,s))}function cT(t,e,n){t=_n(t,jt);const r=_n(t.firestore,Es),s=sT(t.converter,e,n);return Rl(r,[XE(bl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ln.none())])}function hs(t,e,n,...r){t=_n(t,jt);const s=_n(t.firestore,Es),i=bl(s);let o;return o=typeof(e=yt(e))=="string"||e instanceof wl?Nk(i,"updateDoc",t._key,e,n,r):Ok(i,"updateDoc",t._key,e),Rl(s,[o.toMutation(t._key,ln.exists(!0))])}function qm(t){return Rl(_n(t.firestore,Es),[new Gf(t._key,ln.none())])}function jk(t,e){const n=_n(t.firestore,Es),r=Ct(t),s=sT(t.converter,e);return Rl(n,[XE(bl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then(()=>r)}function Rl(t,e){return function(r,s){const i=new Qn;return r.asyncQueue.enqueueAndForget(async()=>ck(await Tk(r),s,i)),i.promise}(cd(t),e)}function qk(t,e,n){const r=n.docs.get(e._key),s=new oT(t);return new iT(t,s,e._key,r,new Bi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){_i=s})(pi),Ks(new os("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Es(new QC(r.getProvider("auth-internal")),new XC(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ar(am,"4.3.2",e),Ar(am,"4.3.2","esm2017")})();var Hk="firebase",Wk="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(Hk,Wk,"app");function vd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kk=lT,uT=new Bo("auth","Firebase",lT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new mf("@firebase/auth");function Qk(t,...e){Cc.logLevel<=Ae.WARN&&Cc.warn(`Auth (${pi}): ${t}`,...e)}function Ha(t,...e){Cc.logLevel<=Ae.ERROR&&Cc.error(`Auth (${pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw Ed(t,...e)}function Nn(t,...e){return Ed(t,...e)}function Gk(t,e,n){const r=Object.assign(Object.assign({},Kk()),{[e]:n});return new Bo("auth","Firebase",r).create(e,{appName:t.name})}function Ed(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uT.create(t,...e)}function he(t,e,...n){if(!t)throw Ed(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ha(e),new Error(e)}function Jn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zk(){return Hm()==="http:"||Hm()==="https:"}function Hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zk()||TA()||"connection"in navigator)?navigator.onLine:!0}function Xk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=EA()||IA()}get(){return Yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new ia(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fr(t,e,n,r,s={}){return fT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=jo(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),hT.fetch()(dT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function fT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jk),e);try{const s=new tO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ca(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ca(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ca(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ca(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Gk(t,u,l);yn(t,u)}}catch(s){if(s instanceof er)throw s;yn(t,"network-request-failed",{message:String(s)})}}async function oa(t,e,n,r,s={}){const i=await Fr(t,e,n,r,s);return"mfaPendingCredential"in i&&yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function dT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Td(t.config,s):`${t.config.apiScheme}://${s}`}function eO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),Zk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ca(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nn(t,e,r);return s.customData._tokenResponse=n,s}function Wm(t){return t!==void 0&&t.enterprise!==void 0}class nO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rO(t,e){return Fr(t,"GET","/v2/recaptchaConfig",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e){return Fr(t,"POST","/v1/accounts:delete",e)}async function iO(t,e){return Fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oO(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=Id(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Zi(uu(s.auth_time)),issuedAtTime:Zi(uu(s.iat)),expirationTime:Zi(uu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function uu(t){return Number(t)*1e3}function Id(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ha("JWT malformed, contained fewer than 3 sections"),null;try{const s=Oy(n);return s?JSON.parse(s):(Ha("Failed to decode base64 JWT payload"),null)}catch(s){return Ha("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aO(t){const e=Id(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&cO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zi(this.lastLoginAt),this.creationTime=Zi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Po(t,iO(n,{idToken:r}));he(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?fO(i.providerUserInfo):[],a=hO(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function uO(t){const e=yt(t);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function fO(t){return t.map(e=>{var{providerId:n}=e,r=vd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){const n=await fT(t,{},async()=>{const r=jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=dT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pO(t,e){return Fr(t,"POST","/v2/accounts:revokeToken",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await dO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new So;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oO(this,e)}reload(){return uO(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Po(this,sO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,I=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:A,emailVerified:T,isAnonymous:P,providerData:k,stsTokenManager:S}=n;he(A&&S,e,"internal-error");const D=So.fromJSON(this.name,S);he(typeof A=="string",e,"internal-error"),sr(h,e.name),sr(f,e.name),he(typeof T=="boolean",e,"internal-error"),he(typeof P=="boolean",e,"internal-error"),sr(m,e.name),sr(v,e.name),sr(E,e.name),sr(w,e.name),sr(g,e.name),sr(I,e.name);const N=new ss({uid:A,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:P,photoURL:v,phoneNumber:m,tenantId:E,stsTokenManager:D,createdAt:g,lastLoginAt:I});return k&&Array.isArray(k)&&(N.providerData=k.map(V=>Object.assign({},V))),w&&(N._redirectEventId=w),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new So;s.updateFromServerResponse(n);const i=new ss({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Map;function Hn(t){Jn(t instanceof Function,"Expected a class definition");let e=Km.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Km.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mT.type="NONE";const Qm=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wa(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $s(Hn(Qm),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Hn(Qm);const o=Wa(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=ss._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new $s(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new $s(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ET(e))return"Blackberry";if(TT(e))return"Webos";if(wd(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(vT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gT(t=xt()){return/firefox\//i.test(t)}function wd(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(t=xt()){return/crios\//i.test(t)}function yT(t=xt()){return/iemobile/i.test(t)}function vT(t=xt()){return/android/i.test(t)}function ET(t=xt()){return/blackberry/i.test(t)}function TT(t=xt()){return/webos/i.test(t)}function Cl(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mO(t=xt()){var e;return Cl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gO(){return wA()&&document.documentMode===10}function IT(t=xt()){return Cl(t)||vT(t)||TT(t)||ET(t)||/windows phone/i.test(t)||yT(t)}function _O(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e=[]){let n;switch(t){case"Browser":n=Gm(xt());break;case"Worker":n=`${Gm(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e={}){return Fr(t,"GET","/v2/passwordPolicy",xr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class TO{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:EO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zm(this),this.idTokenSubscription=new zm(this),this.beforeStateQueue=new yO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vO(this),n=new TO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hn(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Qk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ts(t){return yt(t)}class zm{constructor(e){this.auth=e,this.observer=null,this.addObserver=kA(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function bT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Nn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",wO().appendChild(r)})}function bO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const AO="https://www.google.com/recaptcha/enterprise.js?render=",RO="recaptcha-enterprise",CO="NO_RECAPTCHA";class PO{constructor(e){this.type=RO,this.auth=Ts(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{rO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new nO(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Wm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(CO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Wm(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}bT(AO+a).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ym(t,e,n,r=!1){const s=new PO(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ym(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ym(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){const n=_f(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hc(i,e??{}))return s;yn(s,"already-initialized")}return n.initialize({options:e})}function kO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OO(t,e,n){const r=Ts(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=AT(e),{host:o,port:a}=NO(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||DO()}function AT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NO(t){const e=AT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Xm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Xm(o)}}}function Xm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}async function LO(t,e){return Fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){return oa(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){return oa(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}async function FO(t,e){return oa(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends bd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ko(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ko(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,n,"signInWithPassword",MO);case"emailLink":return xO(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mh(e,r,"signUpPassword",LO);case"emailLink":return FO(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(t,e){return oa(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="http://localhost";class fs extends bd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=vd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new fs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bs(e,n)}buildRequest(){const e={requestUri:VO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $O(t){const e=Mi(xi(t)).link,n=e?Mi(xi(e)).deep_link_id:null,r=Mi(xi(t)).deep_link_id;return(r?Mi(xi(r)).link:null)||r||n||e||t}class Ad{constructor(e){var n,r,s,i,o,a;const c=Mi(xi(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=UO((s=c.mode)!==null&&s!==void 0?s:null);he(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$O(e);try{return new Ad(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.providerId=Ii.PROVIDER_ID}static credential(e,n){return ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ad.parseLink(n);return he(r,"argument-error"),ko._fromEmailAndCode(e,r.code,r.tenantId)}}Ii.PROVIDER_ID="password";Ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends RT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends aa{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends aa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends aa{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends aa{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e){return oa(t,"POST","/v1/accounts:signUp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ss._fromIdTokenResponse(e,r,s),o=Jm(r);return new ds({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Jm(r);return new ds({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Jm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends er{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sc(e,n,r,s)}}function CT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(t,i,e,r):i})}async function jO(t,e,n=!1){const r=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ds._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Po(t,CT(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=Id(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),ds._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(t,e,n=!1){const r="signIn",s=await CT(t,r,e),i=await ds._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function HO(t,e){return PT(Ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t){const e=Ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WO(t,e,n){const r=Ts(t),o=await mh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ST(t),c}),a=await ds._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KO(t,e,n){return HO(yt(t),Ii.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(t),r})}function QO(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function GO(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function zO(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function YO(t){return yt(t).signOut()}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){const t=xt();return wd(t)||Cl(t)}const JO=1e3,ZO=10;class OT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XO()&&_O(),this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const eN=OT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NT.type="SESSION";const DT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Pl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await tN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=Rd("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function rN(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function sN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oN(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebaseLocalStorageDb",aN=1,Oc="firebaseLocalStorage",xT="fbase_key";class ca{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sl(t,e){return t.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function cN(){const t=indexedDB.deleteDatabase(MT);return new ca(t).toPromise()}function gh(){const t=indexedDB.open(MT,aN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Oc,{keyPath:xT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Oc)?e(r):(r.close(),await cN(),e(await gh()))})})}async function Zm(t,e,n){const r=Sl(t,!0).put({[xT]:e,value:n});return new ca(r).toPromise()}async function lN(t,e){const n=Sl(t,!1).get(e),r=await new ca(n).toPromise();return r===void 0?null:r.value}function eg(t,e){const n=Sl(t,!0).delete(e);return new ca(n).toPromise()}const uN=800,hN=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pl._getInstance(oN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gh();return await Zm(e,kc,"1"),await eg(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sl(s,!1).getAll();return new ca(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const fN=FT;new ia(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){return e?Hn(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends bd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pN(t){return PT(t.auth,new Cd(t),t.bypassAuthState)}function mN(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),qO(n,new Cd(t),t.bypassAuthState)}async function gN(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),jO(n,new Cd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return mN;default:yn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new ia(2e3,1e4);class Os extends VT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=Rd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_N.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="pendingRedirect",Ka=new Map;class vN extends VT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ka.get(this.auth._key());if(!e){try{const r=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ka.set(this.auth._key(),e)}return this.bypassAuthState||Ka.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(t,e){const n=wN(e),r=IN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TN(t,e){Ka.set(t._key(),e)}function IN(t){return Hn(t._redirectPersistence)}function wN(t){return Wa(yN,t.config.apiKey,t.name)}async function bN(t,e,n=!1){const r=Ts(t),s=dN(r,e),o=await new vN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=10*60*1e3;class RN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AN&&this.cachedEventUids.clear(),this.cachedEventUids.has(tg(e))}saveEventToCache(e){this.cachedEventUids.add(tg(e)),this.lastProcessedEventTime=Date.now()}}function tg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e={}){return Fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function ON(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PN(t);for(const n of e)try{if(NN(n))return}catch{}yn(t,"unauthorized-domain")}function NN(t){const e=ph(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!kN.test(n))return!1;if(SN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new ia(3e4,6e4);function ng(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LN(t){return new Promise((e,n)=>{var r,s,i;function o(){ng(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ng(),n(Nn(t,"network-request-failed"))},timeout:DN.get()})}if(!((s=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Dn().gapi)===null||i===void 0)&&i.load)o();else{const a=bO("iframefcb");return Dn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},bT(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Qa=null,e})}let Qa=null;function MN(t){return Qa=Qa||LN(t),Qa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new ia(5e3,15e3),FN="__/auth/iframe",VN="emulator/auth/iframe",UN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Td(e,VN):`https://${t.config.authDomain}/${FN}`,r={apiKey:e.apiKey,appName:t.name,v:pi},s=$N.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${jo(r).slice(1)}`}async function jN(t){const e=await MN(t),n=Dn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:BN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Dn().setTimeout(()=>{i(o)},xN.get());function c(){Dn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=500,WN=600,KN="_blank",QN="http://localhost";class rg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GN(t,e,n,r=HN,s=WN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},qN),{width:r.toString(),height:s.toString(),top:i,left:o}),l=xt().toLowerCase();n&&(a=_T(l)?KN:n),gT(l)&&(e=e||QN,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(mO(l)&&a!=="_self")return zN(e||"",a),new rg(null);const h=window.open(e||"",a,u);he(h,t,"popup-blocked");try{h.focus()}catch{}return new rg(h)}function zN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__/auth/handler",XN="emulator/auth/handler",JN=encodeURIComponent("fac");async function sg(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pi,eventId:s};if(e instanceof RT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof aa){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${JN}=${encodeURIComponent(c)}`:"";return`${ZN(t)}?${jo(a).slice(1)}${l}`}function ZN({config:t}){return t.emulator?Td(t,XN):`https://${t.authDomain}/${YN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="webStorageSupport";class e1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=bN,this._overrideRedirectResult=TN}async _openPopup(e,n,r,s){var i;Jn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await sg(e,n,r,ph(),s);return GN(e,o,Rd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await sg(e,n,r,ph(),s);return rN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Jn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jN(e),r=new RN(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hu,{type:hu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[hu];o!==void 0&&n(!!o),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||wd()||Cl()}}const t1=e1;var ig="@firebase/auth",og="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function s1(t){Ks(new os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(t)},l=new IO(r,s,i,c);return kO(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new os("auth-internal",e=>{const n=Ts(e.getProvider("auth").getImmediate());return(r=>new n1(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(ig,og,r1(t)),Ar(ig,og,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=5*60,o1=Ly("authIdTokenMaxAge")||i1;let ag=null;const a1=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o1)return;const s=n==null?void 0:n.token;ag!==s&&(ag=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $T(t=Vy()){const e=_f(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SO(t,{popupRedirectResolver:t1,persistence:[fN,eN,DT]}),r=Ly("authTokenSyncURL");if(r){const i=a1(r);GO(n,i,()=>i(n.currentUser)),QO(n,o=>i(o))}const s=Ny("auth");return s&&OO(n,`http://${s}`),n}s1("Browser");const c1={apiKey:"AIzaSyD928PKQ1qbAHTlCaFUBHks0zDqQ7ip7GE",authDomain:"task-manager-5fa7b.firebaseapp.com",projectId:"task-manager-5fa7b",storageBucket:"task-manager-5fa7b.appspot.com",messagingSenderId:"609503697743",appId:"1:609503697743:web:fcc2fc3d977191b361833a"},BT=Fy(c1),ht=Ck(BT),ti=$T(BT),Vr=cf("usersStore",()=>{const{data:t}=kl(),e=Oe(()=>{var s;return(s=t.value)==null?void 0:s.uid}),n=Oe(()=>{var s;return(s=t.value)==null?void 0:s.username}),r=Oe(()=>{var s;return(s=t.value)==null?void 0:s.jobTitle});return{userId:e,userUsername:n,userJobTitle:r}}),jT=cf("tasksStore",()=>{const t=Gn({creationTime:null,endDate:"",name:"",description:"",completed:!1,inProgress:!1,createdById:"",createdByUsername:"",assignedToId:"",assignedToUsername:""}),e=Gn({id:null,name:"",description:"",endDate:""});return{newTask:t,editingTask:e}});async function l1(t){const e=Rt(ht,`users/${t}/tasks`);return(await aT(Fk(e,Vk("creationTime","desc")))).docs.map(r=>({id:r.id,...r.data()}))}async function u1(){const t=Rt(ht,"users");return(await aT(t)).docs.map(n=>({uid:n.id,...n.data()}))}async function h1(){const t=ti.currentUser;if(!t)return null;const e=Ct(ht,"users",t.uid),n=await Ti(e);return{uid:t.uid,email:t.email,username:n.data().username,jobTitle:n.data().jobTitle}}async function sV(t){const e=Vr(),n=Rt(ht,`users/${e.userId}/tasks`),r=Ct(n,t),s=(await Ti(r)).data(),i=Rt(ht,`users/${s.assignedToId}/tasks`),o=Rt(ht,`users/${s.createdById}/tasks`);await Promise.all([hs(Ct(i,t),{inProgress:!s.inProgress}),hs(Ct(o,t),{inProgress:!s.inProgress})])}async function iV(t){const e=Vr(),n=Rt(ht,`users/${e.userId}/tasks`),r=Ct(n,t),s=(await Ti(r)).data(),i=Rt(ht,`users/${s.assignedToId}/tasks`),o=Rt(ht,`users/${s.createdById}/tasks`);await Promise.all([hs(Ct(i,t),{completed:!s.completed,inProgress:!1}),hs(Ct(o,t),{completed:!s.completed,inProgress:!1})])}async function oV({taskId:t,member:e}){const n=Vr(),r=Rt(ht,`users/${n.userId}/tasks`),s=Ct(r,t),i=(await Ti(s)).data();await hs(s,{assignedToId:e.uid,assignedToUsername:e.username});const o=Rt(ht,`users/${e.uid}/tasks`),a=Ct(o,t);await cT(a,{...i,assignedToId:e.uid,assignedToUsername:e.username})}async function aV(){const t=Vr(),e=jT(),n=Rt(ht,`users/${t.userId}/tasks`);if(e.editingTask.id){const r=Ct(n,e.editingTask.id),s=(await Ti(r)).data(),i=Rt(ht,`users/${s.assignedToId}/tasks`),o=Rt(ht,`users/${s.createdById}/tasks`);await Promise.all([hs(Ct(i,e.editingTask.id),{name:e.editingTask.name,description:e.editingTask.description,endDate:e.editingTask.endDate}),hs(Ct(o,e.editingTask.id),{name:e.editingTask.name,description:e.editingTask.description,endDate:e.editingTask.endDate})])}}async function cV(t){const e=Vr(),n=Rt(ht,`users/${e.userId}/tasks`),r=Ct(n,t),s=(await Ti(r)).data(),i=Rt(ht,`users/${s.assignedToId}/tasks`),o=Rt(ht,`users/${s.createdById}/tasks`);await Promise.all([qm(Ct(i,t)),qm(Ct(o,t))])}function lV(){const t=Vr(),e=jT(),n=Rt(ht,`users/${t.userId}/tasks`);jk(n,{...e.newTask,creationTime:Date.now(),createdById:t.userId,createdByUsername:t.userUsername,assignedToId:t.userId,assignedToUsername:t.userUsername}),e.newTask.name="",e.newTask.description="",e.newTask.endDate=""}async function uV(t){const{email:e,password:n}=t;await KO(ti,e,n)}async function hV(t){const{email:e,password:n,username:r,jobTitle:s}=t;await WO(ti,e,n);const i=Ct(ht,"users",ti.currentUser.uid);await cT(i,{username:r,jobTitle:s})}async function f1(){await YO(ti)}const la=cf("alertsStore",()=>{const t=Ze([]);return{alerts:t,addNotification:(n,r)=>{let s=r;s||(s=n==="error"?"Something went wrong, please try again later":"Your data has been successfully saved!"),t.value.push({id:new Date().getTime(),title:s,type:n}),setTimeout(()=>{t.value.shift()},3e3)}}});function kl(){const t=la();return df({queryKey:["user"],queryFn:h1,onError:()=>{t.addNotification("error","Error getting a current user!")}})}const Ol="/task-manager/svg/logo.svg",Pd=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},d1={},p1={class:"flex items-center gap-5 pl-6 h-screen justify-center"},m1=G("img",{src:Ol,alt:"logo",class:"w-14"},null,-1),g1=G("span",{class:"text-5xl tracking-widest"},"TASKIE",-1),_1=[m1,g1];function y1(t,e){return Z(),ue("div",p1,_1)}const v1=Pd(d1,[["render",y1]]),qT="/task-manager/svg/close.svg",E1={class:"flex-1 space-y-2"},T1={class:"shrink-0"},I1=G("img",{src:qT,alt:"close",class:"w-6 h-6"},null,-1),w1=[I1],b1={__name:"NotificationDefault",props:{intent:{type:String,validator(t){return["success","error"].includes(t)},default:"success"},title:{type:String,required:!0},onDismiss:Function},setup(t){return(e,n)=>(Z(),ue("div",{class:vr(["flex rounded-md p-4 space-x-3",[{"bg-green-100":t.intent==="success","bg-red-100":t.intent==="error"}]])},[G("div",E1,[G("h2",{class:vr(["text-lg font-medium",[{"text-green-900":t.intent==="success","text-red-900":t.intent==="error"}]])},Ve(t.title),3)]),G("div",T1,[G("button",{onClick:n[0]||(n[0]=(...r)=>t.onDismiss&&t.onDismiss(...r)),class:vr(["p-0.5 rounded-md -m-1",[{"hover:bg-green-200":t.intent==="success","hover:bg-red-200":t.intent==="error"}]])},w1,2)])],2))}},A1={__name:"App",setup(t){const e=$T(),n=Yc();zO(e,()=>{n.invalidateQueries("user")});const r=la(),{isLoading:s}=kl();return(i,o)=>{const a=ms("router-view");return Z(),ue("div",null,[(Z(),$t(N0,{to:"body"},[ne(mb,{tag:"div",name:"fade",class:"space-y-4 fixed z-[2147483647] top-16 right-4 w-96"},{default:Ge(()=>[(Z(!0),ue(it,null,Zh(Ee(r).alerts,c=>(Z(),$t(b1,{key:c.id,intent:c.type,title:c.title,"on-dismiss":()=>Ee(r).alerts.shift()},null,8,["intent","title","on-dismiss"]))),128))]),_:1})])),Ee(s)?(Z(),$t(v1,{key:0})):(Z(),$t(a,{key:1}))])}}},R1="modulepreload",C1=function(t){return"/task-manager/"+t},cg={},Pa=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=C1(i),i in cg)return;cg[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":R1,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ps=typeof window<"u";function P1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Me=Object.assign;function fu(t,e){const n={};for(const r in e){const s=e[r];n[r]=vn(s)?s.map(t):t(s)}return n}const eo=()=>{},vn=Array.isArray,S1=/\/$/,k1=t=>t.replace(S1,"");function du(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=L1(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function O1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function lg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function N1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ni(e.matched[r],n.matched[s])&&HT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function HT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!D1(t[n],e[n]))return!1;return!0}function D1(t,e){return vn(t)?ug(t,e):vn(e)?ug(e,t):t===e}function ug(t,e){return vn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function L1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Oo;(function(t){t.pop="pop",t.push="push"})(Oo||(Oo={}));var to;(function(t){t.back="back",t.forward="forward",t.unknown=""})(to||(to={}));function M1(t){if(!t)if(Ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),k1(t)}const x1=/^[^#]+#/;function F1(t,e){return t.replace(x1,"#")+e}function V1(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Nl=()=>({left:window.pageXOffset,top:window.pageYOffset});function U1(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=V1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function hg(t,e){return(history.state?history.state.position-e:-1)+t}const _h=new Map;function $1(t,e){_h.set(t,e)}function B1(t){const e=_h.get(t);return _h.delete(t),e}let j1=()=>location.protocol+"//"+location.host;function WT(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),lg(c,"")}return lg(n,t)+r+s}function q1(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const m=WT(t,location),v=n.value,E=e.value;let w=0;if(f){if(n.value=m,e.value=f,o&&o===v){o=null;return}w=E?f.position-E.position:0}else r(m);s.forEach(g=>{g(n.value,v,{delta:w,type:Oo.pop,direction:w?w>0?to.forward:to.back:to.unknown})})};function c(){o=n.value}function l(f){s.push(f);const m=()=>{const v=s.indexOf(f);v>-1&&s.splice(v,1)};return i.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(Me({},f.state,{scroll:Nl()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function fg(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Nl():null}}function H1(t){const{history:e,location:n}=window,r={value:WT(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:j1()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(c,l){const u=Me({},e.state,fg(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Me({},s.value,e.state,{forward:c,scroll:Nl()});i(u.current,u,!0);const h=Me({},fg(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function W1(t){t=M1(t);const e=H1(t),n=q1(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Me({location:"",base:t,go:r,createHref:F1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function K1(t){return typeof t=="string"||t&&typeof t=="object"}function KT(t){return typeof t=="string"||typeof t=="symbol"}const ir={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},QT=Symbol("");var dg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(dg||(dg={}));function ri(t,e){return Me(new Error,{type:t,[QT]:!0},e)}function Fn(t,e){return t instanceof Error&&QT in t&&(e==null||!!(t.type&e))}const pg="[^/]+?",Q1={sensitive:!1,strict:!1,start:!0,end:!0},G1=/[.+*?^${}()[\]/\\]/g;function z1(t,e){const n=Me({},Q1,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const f=l[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(G1,"\\$&"),m+=40;else if(f.type===1){const{value:v,repeatable:E,optional:w,regexp:g}=f;i.push({name:v,repeatable:E,optional:w});const I=g||pg;if(I!==pg){m+=10;try{new RegExp(`(${I})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${v}" (${I}): `+T.message)}}let A=E?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||(A=w&&l.length<2?`(?:/${A})`:"/"+A),w&&(A+="?"),s+=A,m+=20,w&&(m+=-8),E&&(m+=-20),I===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",v=i[f-1];h[v.name]=m&&v.repeatable?m.split("/"):m}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:v,repeatable:E,optional:w}=m,g=v in l?l[v]:"";if(vn(g)&&!E)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const I=vn(g)?g.join("/"):g;if(!I)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=I}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function Y1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function X1(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=Y1(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(mg(r))return 1;if(mg(s))return-1}return s.length-r.length}function mg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const J1={type:0,value:""},Z1=/[a-zA-Z0-9_]/;function eD(t){if(!t)return[[]];if(t==="/")return[[J1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${l}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:Z1.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function tD(t,e,n){const r=z1(eD(t.path),n),s=Me(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function nD(t,e){const n=[],r=new Map;e=yg({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,f){const m=!f,v=rD(u);v.aliasOf=f&&f.record;const E=yg(e,u),w=[v];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const T of A)w.push(Me({},v,{components:f?f.record.components:v.components,path:T,aliasOf:f?f.record:v}))}let g,I;for(const A of w){const{path:T}=A;if(h&&T[0]!=="/"){const P=h.record.path,k=P[P.length-1]==="/"?"":"/";A.path=h.record.path+(T&&k+T)}if(g=tD(A,h,E),f?f.alias.push(g):(I=I||g,I!==g&&I.alias.push(g),m&&u.name&&!_g(g)&&o(u.name)),v.children){const P=v.children;for(let k=0;k<P.length;k++)i(P[k],g,f&&f.children[k])}f=f||g,(g.record.components&&Object.keys(g.record.components).length||g.record.name||g.record.redirect)&&c(g)}return I?()=>{o(I)}:eo}function o(u){if(KT(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&X1(u,n[h])>=0&&(u.record.path!==n[h].record.path||!GT(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!_g(u)&&r.set(u.record.name,u)}function l(u,h){let f,m={},v,E;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw ri(1,{location:u});E=f.record.name,m=Me(gg(h.params,f.keys.filter(I=>!I.optional).map(I=>I.name)),u.params&&gg(u.params,f.keys.map(I=>I.name))),v=f.stringify(m)}else if("path"in u)v=u.path,f=n.find(I=>I.re.test(v)),f&&(m=f.parse(v),E=f.record.name);else{if(f=h.name?r.get(h.name):n.find(I=>I.re.test(h.path)),!f)throw ri(1,{location:u,currentLocation:h});E=f.record.name,m=Me({},h.params,u.params),v=f.stringify(m)}const w=[];let g=f;for(;g;)w.unshift(g.record),g=g.parent;return{name:E,path:v,params:m,matched:w,meta:iD(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function gg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function rD(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:sD(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function sD(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function _g(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iD(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function yg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function GT(t,e){return e.children.some(n=>n===t||GT(t,n))}const zT=/#/g,oD=/&/g,aD=/\//g,cD=/=/g,lD=/\?/g,YT=/\+/g,uD=/%5B/g,hD=/%5D/g,XT=/%5E/g,fD=/%60/g,JT=/%7B/g,dD=/%7C/g,ZT=/%7D/g,pD=/%20/g;function Sd(t){return encodeURI(""+t).replace(dD,"|").replace(uD,"[").replace(hD,"]")}function mD(t){return Sd(t).replace(JT,"{").replace(ZT,"}").replace(XT,"^")}function yh(t){return Sd(t).replace(YT,"%2B").replace(pD,"+").replace(zT,"%23").replace(oD,"%26").replace(fD,"`").replace(JT,"{").replace(ZT,"}").replace(XT,"^")}function gD(t){return yh(t).replace(cD,"%3D")}function _D(t){return Sd(t).replace(zT,"%23").replace(lD,"%3F")}function yD(t){return t==null?"":_D(t).replace(aD,"%2F")}function Nc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function vD(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(YT," "),o=i.indexOf("="),a=Nc(o<0?i:i.slice(0,o)),c=o<0?null:Nc(i.slice(o+1));if(a in e){let l=e[a];vn(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function vg(t){let e="";for(let n in t){const r=t[n];if(n=gD(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vn(r)?r.map(i=>i&&yh(i)):[r&&yh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function ED(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const TD=Symbol(""),Eg=Symbol(""),kd=Symbol(""),eI=Symbol(""),vh=Symbol("");function Oi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function dr(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(ri(4,{from:n,to:e})):h instanceof Error?a(h):K1(h)?a(ri(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(r&&r.instances[s],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function pu(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(ID(a)){const l=(a.__vccOpts||a)[e];l&&s.push(dr(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=P1(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&dr(f,n,r,i,o)()}))}}return s}function ID(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Tg(t){const e=an(kd),n=an(eI),r=Oe(()=>e.resolve(Ee(t.to))),s=Oe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(ni.bind(null,u));if(f>-1)return f;const m=Ig(c[l-2]);return l>1&&Ig(u)===m&&h[h.length-1].path!==m?h.findIndex(ni.bind(null,c[l-2])):f}),i=Oe(()=>s.value>-1&&RD(n.params,r.value.params)),o=Oe(()=>s.value>-1&&s.value===n.matched.length-1&&HT(n.params,r.value.params));function a(c={}){return AD(c)?e[Ee(t.replace)?"replace":"push"](Ee(t.to)).catch(eo):Promise.resolve()}return{route:r,href:Oe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const wD=Fo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Tg,setup(t,{slots:e}){const n=Gn(Tg(t)),{options:r}=an(kd),s=Oe(()=>({[wg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[wg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:$o("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),bD=wD;function AD(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function RD(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!vn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Ig(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wg=(t,e,n)=>t??e??n,CD=Fo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=an(vh),s=Oe(()=>t.route||r.value),i=an(Eg,0),o=Oe(()=>{let l=Ee(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Oe(()=>s.value.matched[o.value]);xa(Eg,Oe(()=>o.value+1)),xa(TD,a),xa(vh,s);const c=Ze();return on(()=>[c.value,a.value,t.name],([l,u,h],[f,m,v])=>{u&&(u.instances[h]=l,m&&m!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),l&&u&&(!m||!ni(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(E=>E(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return bg(n.default,{Component:f,route:l});const m=h.props[u],v=m?m===!0?l.params:typeof m=="function"?m(l):m:null,w=$o(f,Me({},v,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return bg(n.default,{Component:w,route:l})||w}}});function bg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const PD=CD;function SD(t){const e=nD(t.routes,t),n=t.parseQuery||vD,r=t.stringifyQuery||vg,s=t.history,i=Oi(),o=Oi(),a=Oi(),c=Wh(ir);let l=ir;Ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=fu.bind(null,L=>""+L),h=fu.bind(null,yD),f=fu.bind(null,Nc);function m(L,K){let q,Y;return KT(L)?(q=e.getRecordMatcher(L),Y=K):Y=L,e.addRoute(Y,q)}function v(L){const K=e.getRecordMatcher(L);K&&e.removeRoute(K)}function E(){return e.getRoutes().map(L=>L.record)}function w(L){return!!e.getRecordMatcher(L)}function g(L,K){if(K=Me({},K||c.value),typeof L=="string"){const p=du(n,L,K.path),_=e.resolve({path:p.path},K),b=s.createHref(p.fullPath);return Me(p,_,{params:f(_.params),hash:Nc(p.hash),redirectedFrom:void 0,href:b})}let q;if("path"in L)q=Me({},L,{path:du(n,L.path,K.path).path});else{const p=Me({},L.params);for(const _ in p)p[_]==null&&delete p[_];q=Me({},L,{params:h(p)}),K.params=h(K.params)}const Y=e.resolve(q,K),Te=L.hash||"";Y.params=u(f(Y.params));const y=O1(r,Me({},L,{hash:mD(Te),path:Y.path})),d=s.createHref(y);return Me({fullPath:y,hash:Te,query:r===vg?ED(L.query):L.query||{}},Y,{redirectedFrom:void 0,href:d})}function I(L){return typeof L=="string"?du(n,L,c.value.path):Me({},L)}function A(L,K){if(l!==L)return ri(8,{from:K,to:L})}function T(L){return S(L)}function P(L){return T(Me(I(L),{replace:!0}))}function k(L){const K=L.matched[L.matched.length-1];if(K&&K.redirect){const{redirect:q}=K;let Y=typeof q=="function"?q(L):q;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=I(Y):{path:Y},Y.params={}),Me({query:L.query,hash:L.hash,params:"path"in Y?{}:L.params},Y)}}function S(L,K){const q=l=g(L),Y=c.value,Te=L.state,y=L.force,d=L.replace===!0,p=k(q);if(p)return S(Me(I(p),{state:typeof p=="object"?Me({},Te,p.state):Te,force:y,replace:d}),K||q);const _=q;_.redirectedFrom=K;let b;return!y&&N1(r,Y,q)&&(b=ri(16,{to:_,from:Y}),nt(Y,Y,!0,!1)),(b?Promise.resolve(b):V(_,Y)).catch(C=>Fn(C)?Fn(C,2)?C:tt(C):de(C,_,Y)).then(C=>{if(C){if(Fn(C,2))return S(Me({replace:d},I(C.to),{state:typeof C.to=="object"?Me({},Te,C.to.state):Te,force:y}),K||_)}else C=B(_,Y,!0,d,Te);return ee(_,Y,C),C})}function D(L,K){const q=A(L,K);return q?Promise.reject(q):Promise.resolve()}function N(L){const K=Gt.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(L):L()}function V(L,K){let q;const[Y,Te,y]=kD(L,K);q=pu(Y.reverse(),"beforeRouteLeave",L,K);for(const p of Y)p.leaveGuards.forEach(_=>{q.push(dr(_,L,K))});const d=D.bind(null,L,K);return q.push(d),Je(q).then(()=>{q=[];for(const p of i.list())q.push(dr(p,L,K));return q.push(d),Je(q)}).then(()=>{q=pu(Te,"beforeRouteUpdate",L,K);for(const p of Te)p.updateGuards.forEach(_=>{q.push(dr(_,L,K))});return q.push(d),Je(q)}).then(()=>{q=[];for(const p of y)if(p.beforeEnter)if(vn(p.beforeEnter))for(const _ of p.beforeEnter)q.push(dr(_,L,K));else q.push(dr(p.beforeEnter,L,K));return q.push(d),Je(q)}).then(()=>(L.matched.forEach(p=>p.enterCallbacks={}),q=pu(y,"beforeRouteEnter",L,K),q.push(d),Je(q))).then(()=>{q=[];for(const p of o.list())q.push(dr(p,L,K));return q.push(d),Je(q)}).catch(p=>Fn(p,8)?p:Promise.reject(p))}function ee(L,K,q){a.list().forEach(Y=>N(()=>Y(L,K,q)))}function B(L,K,q,Y,Te){const y=A(L,K);if(y)return y;const d=K===ir,p=Ps?history.state:{};q&&(Y||d?s.replace(L.fullPath,Me({scroll:d&&p&&p.scroll},Te)):s.push(L.fullPath,Te)),c.value=L,nt(L,K,q,d),tt()}let ae;function Pe(){ae||(ae=s.listen((L,K,q)=>{if(!xn.listening)return;const Y=g(L),Te=k(Y);if(Te){S(Me(Te,{replace:!0}),Y).catch(eo);return}l=Y;const y=c.value;Ps&&$1(hg(y.fullPath,q.delta),Nl()),V(Y,y).catch(d=>Fn(d,12)?d:Fn(d,2)?(S(d.to,Y).then(p=>{Fn(p,20)&&!q.delta&&q.type===Oo.pop&&s.go(-1,!1)}).catch(eo),Promise.reject()):(q.delta&&s.go(-q.delta,!1),de(d,Y,y))).then(d=>{d=d||B(Y,y,!1),d&&(q.delta&&!Fn(d,8)?s.go(-q.delta,!1):q.type===Oo.pop&&Fn(d,20)&&s.go(-1,!1)),ee(Y,y,d)}).catch(eo)}))}let Fe=Oi(),te=Oi(),ve;function de(L,K,q){tt(L);const Y=te.list();return Y.length?Y.forEach(Te=>Te(L,K,q)):console.error(L),Promise.reject(L)}function De(){return ve&&c.value!==ir?Promise.resolve():new Promise((L,K)=>{Fe.add([L,K])})}function tt(L){return ve||(ve=!L,Pe(),Fe.list().forEach(([K,q])=>L?q(L):K()),Fe.reset()),L}function nt(L,K,q,Y){const{scrollBehavior:Te}=t;if(!Ps||!Te)return Promise.resolve();const y=!q&&B1(hg(L.fullPath,0))||(Y||!q)&&history.state&&history.state.scroll||null;return xo().then(()=>Te(L,K,y)).then(d=>d&&U1(d)).catch(d=>de(d,L,K))}const Xe=L=>s.go(L);let en;const Gt=new Set,xn={currentRoute:c,listening:!0,addRoute:m,removeRoute:v,hasRoute:w,getRoutes:E,resolve:g,options:t,push:T,replace:P,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:te.add,isReady:De,install(L){const K=this;L.component("RouterLink",bD),L.component("RouterView",PD),L.config.globalProperties.$router=K,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Ee(c)}),Ps&&!en&&c.value===ir&&(en=!0,T(s.location).catch(Te=>{}));const q={};for(const Te in ir)Object.defineProperty(q,Te,{get:()=>c.value[Te],enumerable:!0});L.provide(kd,K),L.provide(eI,w_(q)),L.provide(vh,c);const Y=L.unmount;Gt.add(L),L.unmount=function(){Gt.delete(L),Gt.size<1&&(l=ir,ae&&ae(),ae=null,c.value=ir,en=!1,ve=!1),Y()}}};function Je(L){return L.reduce((K,q)=>K.then(()=>N(q)),Promise.resolve())}return xn}function kD(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>ni(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>ni(l,c))||s.push(c))}return[n,r,s]}const tI="/task-manager/svg/home-white.svg",nI="/task-manager/svg/home.svg",rI="/task-manager/svg/task-white.svg",sI="/task-manager/svg/task.svg",iI="/task-manager/svg/team-white.svg",oI="/task-manager/svg/team.svg",aI="/task-manager/svg/logout-white.svg",cI="/task-manager/svg/logout.svg";function lI(t){return xh()?(Uc(t),!0):!1}function si(t){return typeof t=="function"?t():Ee(t)}const uI=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const OD=Object.prototype.toString,ND=t=>OD.call(t)==="[object Object]",hI=()=>{},fV=DD();function DD(){var t,e;return uI&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function LD(t,e){function n(...r){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return n}const fI=t=>t();function MD(t=fI){const e=Ze(!0);function n(){e.value=!1}function r(){e.value=!0}const s=(...i)=>{e.value&&t(...i)};return{isActive:hi(e),pause:n,resume:r,eventFilter:s}}const dV={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function xD(t){return t||pn()}function FD(...t){if(t.length!==1)return Fw(...t);const e=t[0];return typeof e=="function"?hi(Lw(()=>({get:e,set:hI}))):Ze(e)}function VD(t,e,n={}){const{eventFilter:r=fI,...s}=n;return on(t,LD(r,e),s)}function UD(t,e,n={}){const{eventFilter:r,...s}=n,{eventFilter:i,pause:o,resume:a,isActive:c}=MD(r);return{stop:VD(t,e,{...s,eventFilter:i}),pause:o,resume:a,isActive:c}}function dI(t,e=!0,n){const r=xD(n);r?Vo(t,r):e?t():xo(t)}function pI(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,s=Be(t),i=Ze(t);function o(a){if(arguments.length)return i.value=a,i.value;{const c=si(n);return i.value=i.value===c?si(r):c,i.value}}return s?o:[i,o]}function mI(t){var e;const n=si(t);return(e=n==null?void 0:n.$el)!=null?e:n}const ii=uI?window:void 0;function Ag(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=ii):[e,n,r,s]=t,!e)return hI;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,h,f,m)=>(u.addEventListener(h,f,m),()=>u.removeEventListener(h,f,m)),c=on(()=>[mI(e),si(s)],([u,h])=>{if(o(),!u)return;const f=ND(h)?{...h}:h;i.push(...n.flatMap(m=>r.map(v=>a(u,m,v,f))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return lI(l),l}function $D(){const t=Ze(!1);return pn()&&Vo(()=>{t.value=!0}),t}function BD(t){const e=$D();return Oe(()=>(e.value,!!t()))}function jD(t,e={}){const{window:n=ii}=e,r=BD(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const i=Ze(!1),o=l=>{i.value=l.matches},a=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",o):s.removeListener(o))},c=x_(()=>{r.value&&(a(),s=n.matchMedia(si(t)),"addEventListener"in s?s.addEventListener("change",o):s.addListener(o),i.value=s.matches)});return lI(()=>{c(),a(),s=void 0}),i}const Sa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ka="__vueuse_ssr_handlers__",qD=HD();function HD(){return ka in Sa||(Sa[ka]=Sa[ka]||{}),Sa[ka]}function gI(t,e){return qD[t]||e}function WD(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const KD={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Rg="vueuse-storage";function QD(t,e,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:c=!0,mergeDefaults:l=!1,shallow:u,window:h=ii,eventFilter:f,onError:m=N=>{console.error(N)},initOnMounted:v}=r,E=(u?Wh:Ze)(typeof e=="function"?e():e);if(!n)try{n=gI("getDefaultStorage",()=>{var N;return(N=ii)==null?void 0:N.localStorage})()}catch(N){m(N)}if(!n)return E;const w=si(e),g=WD(w),I=(s=r.serializer)!=null?s:KD[g],{pause:A,resume:T}=UD(E,()=>P(E.value),{flush:i,deep:o,eventFilter:f});return h&&a&&dI(()=>{Ag(h,"storage",D),Ag(h,Rg,S),v&&D()}),v||D(),E;function P(N){try{if(N==null)n.removeItem(t);else{const V=I.write(N),ee=n.getItem(t);ee!==V&&(n.setItem(t,V),h&&h.dispatchEvent(new CustomEvent(Rg,{detail:{key:t,oldValue:ee,newValue:V,storageArea:n}})))}}catch(V){m(V)}}function k(N){const V=N?N.newValue:n.getItem(t);if(V==null)return c&&w!=null&&n.setItem(t,I.write(w)),w;if(!N&&l){const ee=I.read(V);return typeof l=="function"?l(ee,w):g==="object"&&!Array.isArray(ee)?{...w,...ee}:ee}else return typeof V!="string"?V:I.read(V)}function S(N){D(N.detail)}function D(N){if(!(N&&N.storageArea!==n)){if(N&&N.key==null){E.value=w;return}if(!(N&&N.key!==t)){A();try{(N==null?void 0:N.newValue)!==I.write(E.value)&&(E.value=k(N))}catch(V){m(V)}finally{N?xo(T):T()}}}}}function _I(t){return jD("(prefers-color-scheme: dark)",t)}function GD(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:s=ii,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:c,emitAuto:l,disableTransition:u=!0}=t,h={auto:"",light:"light",dark:"dark",...t.modes||{}},f=_I({window:s}),m=Oe(()=>f.value?"dark":"light"),v=c||(o==null?FD(r):QD(o,r,i,{window:s,listenToStorageChanges:a})),E=Oe(()=>v.value==="auto"?m.value:v.value),w=gI("updateHTMLAttrs",(T,P,k)=>{const S=typeof T=="string"?s==null?void 0:s.document.querySelector(T):mI(T);if(!S)return;let D;if(u){D=s.document.createElement("style");const N="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";D.appendChild(document.createTextNode(N)),s.document.head.appendChild(D)}if(P==="class"){const N=k.split(/\s/g);Object.values(h).flatMap(V=>(V||"").split(/\s/g)).filter(Boolean).forEach(V=>{N.includes(V)?S.classList.add(V):S.classList.remove(V)})}else S.setAttribute(P,k);u&&(s.getComputedStyle(D).opacity,document.head.removeChild(D))});function g(T){var P;w(e,n,(P=h[T])!=null?P:T)}function I(T){t.onChanged?t.onChanged(T,g):g(T)}on(E,I,{flush:"post",immediate:!0}),dI(()=>I(E.value));const A=Oe({get(){return l?v.value:E.value},set(T){v.value=T}});try{return Object.assign(A,{store:v,system:m,state:E})}catch{return A}}function Dl(t={}){const{valueDark:e="dark",valueLight:n="",window:r=ii}=t,s=GD({...t,onChanged:(a,c)=>{var l;t.onChanged?(l=t.onChanged)==null||l.call(t,a==="dark",c,a):c(a)},modes:{dark:e,light:n}}),i=Oe(()=>s.system?s.system.value:_I({window:r}).value?"dark":"light");return Oe({get(){return s.value==="dark"},set(a){const c=a?"dark":"light";i.value===c?s.value="auto":s.value=c}})}const zD={},YD={role:"status"},XD=G("svg",{"aria-hidden":"true",class:"inline w-6 h-6 text-gray-200 animate-spin dark:text-gray-600 fill-gray-600 dark:fill-gray-300",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[G("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),G("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})],-1),JD=[XD];function ZD(t,e){return Z(),ue("div",YD,JD)}const yI=Pd(zD,[["render",ZD]]);function vI(){const t=Yc(),e=la();return lA({mutationFn:f1,onSuccess:()=>{t.invalidateQueries({queryKey:["user"]}),Vd.push("/"),e.addNotification("success","You are successfully logged out")},onError:()=>{e.addNotification("error","Error logging out!")}})}const eL={class:"w-64 h-screen fixed bg-white dark:bg-dark-bg-black xl:flex flex-col justify-between py-20 hidden"},tL=G("img",{src:Ol,alt:"logo"},null,-1),nL=G("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),rL={class:"flex flex-col gap-5 text-lg"},sL={key:0,src:tI,alt:"home-white"},iL={key:1,src:nI,alt:"home"},oL={key:0,src:rI,alt:"task-white"},aL={key:1,src:sI,alt:"task"},cL={key:0,src:iI,alt:"team-white"},lL={key:1,src:oI,alt:"team"},uL={key:1},hL={key:0,src:aI,alt:"logout-white",class:"w-7 h-7"},fL={key:1,src:cI,alt:"logout",class:"w-7 h-7"},dL={__name:"SideBar",setup(t){const e=Dl(),{mutateAsync:n,isLoading:r}=vI(),s=()=>{n()};return(i,o)=>{const a=ms("router-link");return Z(),ue("div",eL,[ne(a,{to:{name:"home"},class:"flex items-center gap-5 pl-6"},{default:Ge(()=>[tL,nL]),_:1}),G("div",rL,[ne(a,{to:{name:"home"},class:"nav"},{default:Ge(()=>[Ee(e)?(Z(),ue("img",sL)):(Z(),ue("img",iL)),Kt(" "+Ve(i.$t("sidebar.home")),1)]),_:1}),ne(a,{to:{name:"tasks"},class:"nav"},{default:Ge(()=>[Ee(e)?(Z(),ue("img",oL)):(Z(),ue("img",aL)),Kt(" "+Ve(i.$t("sidebar.tasks")),1)]),_:1}),ne(a,{to:{name:"team"},class:"nav"},{default:Ge(()=>[Ee(e)?(Z(),ue("img",cL)):(Z(),ue("img",lL)),Kt(" "+Ve(i.$t("sidebar.team")),1)]),_:1})]),G("div",null,[ne(a,{to:"",class:"nav text-xl",onClick:s},{default:Ge(()=>[Ee(r)?(Z(),$t(yI,{key:0})):(Z(),ue("div",uL,[Ee(e)?(Z(),ue("img",hL)):(Z(),ue("img",fL))])),G("span",null,Ve(i.$t("sidebar.logOut")),1)]),_:1})])])}}},pL="/task-manager/svg/nav-white.svg",mL="/task-manager/svg/nav.svg",EI="/task-manager/svg/sun.svg",TI="/task-manager/svg/moon.svg";/*!
  * shared v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Eh=typeof window<"u",Ur=(t,e=!1)=>e?Symbol.for(t):Symbol(t),gL=(t,e,n)=>_L({l:t,k:e,s:n}),_L=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),lt=t=>typeof t=="number"&&isFinite(t),yL=t=>wI(t)==="[object Date]",Nr=t=>wI(t)==="[object RegExp]",Ll=t=>me(t)&&Object.keys(t).length===0,Pt=Object.assign;let Cg;const Bn=()=>Cg||(Cg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pg(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const vL=Object.prototype.hasOwnProperty;function No(t,e){return vL.call(t,e)}const Ke=Array.isArray,$e=t=>typeof t=="function",Q=t=>typeof t=="string",Ie=t=>typeof t=="boolean",Le=t=>t!==null&&typeof t=="object",EL=t=>Le(t)&&$e(t.then)&&$e(t.catch),II=Object.prototype.toString,wI=t=>II.call(t),me=t=>{if(!Le(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},TL=t=>t==null?"":Ke(t)||me(t)&&t.toString===II?JSON.stringify(t,null,2):String(t);function IL(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function Od(t){let e=t;return()=>++e}function wL(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Oa=t=>!Le(t)||Ke(t);function no(t,e){if(Oa(t)||Oa(e))throw new Error("Invalid value");for(const n in t)No(t,n)&&(Oa(t[n])||Oa(e[n])?e[n]=t[n]:no(t[n],e[n]))}/*!
  * message-compiler v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function bL(t,e,n){return{line:t,column:e,offset:n}}function Th(t,e,n){const r={start:t,end:e};return n!=null&&(r.source=n),r}const AL=/\{([0-9a-zA-Z]+)\}/g;function RL(t,...e){return e.length===1&&CL(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(AL,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const bI=Object.assign,Sg=t=>typeof t=="string",CL=t=>t!==null&&typeof t=="object";function AI(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const ce={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},PL={[ce.EXPECTED_TOKEN]:"Expected token: '{0}'",[ce.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ce.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ce.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ce.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ce.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ce.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ce.EMPTY_PLACEHOLDER]:"Empty placeholder",[ce.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ce.INVALID_LINKED_FORMAT]:"Invalid linked format",[ce.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ce.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ce.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ce.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ce.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ce.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function wi(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=RL((s||PL)[t]||"",...i||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function SL(t){throw t}const Vn=" ",kL="\r",Ut=`
`,OL=String.fromCharCode(8232),NL=String.fromCharCode(8233);function DL(t){const e=t;let n=0,r=1,s=1,i=0;const o=S=>e[S]===kL&&e[S+1]===Ut,a=S=>e[S]===Ut,c=S=>e[S]===NL,l=S=>e[S]===OL,u=S=>o(S)||a(S)||c(S)||l(S),h=()=>n,f=()=>r,m=()=>s,v=()=>i,E=S=>o(S)||c(S)||l(S)?Ut:e[S],w=()=>E(n),g=()=>E(n+i);function I(){return i=0,u(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function A(){return o(n+i)&&i++,i++,e[n+i]}function T(){n=0,r=1,s=1,i=0}function P(S=0){i=S}function k(){const S=n+i;for(;S!==n;)I();i=0}return{index:h,line:f,column:m,peekOffset:v,charAt:E,currentChar:w,currentPeek:g,next:I,peek:A,reset:T,resetPeek:P,skipToPeek:k}}const or=void 0,LL=".",kg="'",ML="tokenizer";function xL(t,e={}){const n=e.location!==!1,r=DL(t),s=()=>r.index(),i=()=>bL(r.line(),r.column(),r.index()),o=i(),a=s(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function h(d,p,_,...b){const C=l();if(p.column+=_,p.offset+=_,u){const x=n?Th(C.startLoc,p):null,$=wi(d,x,{domain:ML,args:b});u($)}}function f(d,p,_){d.endLoc=i(),d.currentType=p;const b={type:p};return n&&(b.loc=Th(d.startLoc,d.endLoc)),_!=null&&(b.value=_),b}const m=d=>f(d,14);function v(d,p){return d.currentChar()===p?(d.next(),p):(h(ce.EXPECTED_TOKEN,i(),0,p),"")}function E(d){let p="";for(;d.currentPeek()===Vn||d.currentPeek()===Ut;)p+=d.currentPeek(),d.peek();return p}function w(d){const p=E(d);return d.skipToPeek(),p}function g(d){if(d===or)return!1;const p=d.charCodeAt(0);return p>=97&&p<=122||p>=65&&p<=90||p===95}function I(d){if(d===or)return!1;const p=d.charCodeAt(0);return p>=48&&p<=57}function A(d,p){const{currentType:_}=p;if(_!==2)return!1;E(d);const b=g(d.currentPeek());return d.resetPeek(),b}function T(d,p){const{currentType:_}=p;if(_!==2)return!1;E(d);const b=d.currentPeek()==="-"?d.peek():d.currentPeek(),C=I(b);return d.resetPeek(),C}function P(d,p){const{currentType:_}=p;if(_!==2)return!1;E(d);const b=d.currentPeek()===kg;return d.resetPeek(),b}function k(d,p){const{currentType:_}=p;if(_!==8)return!1;E(d);const b=d.currentPeek()===".";return d.resetPeek(),b}function S(d,p){const{currentType:_}=p;if(_!==9)return!1;E(d);const b=g(d.currentPeek());return d.resetPeek(),b}function D(d,p){const{currentType:_}=p;if(!(_===8||_===12))return!1;E(d);const b=d.currentPeek()===":";return d.resetPeek(),b}function N(d,p){const{currentType:_}=p;if(_!==10)return!1;const b=()=>{const x=d.currentPeek();return x==="{"?g(d.peek()):x==="@"||x==="%"||x==="|"||x===":"||x==="."||x===Vn||!x?!1:x===Ut?(d.peek(),b()):g(x)},C=b();return d.resetPeek(),C}function V(d){E(d);const p=d.currentPeek()==="|";return d.resetPeek(),p}function ee(d){const p=E(d),_=d.currentPeek()==="%"&&d.peek()==="{";return d.resetPeek(),{isModulo:_,hasSpace:p.length>0}}function B(d,p=!0){const _=(C=!1,x="",$=!1)=>{const j=d.currentPeek();return j==="{"?x==="%"?!1:C:j==="@"||!j?x==="%"?!0:C:j==="%"?(d.peek(),_(C,"%",!0)):j==="|"?x==="%"||$?!0:!(x===Vn||x===Ut):j===Vn?(d.peek(),_(!0,Vn,$)):j===Ut?(d.peek(),_(!0,Ut,$)):!0},b=_();return p&&d.resetPeek(),b}function ae(d,p){const _=d.currentChar();return _===or?or:p(_)?(d.next(),_):null}function Pe(d){return ae(d,_=>{const b=_.charCodeAt(0);return b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===95||b===36})}function Fe(d){return ae(d,_=>{const b=_.charCodeAt(0);return b>=48&&b<=57})}function te(d){return ae(d,_=>{const b=_.charCodeAt(0);return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102})}function ve(d){let p="",_="";for(;p=Fe(d);)_+=p;return _}function de(d){w(d);const p=d.currentChar();return p!=="%"&&h(ce.EXPECTED_TOKEN,i(),0,p),d.next(),"%"}function De(d){let p="";for(;;){const _=d.currentChar();if(_==="{"||_==="}"||_==="@"||_==="|"||!_)break;if(_==="%")if(B(d))p+=_,d.next();else break;else if(_===Vn||_===Ut)if(B(d))p+=_,d.next();else{if(V(d))break;p+=_,d.next()}else p+=_,d.next()}return p}function tt(d){w(d);let p="",_="";for(;p=Pe(d);)_+=p;return d.currentChar()===or&&h(ce.UNTERMINATED_CLOSING_BRACE,i(),0),_}function nt(d){w(d);let p="";return d.currentChar()==="-"?(d.next(),p+=`-${ve(d)}`):p+=ve(d),d.currentChar()===or&&h(ce.UNTERMINATED_CLOSING_BRACE,i(),0),p}function Xe(d){w(d),v(d,"'");let p="",_="";const b=x=>x!==kg&&x!==Ut;for(;p=ae(d,b);)p==="\\"?_+=en(d):_+=p;const C=d.currentChar();return C===Ut||C===or?(h(ce.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),C===Ut&&(d.next(),v(d,"'")),_):(v(d,"'"),_)}function en(d){const p=d.currentChar();switch(p){case"\\":case"'":return d.next(),`\\${p}`;case"u":return Gt(d,p,4);case"U":return Gt(d,p,6);default:return h(ce.UNKNOWN_ESCAPE_SEQUENCE,i(),0,p),""}}function Gt(d,p,_){v(d,p);let b="";for(let C=0;C<_;C++){const x=te(d);if(!x){h(ce.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${p}${b}${d.currentChar()}`);break}b+=x}return`\\${p}${b}`}function xn(d){w(d);let p="",_="";const b=C=>C!=="{"&&C!=="}"&&C!==Vn&&C!==Ut;for(;p=ae(d,b);)_+=p;return _}function Je(d){let p="",_="";for(;p=Pe(d);)_+=p;return _}function L(d){const p=(_=!1,b)=>{const C=d.currentChar();return C==="{"||C==="%"||C==="@"||C==="|"||C==="("||C===")"||!C||C===Vn?b:C===Ut||C===LL?(b+=C,d.next(),p(_,b)):(b+=C,d.next(),p(!0,b))};return p(!1,"")}function K(d){w(d);const p=v(d,"|");return w(d),p}function q(d,p){let _=null;switch(d.currentChar()){case"{":return p.braceNest>=1&&h(ce.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),d.next(),_=f(p,2,"{"),w(d),p.braceNest++,_;case"}":return p.braceNest>0&&p.currentType===2&&h(ce.EMPTY_PLACEHOLDER,i(),0),d.next(),_=f(p,3,"}"),p.braceNest--,p.braceNest>0&&w(d),p.inLinked&&p.braceNest===0&&(p.inLinked=!1),_;case"@":return p.braceNest>0&&h(ce.UNTERMINATED_CLOSING_BRACE,i(),0),_=Y(d,p)||m(p),p.braceNest=0,_;default:let C=!0,x=!0,$=!0;if(V(d))return p.braceNest>0&&h(ce.UNTERMINATED_CLOSING_BRACE,i(),0),_=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,_;if(p.braceNest>0&&(p.currentType===5||p.currentType===6||p.currentType===7))return h(ce.UNTERMINATED_CLOSING_BRACE,i(),0),p.braceNest=0,Te(d,p);if(C=A(d,p))return _=f(p,5,tt(d)),w(d),_;if(x=T(d,p))return _=f(p,6,nt(d)),w(d),_;if($=P(d,p))return _=f(p,7,Xe(d)),w(d),_;if(!C&&!x&&!$)return _=f(p,13,xn(d)),h(ce.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,_.value),w(d),_;break}return _}function Y(d,p){const{currentType:_}=p;let b=null;const C=d.currentChar();switch((_===8||_===9||_===12||_===10)&&(C===Ut||C===Vn)&&h(ce.INVALID_LINKED_FORMAT,i(),0),C){case"@":return d.next(),b=f(p,8,"@"),p.inLinked=!0,b;case".":return w(d),d.next(),f(p,9,".");case":":return w(d),d.next(),f(p,10,":");default:return V(d)?(b=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,b):k(d,p)||D(d,p)?(w(d),Y(d,p)):S(d,p)?(w(d),f(p,12,Je(d))):N(d,p)?(w(d),C==="{"?q(d,p)||b:f(p,11,L(d))):(_===8&&h(ce.INVALID_LINKED_FORMAT,i(),0),p.braceNest=0,p.inLinked=!1,Te(d,p))}}function Te(d,p){let _={type:14};if(p.braceNest>0)return q(d,p)||m(p);if(p.inLinked)return Y(d,p)||m(p);switch(d.currentChar()){case"{":return q(d,p)||m(p);case"}":return h(ce.UNBALANCED_CLOSING_BRACE,i(),0),d.next(),f(p,3,"}");case"@":return Y(d,p)||m(p);default:if(V(d))return _=f(p,1,K(d)),p.braceNest=0,p.inLinked=!1,_;const{isModulo:C,hasSpace:x}=ee(d);if(C)return x?f(p,0,De(d)):f(p,4,de(d));if(B(d))return f(p,0,De(d));break}return _}function y(){const{currentType:d,offset:p,startLoc:_,endLoc:b}=c;return c.lastType=d,c.lastOffset=p,c.lastStartLoc=_,c.lastEndLoc=b,c.offset=s(),c.startLoc=i(),r.currentChar()===or?f(c,14):Te(r,c)}return{nextToken:y,currentOffset:s,currentPosition:i,context:l}}const FL="parser",VL=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function UL(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function $L(t={}){const e=t.location!==!1,{onError:n}=t;function r(g,I,A,T,...P){const k=g.currentPosition();if(k.offset+=T,k.column+=T,n){const S=e?Th(A,k):null,D=wi(I,S,{domain:FL,args:P});n(D)}}function s(g,I,A){const T={type:g};return e&&(T.start=I,T.end=I,T.loc={start:A,end:A}),T}function i(g,I,A,T){T&&(g.type=T),e&&(g.end=I,g.loc&&(g.loc.end=A))}function o(g,I){const A=g.context(),T=s(3,A.offset,A.startLoc);return T.value=I,i(T,g.currentOffset(),g.currentPosition()),T}function a(g,I){const A=g.context(),{lastOffset:T,lastStartLoc:P}=A,k=s(5,T,P);return k.index=parseInt(I,10),g.nextToken(),i(k,g.currentOffset(),g.currentPosition()),k}function c(g,I){const A=g.context(),{lastOffset:T,lastStartLoc:P}=A,k=s(4,T,P);return k.key=I,g.nextToken(),i(k,g.currentOffset(),g.currentPosition()),k}function l(g,I){const A=g.context(),{lastOffset:T,lastStartLoc:P}=A,k=s(9,T,P);return k.value=I.replace(VL,UL),g.nextToken(),i(k,g.currentOffset(),g.currentPosition()),k}function u(g){const I=g.nextToken(),A=g.context(),{lastOffset:T,lastStartLoc:P}=A,k=s(8,T,P);return I.type!==12?(r(g,ce.UNEXPECTED_EMPTY_LINKED_MODIFIER,A.lastStartLoc,0),k.value="",i(k,T,P),{nextConsumeToken:I,node:k}):(I.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,In(I)),k.value=I.value||"",i(k,g.currentOffset(),g.currentPosition()),{node:k})}function h(g,I){const A=g.context(),T=s(7,A.offset,A.startLoc);return T.value=I,i(T,g.currentOffset(),g.currentPosition()),T}function f(g){const I=g.context(),A=s(6,I.offset,I.startLoc);let T=g.nextToken();if(T.type===9){const P=u(g);A.modifier=P.node,T=P.nextConsumeToken||g.nextToken()}switch(T.type!==10&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(T)),T=g.nextToken(),T.type===2&&(T=g.nextToken()),T.type){case 11:T.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(T)),A.key=h(g,T.value||"");break;case 5:T.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(T)),A.key=c(g,T.value||"");break;case 6:T.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(T)),A.key=a(g,T.value||"");break;case 7:T.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(T)),A.key=l(g,T.value||"");break;default:r(g,ce.UNEXPECTED_EMPTY_LINKED_KEY,I.lastStartLoc,0);const P=g.context(),k=s(7,P.offset,P.startLoc);return k.value="",i(k,P.offset,P.startLoc),A.key=k,i(A,P.offset,P.startLoc),{nextConsumeToken:T,node:A}}return i(A,g.currentOffset(),g.currentPosition()),{node:A}}function m(g){const I=g.context(),A=I.currentType===1?g.currentOffset():I.offset,T=I.currentType===1?I.endLoc:I.startLoc,P=s(2,A,T);P.items=[];let k=null;do{const N=k||g.nextToken();switch(k=null,N.type){case 0:N.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(N)),P.items.push(o(g,N.value||""));break;case 6:N.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(N)),P.items.push(a(g,N.value||""));break;case 5:N.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(N)),P.items.push(c(g,N.value||""));break;case 7:N.value==null&&r(g,ce.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,In(N)),P.items.push(l(g,N.value||""));break;case 8:const V=f(g);P.items.push(V.node),k=V.nextConsumeToken||null;break}}while(I.currentType!==14&&I.currentType!==1);const S=I.currentType===1?I.lastOffset:g.currentOffset(),D=I.currentType===1?I.lastEndLoc:g.currentPosition();return i(P,S,D),P}function v(g,I,A,T){const P=g.context();let k=T.items.length===0;const S=s(1,I,A);S.cases=[],S.cases.push(T);do{const D=m(g);k||(k=D.items.length===0),S.cases.push(D)}while(P.currentType!==14);return k&&r(g,ce.MUST_HAVE_MESSAGES_IN_PLURAL,A,0),i(S,g.currentOffset(),g.currentPosition()),S}function E(g){const I=g.context(),{offset:A,startLoc:T}=I,P=m(g);return I.currentType===14?P:v(g,A,T,P)}function w(g){const I=xL(g,bI({},t)),A=I.context(),T=s(0,A.offset,A.startLoc);return e&&T.loc&&(T.loc.source=g),T.body=E(I),t.onCacheKey&&(T.cacheKey=t.onCacheKey(g)),A.currentType!==14&&r(I,ce.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,g[A.offset]||""),i(T,I.currentOffset(),I.currentPosition()),T}return{parse:w}}function In(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function BL(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function Og(t,e){for(let n=0;n<t.length;n++)Nd(t[n],e)}function Nd(t,e){switch(t.type){case 1:Og(t.cases,e),e.helper("plural");break;case 2:Og(t.items,e);break;case 6:Nd(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function jL(t,e={}){const n=BL(t);n.helper("normalize"),t.body&&Nd(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function qL(t){const e=t.body;return e.type===2?Ng(e):e.cases.forEach(n=>Ng(n)),t}function Ng(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=AI(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const HL="minifier";function Ss(t){switch(t.t=t.type,t.type){case 0:const e=t;Ss(e.body),e.b=e.body,delete e.body;break;case 1:const n=t,r=n.cases;for(let u=0;u<r.length;u++)Ss(r[u]);n.c=r,delete n.cases;break;case 2:const s=t,i=s.items;for(let u=0;u<i.length;u++)Ss(i[u]);s.i=i,delete s.items,s.static&&(s.s=s.static,delete s.static);break;case 3:case 9:case 8:case 7:const o=t;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=t;Ss(a.key),a.k=a.key,delete a.key,a.modifier&&(Ss(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const c=t;c.i=c.index,delete c.index;break;case 4:const l=t;l.k=l.key,delete l.key;break;default:throw wi(ce.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:HL,args:[t.type]})}delete t.type}const WL="parser";function KL(t,e){const{sourceMap:n,filename:r,breakLineCode:s,needIndent:i}=e,o=e.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:i,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const c=()=>a;function l(w,g){a.code+=w}function u(w,g=!0){const I=g?s:"";l(i?I+"  ".repeat(w):I)}function h(w=!0){const g=++a.indentLevel;w&&u(g)}function f(w=!0){const g=--a.indentLevel;w&&u(g)}function m(){u(a.indentLevel)}return{context:c,push:l,indent:h,deindent:f,newline:m,helper:w=>`_${w}`,needIndent:()=>a.needIndent}}function QL(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),oi(t,e.key),e.modifier?(t.push(", "),oi(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function GL(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(oi(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function zL(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(oi(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function YL(t,e){e.body?oi(t,e.body):t.push("null")}function oi(t,e){const{helper:n}=t;switch(e.type){case 0:YL(t,e);break;case 1:zL(t,e);break;case 2:GL(t,e);break;case 6:QL(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw wi(ce.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:WL,args:[e.type]})}}const XL=(t,e={})=>{const n=Sg(e.mode)?e.mode:"normal",r=Sg(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],c=KL(t,{mode:n,filename:r,sourceMap:s,breakLineCode:i,needIndent:o});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(o),a.length>0&&(c.push(`const { ${AI(a.map(h=>`${h}: _${h}`),", ")} } = ctx`),c.newline()),c.push("return "),oi(c,t),c.deindent(o),c.push("}"),delete t.helpers;const{code:l,map:u}=c.context();return{ast:t,code:l,map:u?u.toJSON():void 0}};function JL(t,e={}){const n=bI({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=$L(n).parse(t);return r?(i&&qL(a),s&&Ss(a),{ast:a,code:""}):(jL(a,n),XL(a,n))}/*!
  * core-base v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function ZL(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Bn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Bn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const $r=[];$r[0]={w:[0],i:[3,0],"[":[4],o:[7]};$r[1]={w:[1],".":[2],"[":[4],o:[7]};$r[2]={w:[2],i:[3,0],0:[3,0]};$r[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};$r[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};$r[5]={"'":[4,0],o:8,l:[5,0]};$r[6]={'"':[4,0],o:8,l:[6,0]};const eM=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function tM(t){return eM.test(t)}function nM(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function rM(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function sM(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:tM(e)?nM(e):"*"+e}function iM(t){const e=[];let n=-1,r=0,s=0,i,o,a,c,l,u,h;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=sM(o),o===!1))return!1;f[1]()}};function m(){const v=t[n+1];if(r===5&&v==="'"||r===6&&v==='"')return n++,a="\\"+v,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&m())){if(c=rM(i),h=$r[r],l=h[c]||h.l||8,l===8||(r=l[0],l[1]!==void 0&&(u=f[l[1]],u&&(a=i,u()===!1))))return;if(r===7)return e}}const Dg=new Map;function oM(t,e){return Le(t)?t[e]:null}function aM(t,e){if(!Le(t))return null;let n=Dg.get(e);if(n||(n=iM(e),n&&Dg.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=s[n[i]];if(o===void 0||$e(s))return null;s=o,i++}return s}const cM=t=>t,lM=t=>"",uM="text",hM=t=>t.length===0?"":IL(t),fM=TL;function Lg(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function dM(t){const e=lt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(lt(t.named.count)||lt(t.named.n))?lt(t.named.count)?t.named.count:lt(t.named.n)?t.named.n:e:e}function pM(t,e){e.count||(e.count=t),e.n||(e.n=t)}function mM(t={}){const e=t.locale,n=dM(t),r=Le(t.pluralRules)&&Q(e)&&$e(t.pluralRules[e])?t.pluralRules[e]:Lg,s=Le(t.pluralRules)&&Q(e)&&$e(t.pluralRules[e])?Lg:void 0,i=g=>g[r(n,g.length,s)],o=t.list||[],a=g=>o[g],c=t.named||{};lt(t.pluralIndex)&&pM(n,c);const l=g=>c[g];function u(g){const I=$e(t.messages)?t.messages(g):Le(t.messages)?t.messages[g]:!1;return I||(t.parent?t.parent.message(g):lM)}const h=g=>t.modifiers?t.modifiers[g]:cM,f=me(t.processor)&&$e(t.processor.normalize)?t.processor.normalize:hM,m=me(t.processor)&&$e(t.processor.interpolate)?t.processor.interpolate:fM,v=me(t.processor)&&Q(t.processor.type)?t.processor.type:uM,w={list:a,named:l,plural:i,linked:(g,...I)=>{const[A,T]=I;let P="text",k="";I.length===1?Le(A)?(k=A.modifier||k,P=A.type||P):Q(A)&&(k=A||k):I.length===2&&(Q(A)&&(k=A||k),Q(T)&&(P=T||P));const S=u(g)(w),D=P==="vnode"&&Ke(S)&&k?S[0]:S;return k?h(k)(D,P):D},message:u,type:v,interpolate:m,normalize:f,values:Pt({},o,c)};return w}let Do=null;function gM(t){Do=t}function _M(t,e,n){Do&&Do.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const yM=vM("function:translate");function vM(t){return e=>Do&&Do.emit(t,e)}const EM={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8},RI=ce.__EXTEND_POINT__,Hr=Od(RI),fn={INVALID_ARGUMENT:RI,INVALID_DATE_ARGUMENT:Hr(),INVALID_ISO_DATE_ARGUMENT:Hr(),NOT_SUPPORT_NON_STRING_MESSAGE:Hr(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Hr(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Hr(),NOT_SUPPORT_LOCALE_TYPE:Hr(),__EXTEND_POINT__:Hr()};function Sn(t){return wi(t,null,void 0)}function Dd(t,e){return e.locale!=null?Mg(e.locale):Mg(t.locale)}let mu;function Mg(t){if(Q(t))return t;if($e(t)){if(t.resolvedOnce&&mu!=null)return mu;if(t.constructor.name==="Function"){const e=t();if(EL(e))throw Sn(fn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return mu=e}else throw Sn(fn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Sn(fn.NOT_SUPPORT_LOCALE_TYPE)}function TM(t,e,n){return[...new Set([n,...Ke(e)?e:Le(e)?Object.keys(e):Q(e)?[e]:[n]])]}function CI(t,e,n){const r=Q(n)?n:ai,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Ke(o);)o=xg(i,o,e);const a=Ke(e)||!me(e)?e:e.default?e.default:null;o=Q(a)?[a]:a,Ke(o)&&xg(i,o,!1),s.__localeChainCache.set(r,i)}return i}function xg(t,e,n){let r=!0;for(let s=0;s<e.length&&Ie(r);s++){const i=e[s];Q(i)&&(r=IM(t,e[s],n))}return r}function IM(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=wM(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function wM(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Ke(n)||me(n))&&n[s]&&(r=n[s])}return r}const bM="9.8.0",Ml=-1,ai="en-US",Fg="",Vg=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function AM(){return{upper:(t,e)=>e==="text"&&Q(t)?t.toUpperCase():e==="vnode"&&Le(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Q(t)?t.toLowerCase():e==="vnode"&&Le(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Q(t)?Vg(t):e==="vnode"&&Le(t)&&"__v_isVNode"in t?Vg(t.children):t}}let PI;function Ug(t){PI=t}let SI;function RM(t){SI=t}let kI;function CM(t){kI=t}let OI=null;const PM=t=>{OI=t},SM=()=>OI;let NI=null;const $g=t=>{NI=t},kM=()=>NI;let Bg=0;function OM(t={}){const e=$e(t.onWarn)?t.onWarn:wL,n=Q(t.version)?t.version:bM,r=Q(t.locale)||$e(t.locale)?t.locale:ai,s=$e(r)?ai:r,i=Ke(t.fallbackLocale)||me(t.fallbackLocale)||Q(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=me(t.messages)?t.messages:{[s]:{}},a=me(t.datetimeFormats)?t.datetimeFormats:{[s]:{}},c=me(t.numberFormats)?t.numberFormats:{[s]:{}},l=Pt({},t.modifiers||{},AM()),u=t.pluralRules||{},h=$e(t.missing)?t.missing:null,f=Ie(t.missingWarn)||Nr(t.missingWarn)?t.missingWarn:!0,m=Ie(t.fallbackWarn)||Nr(t.fallbackWarn)?t.fallbackWarn:!0,v=!!t.fallbackFormat,E=!!t.unresolving,w=$e(t.postTranslation)?t.postTranslation:null,g=me(t.processor)?t.processor:null,I=Ie(t.warnHtmlMessage)?t.warnHtmlMessage:!0,A=!!t.escapeParameter,T=$e(t.messageCompiler)?t.messageCompiler:PI,P=$e(t.messageResolver)?t.messageResolver:SI||oM,k=$e(t.localeFallbacker)?t.localeFallbacker:kI||TM,S=Le(t.fallbackContext)?t.fallbackContext:void 0,D=t,N=Le(D.__datetimeFormatters)?D.__datetimeFormatters:new Map,V=Le(D.__numberFormatters)?D.__numberFormatters:new Map,ee=Le(D.__meta)?D.__meta:{};Bg++;const B={version:n,cid:Bg,locale:r,fallbackLocale:i,messages:o,modifiers:l,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:m,fallbackFormat:v,unresolving:E,postTranslation:w,processor:g,warnHtmlMessage:I,escapeParameter:A,messageCompiler:T,messageResolver:P,localeFallbacker:k,fallbackContext:S,onWarn:e,__meta:ee};return B.datetimeFormats=a,B.numberFormats=c,B.__datetimeFormatters=N,B.__numberFormatters=V,__INTLIFY_PROD_DEVTOOLS__&&_M(B,n,ee),B}function Ld(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return Q(a)?a:e}else return e}function Ni(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function gu(t){return n=>NM(n,t)}function NM(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const r=n,s=r.c||r.cases;return t.plural(s.reduce((i,o)=>[...i,jg(t,o)],[]))}else return jg(t,n)}function jg(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const r=(e.i||e.items).reduce((s,i)=>[...s,Ih(t,i)],[]);return t.normalize(r)}}function Ih(t,e){const n=e.t||e.type;switch(n){case 3:const r=e;return r.v||r.value;case 9:const s=e;return s.v||s.value;case 4:const i=e;return t.interpolate(t.named(i.k||i.key));case 5:const o=e;return t.interpolate(t.list(o.i!=null?o.i:o.index));case 6:const a=e,c=a.m||a.modifier;return t.linked(Ih(t,a.k||a.key),c?Ih(t,c):void 0,t.type);case 7:const l=e;return l.v||l.value;case 8:const u=e;return u.v||u.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const DI=t=>t;let Ns=Object.create(null);const ci=t=>Le(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function LI(t,e={}){let n=!1;const r=e.onError||SL;return e.onError=s=>{n=!0,r(s)},{...JL(t,e),detectError:n}}const DM=(t,e)=>{if(!Q(t))throw Sn(fn.NOT_SUPPORT_NON_STRING_MESSAGE);{Ie(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||DI)(t),s=Ns[r];if(s)return s;const{code:i,detectError:o}=LI(t,e),a=new Function(`return ${i}`)();return o?a:Ns[r]=a}};function LM(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Q(t)){Ie(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||DI)(t),s=Ns[r];if(s)return s;const{ast:i,detectError:o}=LI(t,{...e,location:!1,jit:!0}),a=gu(i);return o?a:Ns[r]=a}else{const n=t.cacheKey;if(n){const r=Ns[n];return r||(Ns[n]=gu(t))}else return gu(t)}}const qg=()=>"",nn=t=>$e(t);function Hg(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[c,l]=wh(...e),u=Ie(l.missingWarn)?l.missingWarn:t.missingWarn,h=Ie(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,f=Ie(l.escapeParameter)?l.escapeParameter:t.escapeParameter,m=!!l.resolvedMessage,v=Q(l.default)||Ie(l.default)?Ie(l.default)?i?c:()=>c:l.default:n?i?c:()=>c:"",E=n||v!=="",w=Dd(t,l);f&&MM(l);let[g,I,A]=m?[c,w,a[w]||{}]:MI(t,c,w,o,h,u),T=g,P=c;if(!m&&!(Q(T)||ci(T)||nn(T))&&E&&(T=v,P=T),!m&&(!(Q(T)||ci(T)||nn(T))||!Q(I)))return s?Ml:c;let k=!1;const S=()=>{k=!0},D=nn(T)?T:xI(t,c,I,T,P,S);if(k)return T;const N=VM(t,I,A,l),V=mM(N),ee=xM(t,D,V),B=r?r(ee,c):ee;if(__INTLIFY_PROD_DEVTOOLS__){const ae={timestamp:Date.now(),key:Q(c)?c:nn(T)?T.key:"",locale:I||(nn(T)?T.locale:""),format:Q(T)?T:nn(T)?T.source:"",message:B};ae.meta=Pt({},t.__meta,SM()||{}),yM(ae)}return B}function MM(t){Ke(t.list)?t.list=t.list.map(e=>Q(e)?Pg(e):e):Le(t.named)&&Object.keys(t.named).forEach(e=>{Q(t.named[e])&&(t.named[e]=Pg(t.named[e]))})}function MI(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,r,n);let h={},f,m=null;const v="translate";for(let E=0;E<u.length&&(f=u[E],h=o[f]||{},(m=c(h,e))===null&&(m=h[e]),!(Q(m)||ci(m)||nn(m)));E++){const w=Ld(t,e,f,i,v);w!==e&&(m=w)}return[m,f,h]}function xI(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(nn(r)){const l=r;return l.locale=l.locale||n,l.key=l.key||e,l}if(o==null){const l=()=>r;return l.locale=n,l.key=e,l}const c=o(r,FM(t,n,s,r,a,i));return c.locale=n,c.key=e,c.source=r,c}function xM(t,e,n){return e(n)}function wh(...t){const[e,n,r]=t,s={};if(!Q(e)&&!lt(e)&&!nn(e)&&!ci(e))throw Sn(fn.INVALID_ARGUMENT);const i=lt(e)?String(e):(nn(e),e);return lt(n)?s.plural=n:Q(n)?s.default=n:me(n)&&!Ll(n)?s.named=n:Ke(n)&&(s.list=n),lt(r)?s.plural=r:Q(r)?s.default=r:me(r)&&Pt(s,r),[i,s]}function FM(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>gL(e,n,o)}}function VM(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:m=>{let v=o(n,m);if(v==null&&u){const[,,E]=MI(u,m,e,a,c,l);v=o(E,m)}if(Q(v)||ci(v)){let E=!1;const g=xI(t,m,e,v,m,()=>{E=!0});return E?qg:g}else return nn(v)?v:qg}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),lt(r.plural)&&(f.pluralIndex=r.plural),f}function Wg(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,h]=bh(...e),f=Ie(u.missingWarn)?u.missingWarn:t.missingWarn;Ie(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const m=!!u.part,v=Dd(t,u),E=o(t,s,v);if(!Q(c)||c==="")return new Intl.DateTimeFormat(v,h).format(l);let w={},g,I=null;const A="datetime format";for(let k=0;k<E.length&&(g=E[k],w=n[g]||{},I=w[c],!me(I));k++)Ld(t,c,g,f,A);if(!me(I)||!Q(g))return r?Ml:c;let T=`${g}__${c}`;Ll(h)||(T=`${T}__${JSON.stringify(h)}`);let P=a.get(T);return P||(P=new Intl.DateTimeFormat(g,Pt({},I,h)),a.set(T,P)),m?P.formatToParts(l):P.format(l)}const FI=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function bh(...t){const[e,n,r,s]=t,i={};let o={},a;if(Q(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Sn(fn.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Sn(fn.INVALID_ISO_DATE_ARGUMENT)}}else if(yL(e)){if(isNaN(e.getTime()))throw Sn(fn.INVALID_DATE_ARGUMENT);a=e}else if(lt(e))a=e;else throw Sn(fn.INVALID_ARGUMENT);return Q(n)?i.key=n:me(n)&&Object.keys(n).forEach(c=>{FI.includes(c)?o[c]=n[c]:i[c]=n[c]}),Q(r)?i.locale=r:me(r)&&(o=r),me(s)&&(o=s),[i.key||"",a,i,o]}function Kg(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function Qg(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,h]=Ah(...e),f=Ie(u.missingWarn)?u.missingWarn:t.missingWarn;Ie(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const m=!!u.part,v=Dd(t,u),E=o(t,s,v);if(!Q(c)||c==="")return new Intl.NumberFormat(v,h).format(l);let w={},g,I=null;const A="number format";for(let k=0;k<E.length&&(g=E[k],w=n[g]||{},I=w[c],!me(I));k++)Ld(t,c,g,f,A);if(!me(I)||!Q(g))return r?Ml:c;let T=`${g}__${c}`;Ll(h)||(T=`${T}__${JSON.stringify(h)}`);let P=a.get(T);return P||(P=new Intl.NumberFormat(g,Pt({},I,h)),a.set(T,P)),m?P.formatToParts(l):P.format(l)}const VI=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ah(...t){const[e,n,r,s]=t,i={};let o={};if(!lt(e))throw Sn(fn.INVALID_ARGUMENT);const a=e;return Q(n)?i.key=n:me(n)&&Object.keys(n).forEach(c=>{VI.includes(c)?o[c]=n[c]:i[c]=n[c]}),Q(r)?i.locale=r:me(r)&&(o=r),me(s)&&(o=s),[i.key||"",a,i,o]}function Gg(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}ZL();/*!
  * vue-i18n v9.8.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const UM="9.8.0";function $M(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Bn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Bn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Bn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Bn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Bn().__INTLIFY_PROD_DEVTOOLS__=!1)}const UI=EM.__EXTEND_POINT__,ar=Od(UI);ar(),ar(),ar(),ar(),ar(),ar(),ar(),ar();const $I=fn.__EXTEND_POINT__,qt=Od($I),ft={UNEXPECTED_RETURN_TYPE:$I,INVALID_ARGUMENT:qt(),MUST_BE_CALL_SETUP_TOP:qt(),NOT_INSTALLED:qt(),NOT_AVAILABLE_IN_LEGACY_MODE:qt(),REQUIRED_VALUE:qt(),INVALID_VALUE:qt(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:qt(),NOT_INSTALLED_WITH_PROVIDE:qt(),UNEXPECTED_ERROR:qt(),NOT_COMPATIBLE_LEGACY_VUE_I18N:qt(),BRIDGE_SUPPORT_VUE_2_ONLY:qt(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:qt(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:qt(),__EXTEND_POINT__:qt()};function _t(t,...e){return wi(t,null,void 0)}const Rh=Ur("__translateVNode"),Ch=Ur("__datetimeParts"),Ph=Ur("__numberParts"),BI=Ur("__setPluralRules"),jI=Ur("__injectWithOption"),Sh=Ur("__dispose");function Lo(t){if(!Le(t))return t;for(const e in t)if(No(t,e))if(!e.includes("."))Le(t[e])&&Lo(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]in s||(s[n[o]]={}),!Le(s[n[o]])){i=!0;break}s=s[n[o]]}i||(s[n[r]]=t[e],delete t[e]),Le(s[n[r]])&&Lo(s[n[r]])}return t}function xl(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=me(n)?n:Ke(r)?{}:{[t]:{}};if(Ke(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||{},no(l,o[c])):no(l,o)}else Q(a)&&no(JSON.parse(a),o)}),s==null&&i)for(const a in o)No(o,a)&&Lo(o[a]);return o}function qI(t){return t.type}function HI(t,e,n){let r=Le(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=xl(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(Le(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Le(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function zg(t){return ne(Uo,null,t,0)}const Yg="__INTLIFY_META__",Xg=()=>[],BM=()=>!1;let Jg=0;function Zg(t){return(e,n,r,s)=>t(n,r,pn()||void 0,s)}const jM=()=>{const t=pn();let e=null;return t&&(e=qI(t)[Yg])?{[Yg]:e}:null};function Md(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,i=t.flatJson;let o=Ie(t.inheritLocale)?t.inheritLocale:!0;const a=Ze(n&&o?n.locale.value:Q(t.locale)?t.locale:ai),c=Ze(n&&o?n.fallbackLocale.value:Q(t.fallbackLocale)||Ke(t.fallbackLocale)||me(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),l=Ze(xl(a.value,t)),u=Ze(me(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),h=Ze(me(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=n?n.missingWarn:Ie(t.missingWarn)||Nr(t.missingWarn)?t.missingWarn:!0,m=n?n.fallbackWarn:Ie(t.fallbackWarn)||Nr(t.fallbackWarn)?t.fallbackWarn:!0,v=n?n.fallbackRoot:Ie(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,w=$e(t.missing)?t.missing:null,g=$e(t.missing)?Zg(t.missing):null,I=$e(t.postTranslation)?t.postTranslation:null,A=n?n.warnHtmlMessage:Ie(t.warnHtmlMessage)?t.warnHtmlMessage:!0,T=!!t.escapeParameter;const P=n?n.modifiers:me(t.modifiers)?t.modifiers:{};let k=t.pluralRules||n&&n.pluralRules,S;S=(()=>{s&&$g(null);const R={version:UM,locale:a.value,fallbackLocale:c.value,messages:l.value,modifiers:P,pluralRules:k,missing:g===null?void 0:g,missingWarn:f,fallbackWarn:m,fallbackFormat:E,unresolving:!0,postTranslation:I===null?void 0:I,warnHtmlMessage:A,escapeParameter:T,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};R.datetimeFormats=u.value,R.numberFormats=h.value,R.__datetimeFormatters=me(S)?S.__datetimeFormatters:void 0,R.__numberFormatters=me(S)?S.__numberFormatters:void 0;const O=OM(R);return s&&$g(O),O})(),Ni(S,a.value,c.value);function N(){return[a.value,c.value,l.value,u.value,h.value]}const V=Oe({get:()=>a.value,set:R=>{a.value=R,S.locale=a.value}}),ee=Oe({get:()=>c.value,set:R=>{c.value=R,S.fallbackLocale=c.value,Ni(S,a.value,R)}}),B=Oe(()=>l.value),ae=Oe(()=>u.value),Pe=Oe(()=>h.value);function Fe(){return $e(I)?I:null}function te(R){I=R,S.postTranslation=R}function ve(){return w}function de(R){R!==null&&(g=Zg(R)),w=R,S.missing=g}const De=(R,O,X,le,we,je)=>{N();let dt;try{__INTLIFY_PROD_DEVTOOLS__,s||(S.fallbackContext=n?kM():void 0),dt=R(S)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(S.fallbackContext=void 0)}if(X!=="translate exists"&&lt(dt)&&dt===Ml||X==="translate exists"&&!dt){const[tr,Fl]=O();return n&&v?le(n):we(tr)}else{if(je(dt))return dt;throw _t(ft.UNEXPECTED_RETURN_TYPE)}};function tt(...R){return De(O=>Reflect.apply(Hg,null,[O,...R]),()=>wh(...R),"translate",O=>Reflect.apply(O.t,O,[...R]),O=>O,O=>Q(O))}function nt(...R){const[O,X,le]=R;if(le&&!Le(le))throw _t(ft.INVALID_ARGUMENT);return tt(O,X,Pt({resolvedMessage:!0},le||{}))}function Xe(...R){return De(O=>Reflect.apply(Wg,null,[O,...R]),()=>bh(...R),"datetime format",O=>Reflect.apply(O.d,O,[...R]),()=>Fg,O=>Q(O))}function en(...R){return De(O=>Reflect.apply(Qg,null,[O,...R]),()=>Ah(...R),"number format",O=>Reflect.apply(O.n,O,[...R]),()=>Fg,O=>Q(O))}function Gt(R){return R.map(O=>Q(O)||lt(O)||Ie(O)?zg(String(O)):O)}const Je={normalize:Gt,interpolate:R=>R,type:"vnode"};function L(...R){return De(O=>{let X;const le=O;try{le.processor=Je,X=Reflect.apply(Hg,null,[le,...R])}finally{le.processor=null}return X},()=>wh(...R),"translate",O=>O[Rh](...R),O=>[zg(O)],O=>Ke(O))}function K(...R){return De(O=>Reflect.apply(Qg,null,[O,...R]),()=>Ah(...R),"number format",O=>O[Ph](...R),Xg,O=>Q(O)||Ke(O))}function q(...R){return De(O=>Reflect.apply(Wg,null,[O,...R]),()=>bh(...R),"datetime format",O=>O[Ch](...R),Xg,O=>Q(O)||Ke(O))}function Y(R){k=R,S.pluralRules=k}function Te(R,O){return De(()=>{if(!R)return!1;const X=Q(O)?O:a.value,le=p(X),we=S.messageResolver(le,R);return ci(we)||nn(we)||Q(we)},()=>[R],"translate exists",X=>Reflect.apply(X.te,X,[R,O]),BM,X=>Ie(X))}function y(R){let O=null;const X=CI(S,c.value,a.value);for(let le=0;le<X.length;le++){const we=l.value[X[le]]||{},je=S.messageResolver(we,R);if(je!=null){O=je;break}}return O}function d(R){const O=y(R);return O??(n?n.tm(R)||{}:{})}function p(R){return l.value[R]||{}}function _(R,O){if(i){const X={[R]:O};for(const le in X)No(X,le)&&Lo(X[le]);O=X[R]}l.value[R]=O,S.messages=l.value}function b(R,O){l.value[R]=l.value[R]||{};const X={[R]:O};for(const le in X)No(X,le)&&Lo(X[le]);O=X[R],no(O,l.value[R]),S.messages=l.value}function C(R){return u.value[R]||{}}function x(R,O){u.value[R]=O,S.datetimeFormats=u.value,Kg(S,R,O)}function $(R,O){u.value[R]=Pt(u.value[R]||{},O),S.datetimeFormats=u.value,Kg(S,R,O)}function j(R){return h.value[R]||{}}function U(R,O){h.value[R]=O,S.numberFormats=h.value,Gg(S,R,O)}function re(R,O){h.value[R]=Pt(h.value[R]||{},O),S.numberFormats=h.value,Gg(S,R,O)}Jg++,n&&Eh&&(on(n.locale,R=>{o&&(a.value=R,S.locale=R,Ni(S,a.value,c.value))}),on(n.fallbackLocale,R=>{o&&(c.value=R,S.fallbackLocale=R,Ni(S,a.value,c.value))}));const H={id:Jg,locale:V,fallbackLocale:ee,get inheritLocale(){return o},set inheritLocale(R){o=R,R&&n&&(a.value=n.locale.value,c.value=n.fallbackLocale.value,Ni(S,a.value,c.value))},get availableLocales(){return Object.keys(l.value).sort()},messages:B,get modifiers(){return P},get pluralRules(){return k||{}},get isGlobal(){return s},get missingWarn(){return f},set missingWarn(R){f=R,S.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(R){m=R,S.fallbackWarn=m},get fallbackRoot(){return v},set fallbackRoot(R){v=R},get fallbackFormat(){return E},set fallbackFormat(R){E=R,S.fallbackFormat=E},get warnHtmlMessage(){return A},set warnHtmlMessage(R){A=R,S.warnHtmlMessage=R},get escapeParameter(){return T},set escapeParameter(R){T=R,S.escapeParameter=R},t:tt,getLocaleMessage:p,setLocaleMessage:_,mergeLocaleMessage:b,getPostTranslationHandler:Fe,setPostTranslationHandler:te,getMissingHandler:ve,setMissingHandler:de,[BI]:Y};return H.datetimeFormats=ae,H.numberFormats=Pe,H.rt=nt,H.te=Te,H.tm=d,H.d=Xe,H.n=en,H.getDateTimeFormat=C,H.setDateTimeFormat=x,H.mergeDateTimeFormat=$,H.getNumberFormat=j,H.setNumberFormat=U,H.mergeNumberFormat=re,H[jI]=r,H[Rh]=L,H[Ch]=q,H[Ph]=K,H}function qM(t){const e=Q(t.locale)?t.locale:ai,n=Q(t.fallbackLocale)||Ke(t.fallbackLocale)||me(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=$e(t.missing)?t.missing:void 0,s=Ie(t.silentTranslationWarn)||Nr(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=Ie(t.silentFallbackWarn)||Nr(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ie(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=me(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=$e(t.postTranslation)?t.postTranslation:void 0,h=Q(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,m=Ie(t.sync)?t.sync:!0;let v=t.messages;if(me(t.sharedMessages)){const P=t.sharedMessages;v=Object.keys(P).reduce((S,D)=>{const N=S[D]||(S[D]={});return Pt(N,P[D]),S},v||{})}const{__i18n:E,__root:w,__injectWithOption:g}=t,I=t.datetimeFormats,A=t.numberFormats,T=t.flatJson;return{locale:e,fallbackLocale:n,messages:v,flatJson:T,datetimeFormats:I,numberFormats:A,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:m,__i18n:E,__root:w,__injectWithOption:g}}function kh(t={},e){{const n=Md(qM(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return Ie(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=Ie(i)?!i:i},get silentFallbackWarn(){return Ie(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=Ie(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,c]=i,l={};let u=null,h=null;if(!Q(o))throw _t(ft.INVALID_ARGUMENT);const f=o;return Q(a)?l.locale=a:Ke(a)?u=a:me(a)&&(h=a),Ke(c)?u=c:me(c)&&(h=c),Reflect.apply(n.t,n,[f,u||h||{},l])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,c]=i,l={plural:1};let u=null,h=null;if(!Q(o))throw _t(ft.INVALID_ARGUMENT);const f=o;return Q(a)?l.locale=a:lt(a)?l.plural=a:Ke(a)?u=a:me(a)&&(h=a),Q(c)?l.locale=c:Ke(c)?u=c:me(c)&&(h=c),Reflect.apply(n.t,n,[f,u||h||{},l])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return s.__extender=r,s}}const xd={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function HM({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===it?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},{})}function WI(t){return it}const WM=Fo({name:"i18n-t",props:Pt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>lt(t)||!isNaN(t)}},xd),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||bi({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(h=>h!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Q(t.plural)?+t.plural:t.plural);const a=HM(e,i),c=s[Rh](t.keypath,a,o),l=Pt({},r),u=Q(t.tag)||Le(t.tag)?t.tag:WI();return $o(u,l,c)}}}),e_=WM;function KM(t){return Ke(t)&&!Q(t[0])}function KI(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),Q(t.format)?o.key=t.format:Le(t.format)&&(Q(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,m)=>n.includes(m)?Pt({},f,{[m]:t.format[m]}):f,{}));const c=r(t.value,o,a);let l=[o.key];Ke(c)?l=c.map((f,m)=>{const v=s[f.type],E=v?v({[f.type]:f.value,index:m,parts:c}):[f.value];return KM(E)&&(E[0].key=`${f.type}-${m}`),E}):Q(c)&&(l=[c]);const u=Pt({},i),h=Q(t.tag)||Le(t.tag)?t.tag:WI();return $o(h,u,l)}}const QM=Fo({name:"i18n-n",props:Pt({value:{type:Number,required:!0},format:{type:[String,Object]}},xd),setup(t,e){const n=t.i18n||bi({useScope:"parent",__useComponent:!0});return KI(t,e,VI,(...r)=>n[Ph](...r))}}),t_=QM,GM=Fo({name:"i18n-d",props:Pt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},xd),setup(t,e){const n=t.i18n||bi({useScope:"parent",__useComponent:!0});return KI(t,e,FI,(...r)=>n[Ch](...r))}}),n_=GM;function zM(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function YM(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw _t(ft.UNEXPECTED_ERROR);const u=zM(t,a.$),h=r_(l);return[Reflect.apply(u.t,u,[...s_(h)]),u]};return{created:(o,a)=>{const[c,l]=e(a);Eh&&t.global===l&&(o.__i18nWatcher=on(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{Eh&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=r_(a);o.textContent=Reflect.apply(c.t,c,[...s_(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function r_(t){if(Q(t))return{path:t};if(me(t)){if(!("path"in t))throw _t(ft.REQUIRED_VALUE,"path");return t}else throw _t(ft.INVALID_VALUE)}function s_(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return Q(n)&&(o.locale=n),lt(s)&&(o.plural=s),lt(i)&&(o.plural=i),[e,a,o]}function XM(t,e,...n){const r=me(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Ie(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":e_.name,"I18nT"].forEach(o=>t.component(o,e_)),[t_.name,"I18nN"].forEach(o=>t.component(o,t_)),[n_.name,"I18nD"].forEach(o=>t.component(o,n_))),t.directive("t",YM(e))}function JM(t,e,n){return{beforeCreate(){const r=pn();if(!r)throw _t(ft.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=i_(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=kh(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=i_(t,s);else{this.$i18n=kh({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&HI(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=pn();if(!r)throw _t(ft.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function i_(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[BI](e.pluralizationRules||t.pluralizationRules);const n=xl(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const ZM=Ur("global-vue-i18n");function ex(t={},e){const n=__VUE_I18N_LEGACY_API__&&Ie(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Ie(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,i=new Map,[o,a]=tx(t,n),c=Ur("");function l(f){return i.get(f)||null}function u(f,m){i.set(f,m)}function h(f){i.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(m,...v){if(m.__VUE_I18N_SYMBOL__=c,m.provide(m.__VUE_I18N_SYMBOL__,f),me(v[0])){const g=v[0];f.__composerExtend=g.__composerExtend,f.__vueI18nExtend=g.__vueI18nExtend}let E=null;!n&&r&&(E=ux(m,f.global)),__VUE_I18N_FULL_INSTALL__&&XM(m,f,...v),__VUE_I18N_LEGACY_API__&&n&&m.mixin(JM(a,a.__composer,f));const w=m.unmount;m.unmount=()=>{E&&E(),f.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:l,__setInstance:u,__deleteInstance:h};return f}}function bi(t={}){const e=pn();if(e==null)throw _t(ft.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw _t(ft.NOT_INSTALLED);const n=nx(e),r=sx(n),s=qI(e),i=rx(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw _t(ft.NOT_AVAILABLE_IN_LEGACY_MODE);return cx(e,i,r,t)}if(i==="global")return HI(r,t,s),r;if(i==="parent"){let c=ix(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let a=o.__getInstance(e);if(a==null){const c=Pt({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),a=Md(c),o.__composerExtend&&(a[Sh]=o.__composerExtend(a)),ax(o,e,a),o.__setInstance(e,a)}return a}function tx(t,e,n){const r=Mh();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>kh(t)):r.run(()=>Md(t));if(s==null)throw _t(ft.UNEXPECTED_ERROR);return[r,s]}}function nx(t){{const e=an(t.isCE?ZM:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw _t(t.isCE?ft.NOT_INSTALLED_WITH_PROVIDE:ft.UNEXPECTED_ERROR);return e}}function rx(t,e){return Ll(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function sx(t){return t.mode==="composition"?t.global:t.global.__composer}function ix(t,e,n=!1){let r=null;const s=e.root;let i=ox(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[jI]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function ox(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function ax(t,e,n){Vo(()=>{},e),Jh(()=>{const r=n;t.__deleteInstance(e);const s=r[Sh];s&&(s(),delete r[Sh])},e)}function cx(t,e,n,r={}){const s=e==="local",i=Wh(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw _t(ft.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Ie(r.inheritLocale)?r.inheritLocale:!Q(r.locale),a=Ze(!s||o?n.locale.value:Q(r.locale)?r.locale:ai),c=Ze(!s||o?n.fallbackLocale.value:Q(r.fallbackLocale)||Ke(r.fallbackLocale)||me(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),l=Ze(xl(a.value,r)),u=Ze(me(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),h=Ze(me(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:Ie(r.missingWarn)||Nr(r.missingWarn)?r.missingWarn:!0,m=s?n.fallbackWarn:Ie(r.fallbackWarn)||Nr(r.fallbackWarn)?r.fallbackWarn:!0,v=s?n.fallbackRoot:Ie(r.fallbackRoot)?r.fallbackRoot:!0,E=!!r.fallbackFormat,w=$e(r.missing)?r.missing:null,g=$e(r.postTranslation)?r.postTranslation:null,I=s?n.warnHtmlMessage:Ie(r.warnHtmlMessage)?r.warnHtmlMessage:!0,A=!!r.escapeParameter,T=s?n.modifiers:me(r.modifiers)?r.modifiers:{},P=r.pluralRules||s&&n.pluralRules;function k(){return[a.value,c.value,l.value,u.value,h.value]}const S=Oe({get:()=>i.value?i.value.locale.value:a.value,set:p=>{i.value&&(i.value.locale.value=p),a.value=p}}),D=Oe({get:()=>i.value?i.value.fallbackLocale.value:c.value,set:p=>{i.value&&(i.value.fallbackLocale.value=p),c.value=p}}),N=Oe(()=>i.value?i.value.messages.value:l.value),V=Oe(()=>u.value),ee=Oe(()=>h.value);function B(){return i.value?i.value.getPostTranslationHandler():g}function ae(p){i.value&&i.value.setPostTranslationHandler(p)}function Pe(){return i.value?i.value.getMissingHandler():w}function Fe(p){i.value&&i.value.setMissingHandler(p)}function te(p){return k(),p()}function ve(...p){return i.value?te(()=>Reflect.apply(i.value.t,null,[...p])):te(()=>"")}function de(...p){return i.value?Reflect.apply(i.value.rt,null,[...p]):""}function De(...p){return i.value?te(()=>Reflect.apply(i.value.d,null,[...p])):te(()=>"")}function tt(...p){return i.value?te(()=>Reflect.apply(i.value.n,null,[...p])):te(()=>"")}function nt(p){return i.value?i.value.tm(p):{}}function Xe(p,_){return i.value?i.value.te(p,_):!1}function en(p){return i.value?i.value.getLocaleMessage(p):{}}function Gt(p,_){i.value&&(i.value.setLocaleMessage(p,_),l.value[p]=_)}function xn(p,_){i.value&&i.value.mergeLocaleMessage(p,_)}function Je(p){return i.value?i.value.getDateTimeFormat(p):{}}function L(p,_){i.value&&(i.value.setDateTimeFormat(p,_),u.value[p]=_)}function K(p,_){i.value&&i.value.mergeDateTimeFormat(p,_)}function q(p){return i.value?i.value.getNumberFormat(p):{}}function Y(p,_){i.value&&(i.value.setNumberFormat(p,_),h.value[p]=_)}function Te(p,_){i.value&&i.value.mergeNumberFormat(p,_)}const y={get id(){return i.value?i.value.id:-1},locale:S,fallbackLocale:D,messages:N,datetimeFormats:V,numberFormats:ee,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(p){i.value&&(i.value.inheritLocale=p)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(l.value)},get modifiers(){return i.value?i.value.modifiers:T},get pluralRules(){return i.value?i.value.pluralRules:P},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:f},set missingWarn(p){i.value&&(i.value.missingWarn=p)},get fallbackWarn(){return i.value?i.value.fallbackWarn:m},set fallbackWarn(p){i.value&&(i.value.missingWarn=p)},get fallbackRoot(){return i.value?i.value.fallbackRoot:v},set fallbackRoot(p){i.value&&(i.value.fallbackRoot=p)},get fallbackFormat(){return i.value?i.value.fallbackFormat:E},set fallbackFormat(p){i.value&&(i.value.fallbackFormat=p)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:I},set warnHtmlMessage(p){i.value&&(i.value.warnHtmlMessage=p)},get escapeParameter(){return i.value?i.value.escapeParameter:A},set escapeParameter(p){i.value&&(i.value.escapeParameter=p)},t:ve,getPostTranslationHandler:B,setPostTranslationHandler:ae,getMissingHandler:Pe,setMissingHandler:Fe,rt:de,d:De,n:tt,tm:nt,te:Xe,getLocaleMessage:en,setLocaleMessage:Gt,mergeLocaleMessage:xn,getDateTimeFormat:Je,setDateTimeFormat:L,mergeDateTimeFormat:K,getNumberFormat:q,setNumberFormat:Y,mergeNumberFormat:Te};function d(p){p.locale.value=a.value,p.fallbackLocale.value=c.value,Object.keys(l.value).forEach(_=>{p.mergeLocaleMessage(_,l.value[_])}),Object.keys(u.value).forEach(_=>{p.mergeDateTimeFormat(_,u.value[_])}),Object.keys(h.value).forEach(_=>{p.mergeNumberFormat(_,h.value[_])}),p.escapeParameter=A,p.fallbackFormat=E,p.fallbackRoot=v,p.fallbackWarn=m,p.missingWarn=f,p.warnHtmlMessage=I}return j_(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw _t(ft.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const p=i.value=t.proxy.$i18n.__composer;e==="global"?(a.value=p.locale.value,c.value=p.fallbackLocale.value,l.value=p.messages.value,u.value=p.datetimeFormats.value,h.value=p.numberFormats.value):s&&d(p)}),y}const lx=["locale","fallbackLocale","availableLocales"],o_=["t","rt","d","n","tm","te"];function ux(t,e){const n=Object.create(null);return lx.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw _t(ft.UNEXPECTED_ERROR);const o=Be(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,o_.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw _t(ft.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,o_.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}$M();__INTLIFY_JIT_COMPILATION__?Ug(LM):Ug(DM);RM(aM);CM(CI);if(__INTLIFY_PROD_DEVTOOLS__){const t=Bn();t.__INTLIFY__=!0,gM(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const hx="/task-manager/svg/close-white.svg",fx={class:"w-64 h-screen fixed top-0 z-50 bg-white dark:bg-dark-bg-black flex flex-col justify-around"},dx={key:0,src:hx,alt:"close-white"},px={key:1,src:qT,alt:"close"},mx={class:"flex flex-col gap-5 text-lg"},gx={key:0,src:tI,alt:"home-white"},_x={key:1,src:nI,alt:"home"},yx={key:0,src:rI,alt:"task-white"},vx={key:1,src:sI,alt:"task"},Ex={key:0,src:iI,alt:"team-white"},Tx={key:1,src:oI,alt:"team"},Ix={key:1},wx={key:0,src:aI,alt:"logout-white",class:"w-7 h-7"},bx={key:1,src:cI,alt:"logout",class:"w-7 h-7"},Ax={__name:"NavigationPanel",props:{toogleNav:Function},setup(t){const e=Dl(),{mutateAsync:n,isLoading:r}=vI(),s=()=>{n()};return(i,o)=>{const a=ms("router-link");return Z(),ue("div",fx,[G("button",{class:"pl-6",onClick:o[0]||(o[0]=(...c)=>t.toogleNav&&t.toogleNav(...c))},[Ee(e)?(Z(),ue("img",dx)):(Z(),ue("img",px))]),G("div",mx,[ne(a,{to:{name:"home"},class:"nav",onClick:t.toogleNav},{default:Ge(()=>[Ee(e)?(Z(),ue("img",gx)):(Z(),ue("img",_x)),Kt(" "+Ve(i.$t("sidebar.home")),1)]),_:1},8,["onClick"]),ne(a,{to:{name:"tasks"},class:"nav",onClick:t.toogleNav},{default:Ge(()=>[Ee(e)?(Z(),ue("img",yx)):(Z(),ue("img",vx)),Kt(" "+Ve(i.$t("sidebar.tasks")),1)]),_:1},8,["onClick"]),ne(a,{to:{name:"team"},class:"nav",onClick:t.toogleNav},{default:Ge(()=>[Ee(e)?(Z(),ue("img",Ex)):(Z(),ue("img",Tx)),Kt(" "+Ve(i.$t("sidebar.team")),1)]),_:1},8,["onClick"])]),G("div",null,[ne(a,{to:"",class:"nav text-xl",onClick:s},{default:Ge(()=>[Ee(r)?(Z(),$t(yI,{key:0})):(Z(),ue("div",Ix,[Ee(e)?(Z(),ue("img",wx)):(Z(),ue("img",bx))])),G("span",null,Ve(i.$t("sidebar.logOut")),1)]),_:1})])])}}},Rx={class:"sm:px-10 px-5 sm:pt-10 sm:pb-5 py-5 flex items-center justify-between xl:justify-end border-b xl:border-0"},Cx={class:"xl:hidden flex gap-8 items-center"},Px={key:0,src:pL,alt:"nav"},Sx={key:1,src:mL,alt:"nav"},kx=G("img",{src:Ol,alt:"logo",class:"md:w-7 w-5"},null,-1),Ox=G("span",{class:"md:text-2xl tracking-widest"},"TASKIE",-1),Nx={class:"flex items-center gap-6"},Dx={key:0,src:EI,alt:"sun"},Lx={key:1,src:TI,alt:"moon",class:"w-7 h-7"},Mx=["src"],xx={class:"sm:flex flex-col hidden"},Fx={__name:"HeaderDefault",setup(t){const e=Dl(),n=pI(e),r=Ze(!1),s=()=>{r.value=!r.value},i=Vr();function o(u,h){return Math.floor(u+Math.random()*(h+1-u))}const{locale:a}=bi({useScope:"global"}),c=()=>{a.value="ua"},l=()=>{a.value="en"};return(u,h)=>{const f=ms("router-link");return Z(),ue("div",null,[G("div",Rx,[G("div",Cx,[G("button",{onClick:s},[Ee(e)?(Z(),ue("img",Px)):(Z(),ue("img",Sx))]),ne(f,{to:{name:"home"},class:"flex items-center gap-5 xl:hidden"},{default:Ge(()=>[kx,Ox]),_:1})]),G("div",Nx,[G("div",{class:"hidden sm:block"},[G("button",{class:"p-3 border-r-2",onClick:c},"UA"),G("button",{class:"p-3",onClick:l},"EN")]),G("button",{onClick:h[0]||(h[0]=m=>Ee(n)()),class:"hidden sm:block"},[Ee(e)?(Z(),ue("img",Dx)):(Z(),ue("img",Lx))]),ne(f,{to:""},{default:Ge(()=>[G("img",{src:`../svg/avatars/${o(1,10)}-avatar.svg`,class:"w-10",alt:"user"},null,8,Mx)]),_:1}),G("div",xx,[ne(f,{to:""},{default:Ge(()=>[Kt(Ve(Ee(i).userUsername),1)]),_:1}),ne(f,{to:"",class:"text-light-gray"},{default:Ge(()=>[Kt(Ve(Ee(i).userJobTitle),1)]),_:1})])])]),ne(of,{name:"fade"},{default:Ge(()=>[r.value?(Z(),$t(Ax,{key:0,toogleNav:s})):x0("",!0)]),_:1})])}}},Vx={__name:"LayoutDefault",setup(t){return(e,n)=>(Z(),ue(it,null,[ne(dL),ne(Fx),l0(e.$slots,"default")],64))}},Ux={class:"bg-white dark:bg-dark-bg-black lg:px-32 sm:text-lg w-full fixed top-0 left-0"},$x={class:"flex justify-between p-5"},Bx=G("img",{src:Ol,alt:"logo",class:"sm:w-7 w-5"},null,-1),jx=G("span",{class:"sm:text-2xl tracking-widest"},"TASKIE",-1),qx={class:"flex gap-5 sm:gap-11 items-center"},Hx={key:0,src:EI,alt:"sun"},Wx={key:1,src:TI,alt:"moon",class:"w-7 h-7"},Kx={class:"h-screen pt-52 w-96 m-auto text-center"},Qx={class:"text-5xl mb-6"},Gx={class:"block text-lg mb-6"},zx={__name:"HomeDefault",setup(t){const e=Dl(),n=pI(e),{locale:r}=bi({useScope:"global"}),s=()=>{r.value="ua",localStorage.setItem("lang",r.value)},i=()=>{r.value="en",localStorage.setItem("lang",r.value)};return(o,a)=>{const c=ms("router-link");return Z(),ue(it,null,[G("div",Ux,[G("nav",$x,[ne(c,{to:{name:"home"},class:"flex gap-3 items-center"},{default:Ge(()=>[Bx,jx]),_:1}),G("div",qx,[G("div",{class:"hidden sm:block"},[G("button",{class:"p-3 border-r-2",onClick:s},"UA"),G("button",{class:"p-3",onClick:i},"EN")]),G("button",{onClick:a[0]||(a[0]=l=>Ee(n)()),class:"hidden sm:block"},[Ee(e)?(Z(),ue("img",Hx)):(Z(),ue("img",Wx))]),ne(c,{to:{name:"login"},class:"p-2 hover:opacity-70 underline"},{default:Ge(()=>[Kt(Ve(o.$t("buttons.logIn")),1)]),_:1}),ne(c,{to:{name:"signup"},class:"flex justify-center items-center gap-5 text-white h-10 bg-black dark:bg-white dark:text-black px-2 rounded-lg hover:bg-blue-600 hover:text-black dark:hover:hover:bg-blue-600 dark:hover:text-black"},{default:Ge(()=>[Kt(Ve(o.$t("buttons.getStarted")),1)]),_:1})])])]),G("div",Kx,[G("h1",Qx,Ve(o.$t("titles.titleHome")),1),G("span",Gx,Ve(o.$t("texts.textHome")),1),ne(c,{to:{name:"signup"},class:"flex justify-center items-center gap-5 text-white text-lg bg-black p-2 rounded-lg hover:bg-blue-600 hover:text-black w-40 m-auto"},{default:Ge(()=>[Kt(Ve(o.$t("buttons.getStarted")),1)]),_:1})])],64)}}};function Fd(){const t=la(),{data:e}=kl(),n=Oe(()=>{var r;return(r=e.value)==null?void 0:r.uid});return df({queryKey:["tasks",n],queryFn:()=>l1(n.value),onError:()=>{t.addNotification("error","Error loading tasks!")}})}const Yx={class:"block text-2xl mb-3"},Xx={class:"block overflow-hidden text-ellipsis whitespace-nowrap mb-7 w-60"},Jx={class:"block mb-3"},Zx={class:"py-1 px-3 rounded-2xl bg-emerald-400 dark:bg-emerald-900 text-sm"},eF={class:"block"},tF={__name:"TasksHome",setup(t){const{data:e}=Fd(),n=Vr();return(r,s)=>{const i=ms("router-link");return Z(),$t(i,{to:{name:"tasks"},class:"flex [&>*:first-child]:ml-0 overflow-x-auto"},{default:Ge(()=>[(Z(!0),ue(it,null,Zh(Ee(e),o=>(Z(),ue("div",{class:"w-64 -ml-28 border border-light-gray border-l-4 border-l-zinc-400 rounded-xl bg-white dark:bg-dark-bg-black p-4 flex flex-col justify-between gap-3",key:o.id},[G("div",null,[G("span",Yx,Ve(o.name),1),G("span",Xx,Ve(o.description),1),G("span",Jx,[Kt(Ve(r.$t("tasks.createdBy"))+" ",1),G("span",Zx,Ve(o.createdByUsername),1)]),G("span",eF,[Kt(Ve(r.$t("tasks.assignedTo"))+" ",1),G("span",{class:vr(["py-1 px-3 rounded-2xl text-sm",[{"bg-emerald-400":o.assignedToId===Ee(n).userId,"dark:bg-emerald-900":o.assignedToId===Ee(n).userId,"bg-lime-300":o.assignedToId!==Ee(n).userId,"dark:bg-lime-800":o.assignedToId!==Ee(n).userId}]])},Ve(o.assignedToUsername),3)])])]))),128))]),_:1})}}};function QI(){const t=la();return df({queryKey:["team"],queryFn:u1,onError:()=>{t.addNotification("error","Error getting team members!")}})}const nF={class:"flex justify-between items-center"},rF={class:"block mb-6 w-40"},sF=["src"],iF={class:"block text-sm text-light-gray"},oF={__name:"TeamHome",setup(t){const{data:e}=QI();function n(r,s){return Math.floor(r+Math.random()*(s+1-r))}return(r,s)=>{const i=ms("router-link");return Z(),$t(i,{to:{name:"team"},class:"flex [&>*:first-child]:ml-0 overflow-x-auto"},{default:Ge(()=>[(Z(!0),ue(it,null,Zh(Ee(e),o=>(Z(),ue("div",{key:o.uid,class:"-ml-20 border-2 border-emerald-500 rounded-xl w-52 bg-white dark:bg-dark-bg-black dark:border-zinc-400 p-3"},[G("div",nF,[G("span",rF,Ve(o.username),1),G("img",{src:`/svg/avatars/${n(1,10)}-avatar.svg`,alt:"avatar",class:"w-12"},null,8,sF)]),G("span",iF,Ve(o.jobTitle),1)]))),128))]),_:1})}}},aF={class:"sm:mt-20 mt-10 mb-10 sm:mb-40 sm:px-5 pl-5"},cF={class:"text-3xl mb-8"},lF={class:"sm:px-5 pl-5"},uF={class:"text-3xl mb-8"},hF={__name:"HomeMain",setup(t){const{data:e}=Fd(),{data:n}=QI();return(r,s)=>{var i,o;return Z(),ue("div",null,[G("div",aF,[G("h1",cF,Ve(r.$t("titles.tasksLength"))+" "+Ve((i=Ee(e))==null?void 0:i.length),1),ne(tF)]),G("div",lF,[G("h1",uF,Ve(r.$t("titles.teamLength"))+" "+Ve((o=Ee(n))==null?void 0:o.length),1),ne(oF)])])}}},fF={},dF={class:"bg-gradient-to-r from-zinc-300 animate-pulse rounded-lg"};function pF(t,e){return Z(),ue("div",dF,"")}const Wn=Pd(fF,[["render",pF]]),mF={class:"h-48 w-64 border -ml-16 border-light-gray border-l-4 border-l-zinc-400 rounded-xl bg-white dark:bg-dark-bg-black p-4 flex flex-col justify-between gap-3"},Na={__name:"TasksHomeSceleton",setup(t){return(e,n)=>(Z(),ue("div",mF,[G("div",null,[ne(Wn,{class:"w-40 h-10 mb-3"}),ne(Wn,{class:"max-w-[90%] mb-3"}),ne(Wn,{class:"max-w-[50%] h-7 mb-1"}),ne(Wn,{class:"max-w-[50%] h-7"})])]))}},gF={class:"border-2 border-zinc-300 rounded-xl w-52 bg-white dark:bg-dark-bg-black dark:border-zinc-400 p-3"},_F={class:"flex justify-between items-center"},Da={__name:"MemberSceleton",setup(t){return(e,n)=>(Z(),ue("div",gF,[G("div",_F,[ne(Wn,{class:"h-7 w-24"}),ne(Wn,{class:"h-12 w-12 rounded-full"})]),ne(Wn,{class:"w-36 h-7"})]))}},yF={class:"mt-20 mb-40 px-5"},vF={class:"flex [&>*:first-child]:ml-0"},EF={class:"px-5"},TF={class:"flex [&>*:first-child]:ml-0"},IF={__name:"HomeMainSceleton",setup(t){return(e,n)=>(Z(),ue("div",null,[G("div",yF,[ne(Wn,{class:"w-40 h-10 mb-5"}),G("div",vF,[ne(Na),ne(Na),ne(Na),ne(Na)])]),G("div",EF,[ne(Wn,{class:"w-40 h-10 mb-5"}),G("div",TF,[ne(Da,{class:"-mb-20"}),ne(Da,{class:"-mb-20"}),ne(Da,{class:"-mb-20"}),ne(Da,{class:"-mb-20"})])])]))}},wF={class:"xl:ml-64"},bF={__name:"HomeView",setup(t){const{data:e}=kl(),{isLoading:n}=Fd();return(r,s)=>{var i;return Z(),ue("div",null,[(i=Ee(e))!=null&&i.uid?(Z(),$t(Vx,{key:0},{default:Ge(()=>[G("div",wF,[Ee(n)?(Z(),$t(IF,{key:0})):(Z(),$t(hF,{key:1}))])]),_:1})):(Z(),$t(zx,{key:1}))])}}},Vd=SD({history:W1("/task-manager"),routes:[{path:"/",name:"home",component:bF},{path:"/login",name:"login",component:()=>Pa(()=>import("./LogIn-e2ebe442.js"),[])},{path:"/signup",name:"signup",component:()=>Pa(()=>import("./SignUp-e159a3f7.js"),[])},{path:"/tasks",name:"tasks",component:()=>Pa(()=>import("./TasksView-668fc702.js"),["assets/TasksView-668fc702.js","assets/TasksView-088ac12a.css"]),meta:{requiresAuth:!0}},{path:"/team",name:"team",component:()=>Pa(()=>import("./TeamView-388e6d85.js"),[]),meta:{requiresAuth:!0}}]});Vd.beforeEach((t,e,n)=>{if(t.matched.some(r=>r.meta.requiresAuth)&&!ti.currentUser){n("/");return}n()});const AF={titleHome:"The best platform for cross-functional work",newTasks:"New tasks",inProgress:"In Progress",completed:"Completed",team:"Team members",noTask:"You don't have any tasks yet",noTeam:"You don't have any team members yet",tasksLength:"Your tasks : ",teamLength:"Your team members : ",noSearchTask:"Can't find any task matches "},RF={textHome:"Want more efficiency in your organization? Taskie is easy for all teams to use, so you can deliver quality work, faster.",textLogIn:"Don't have an account?",selectJob:"Please select your job title:",textSignUp:"Already have an account?",selectMember:"Select a team member"},CF={getStarted:"Get started",logIn:"Log In",signUp:"Sign Up",addNew:"Add New",add:"Add",cancel:"Cancel",confirm:"Confirm",edit:"Edit",inProgress:"In Progress",complete:"Complete",assign:"Assign to:"},PF={email:"Input your email address",password:"Input your password",createPassword:"Create your password",username:"Create your username",search:"Search",taskName:"Write a task name",taskDescription:"Write a task description",taskEndDate:"Select task's end date",changeEndDate:"Change task's end date",confirmPassword:"Confirm your password"},SF={home:"Home",tasks:"My tasks",team:"Team",settings:"Settings",logOut:"Log Out"},kF={markNew:"New",markInProgress:"In Progress",markCompleted:"Completed",createdBy:"Created By:",assignedTo:"Assigned to:",creationDate:"Creation Date:",endDate:"End Date:"},OF={titles:AF,texts:RF,buttons:CF,placeholders:PF,sidebar:SF,tasks:kF},NF={titleHome:"    ",newTasks:" ",inProgress:" ",completed:"",team:" ",noTask:"  ",noTeam:"   ",tasksLength:"   : ",teamLength:"  : ",noSearchTask:"  ,      "},DF={textHome:"     ? Taskie      ,       .",textLogIn:"  ?",selectJob:"  :",textSignUp:"  ?",selectMember:"  "},LF={getStarted:"",logIn:"",signUp:"",addNew:"  ",add:"",cancel:"",confirm:"",edit:"",inProgress:" ",complete:"",assign:" :"},MF={email:"  email",password:"  ",createPassword:"  ",username:"  ",search:"",taskName:" ",taskDescription:" ",taskEndDate:"   ",changeEndDate:"   ",confirmPassword:"  "},xF={home:" ",tasks:" ",team:"",settings:"",logOut:""},FF={markNew:" ",markInProgress:" ",markCompleted:"",createdBy:":",assignedTo:" :",creationDate:":",endDate:""},VF={titles:NF,texts:DF,buttons:LF,placeholders:MF,sidebar:xF,tasks:FF},UF="eu",$F={en:OF,ua:VF},BF=Object.assign($F),jF=localStorage.getItem("lang"),qF=ex({legacy:!1,locale:jF||UF,fallbackLocale:"en",messages:BF}),ua=Ab(A1,{setup(){const{t}=bi();return{t}}});ua.use(qF);ua.use(Pb());ua.use(Vd);ua.use(aA);ua.mount("#app");export{$o as $,Oe as A,Tr as B,qs as C,an as D,xa as E,it as F,xo as G,hV as H,Zh as I,XF as J,Ou as K,yI as L,Fo as M,GF as N,Fw as O,Vo as P,Jh as Q,QF as R,l0 as S,HF as T,M0 as U,F0 as V,WF as W,N0 as X,of as Y,vr as Z,Ol as _,la as a,eV as a0,ZF as a1,Fc as a2,s0 as a3,zF as a4,xh as a5,Uc as a6,lV as a7,jT as a8,dV as a9,fV as aa,hI as ab,ND as ac,si as ad,lI as ae,FD as af,uI as ag,aV as ah,cV as ai,Dl as aj,hx as ak,qT as al,sV as am,iV as an,oV as ao,Vr as ap,QI as aq,Fd as ar,Wn as as,Vx as at,Da as au,lA as b,Ze as c,ms as d,ue as e,G as f,ne as g,JF as h,KF as i,Ee as j,$t as k,uV as l,x0 as m,Kt as n,Z as o,pn as p,j_ as q,Vd as r,on as s,Ve as t,Yc as u,YF as v,Ge as w,Be as x,Gn as y,H_ as z};
