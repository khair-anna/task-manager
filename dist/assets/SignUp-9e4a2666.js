import{k as Re,c as E,m as Ee,n as z,p as G,q as D,s as Oe,x as v,y as f,z as _e,A as ke,B as X,C as Y,D as ee,u as je,a as Pe,b as Ce,E as Ve,r as Ae,d as Se,o as w,e as R,f as x,g as te,w as re,h as Te,i as S,v as L,F as C,G as A,t as O,H as ze,j as Le,_ as Ie}from"./index-debc1035.js";function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ne(Object(t),!0).forEach(function(r){Ne(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function se(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=f(e[r])),t),{})}function N(e){return typeof e=="function"}function De(e){return _e(e)||ke(e)}function ce(e,n,t){let r=e;const a=n.split(".");for(let c=0;c<a.length;c++){if(!r[a[c]])return t;r=r[a[c]]}return r}function M(e,n,t){return v(()=>e.some(r=>ce(n,r,{[t]:!1})[t]))}function ae(e,n,t){return v(()=>e.reduce((r,a)=>{const c=ce(n,a,{[t]:!1})[t]||[];return r.concat(c)},[]))}function de(e,n,t,r){return e.call(r,f(n),f(t),r)}function fe(e){return e.$valid!==void 0?!e.$valid:!e}function Fe(e,n,t,r,a,c,g){let{$lazy:l,$rewardEarly:i}=a,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],o=arguments.length>8?arguments[8]:void 0,m=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const p=E(!!r.value),s=E(0);t.value=!1;const $=z([n,r].concat(u,h),()=>{if(l&&!r.value||i&&!m.value&&!t.value)return;let d;try{d=de(e,n,o,g)}catch(y){d=Promise.reject(y)}s.value++,t.value=!!s.value,p.value=!1,Promise.resolve(d).then(y=>{s.value--,t.value=!!s.value,c.value=y,p.value=fe(y)}).catch(y=>{s.value--,t.value=!!s.value,c.value=y,p.value=!0})},{immediate:!0,deep:typeof n=="object"});return{$invalid:p,$unwatch:$}}function Ue(e,n,t,r,a,c,g,l){let{$lazy:i,$rewardEarly:u}=r;const o=()=>({}),m=v(()=>{if(i&&!t.value||u&&!l.value)return!1;let h=!0;try{const p=de(e,n,g,c);a.value=p,h=fe(p)}catch(p){a.value=p}return h});return{$unwatch:o,$invalid:m}}function qe(e,n,t,r,a,c,g,l,i,u,o){const m=E(!1),h=e.$params||{},p=E(null);let s,$;e.$async?{$invalid:s,$unwatch:$}=Fe(e.$validator,n,m,t,r,p,a,e.$watchTargets,i,u,o):{$invalid:s,$unwatch:$}=Ue(e.$validator,n,t,r,p,a,i,u);const d=e.$message;return{$message:N(d)?v(()=>d(se({$pending:m,$invalid:s,$params:se(h),$model:n,$response:p,$validator:c,$propertyPath:l,$property:g}))):d||"",$params:h,$pending:m,$invalid:s,$response:p,$unwatch:$}}function Be(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=f(e),t=Object.keys(n),r={},a={},c={};let g=null;return t.forEach(l=>{const i=n[l];switch(!0){case N(i.$validator):r[l]=i;break;case N(i):r[l]={$validator:i};break;case l==="$validationGroups":g=i;break;case l.startsWith("$"):c[l]=i;break;default:a[l]=i}}),{rules:r,nestedValidators:a,config:c,validationGroups:g}}const Me="__root";function Ge(e,n,t,r,a,c,g,l,i){const u=Object.keys(e),o=r.get(a,e),m=E(!1),h=E(!1),p=E(0);if(o){if(!o.$partial)return o;o.$unwatch(),m.value=o.$dirty.value}const s={$dirty:m,$path:a,$touch:()=>{m.value||(m.value=!0)},$reset:()=>{m.value&&(m.value=!1)},$commit:()=>{}};return u.length?(u.forEach($=>{s[$]=qe(e[$],n,s.$dirty,c,g,$,t,a,i,h,p)}),s.$externalResults=v(()=>l.value?[].concat(l.value).map(($,d)=>({$propertyPath:a,$property:t,$validator:"$externalResults",$uid:`${a}-externalResult-${d}`,$message:$,$params:{},$response:null,$pending:!1})):[]),s.$invalid=v(()=>{const $=u.some(d=>f(s[d].$invalid));return h.value=$,!!s.$externalResults.value.length||$}),s.$pending=v(()=>u.some($=>f(s[$].$pending))),s.$error=v(()=>s.$dirty.value?s.$pending.value||s.$invalid.value:!1),s.$silentErrors=v(()=>u.filter($=>f(s[$].$invalid)).map($=>{const d=s[$];return D({$propertyPath:a,$property:t,$validator:$,$uid:`${a}-${$}`,$message:d.$message,$params:d.$params,$response:d.$response,$pending:d.$pending})}).concat(s.$externalResults.value)),s.$errors=v(()=>s.$dirty.value?s.$silentErrors.value:[]),s.$unwatch=()=>u.forEach($=>{s[$].$unwatch()}),s.$commit=()=>{h.value=!0,p.value=Date.now()},r.set(a,e,s),s):(o&&r.set(a,e,s),s)}function He(e,n,t,r,a,c,g){const l=Object.keys(e);return l.length?l.reduce((i,u)=>(i[u]=H({validations:e[u],state:n,key:u,parentKey:t,resultsCache:r,globalConfig:a,instance:c,externalResults:g}),i),{}):{}}function We(e,n,t){const r=v(()=>[n,t].filter(s=>s).reduce((s,$)=>s.concat(Object.values(f($))),[])),a=v({get(){return e.$dirty.value||(r.value.length?r.value.every(s=>s.$dirty):!1)},set(s){e.$dirty.value=s}}),c=v(()=>{const s=f(e.$silentErrors)||[],$=r.value.filter(d=>(f(d).$silentErrors||[]).length).reduce((d,y)=>d.concat(...y.$silentErrors),[]);return s.concat($)}),g=v(()=>{const s=f(e.$errors)||[],$=r.value.filter(d=>(f(d).$errors||[]).length).reduce((d,y)=>d.concat(...y.$errors),[]);return s.concat($)}),l=v(()=>r.value.some(s=>s.$invalid)||f(e.$invalid)||!1),i=v(()=>r.value.some(s=>f(s.$pending))||f(e.$pending)||!1),u=v(()=>r.value.some(s=>s.$dirty)||r.value.some(s=>s.$anyDirty)||a.value),o=v(()=>a.value?i.value||l.value:!1),m=()=>{e.$touch(),r.value.forEach(s=>{s.$touch()})},h=()=>{e.$commit(),r.value.forEach(s=>{s.$commit()})},p=()=>{e.$reset(),r.value.forEach(s=>{s.$reset()})};return r.value.length&&r.value.every(s=>s.$dirty)&&m(),{$dirty:a,$errors:g,$invalid:l,$anyDirty:u,$error:o,$pending:i,$touch:m,$reset:p,$silentErrors:c,$commit:h}}function H(e){let{validations:n,state:t,key:r,parentKey:a,childResults:c,resultsCache:g,globalConfig:l={},instance:i,externalResults:u}=e;const o=a?`${a}.${r}`:r,{rules:m,nestedValidators:h,config:p,validationGroups:s}=Be(n),$=k(k({},l),p),d=r?v(()=>{const b=f(t);return b?f(b[r]):void 0}):t,y=k({},f(u)||{}),J=v(()=>{const b=f(u);return r?b?f(b[r]):void 0:b}),K=Ge(m,d,r,g,o,$,i,J,t),j=He(h,d,o,g,$,i,J),Q={};s&&Object.entries(s).forEach(b=>{let[P,_]=b;Q[P]={$invalid:M(_,j,"$invalid"),$error:M(_,j,"$error"),$pending:M(_,j,"$pending"),$errors:ae(_,j,"$errors"),$silentErrors:ae(_,j,"$silentErrors")}});const{$dirty:F,$errors:me,$invalid:U,$anyDirty:pe,$error:ge,$pending:q,$touch:B,$reset:ve,$silentErrors:he,$commit:Z}=We(K,j,c),ye=r?v({get:()=>f(d),set:b=>{F.value=!0;const P=f(t),_=f(u);_&&(_[r]=y[r]),G(P[r])?P[r].value=b:P[r]=b}}):null;r&&$.$autoDirty&&z(d,()=>{F.value||B();const b=f(u);b&&(b[r]=y[r])},{flush:"sync"});async function be(){return B(),$.$rewardEarly&&(Z(),await ee()),await ee(),new Promise(b=>{if(!q.value)return b(!U.value);const P=z(q,()=>{b(!U.value),P()})})}function xe(b){return(c.value||{})[b]}function we(){G(u)?u.value=y:Object.keys(y).length===0?Object.keys(u).forEach(b=>{delete u[b]}):Object.assign(u,y)}return D(k(k(k({},K),{},{$model:ye,$dirty:F,$error:ge,$errors:me,$invalid:U,$anyDirty:pe,$pending:q,$touch:B,$reset:ve,$path:o||Me,$silentErrors:he,$validate:be,$commit:Z},c&&{$getResultsForChild:xe,$clearExternalResults:we,$validationGroups:Q}),j))}class Je{constructor(){this.storage=new Map}set(n,t,r){this.storage.set(n,{rules:t,result:r})}checkRulesValidity(n,t,r){const a=Object.keys(r),c=Object.keys(t);return c.length!==a.length||!c.every(l=>a.includes(l))?!1:c.every(l=>t[l].$params?Object.keys(t[l].$params).every(i=>f(r[l].$params[i])===f(t[l].$params[i])):!0)}get(n,t){const r=this.storage.get(n);if(!r)return;const{rules:a,result:c}=r,g=this.checkRulesValidity(n,t,a),l=c.$unwatch?c.$unwatch:()=>({});return g?c:{$dirty:c.$dirty,$partial:!0,$unwatch:l}}}const I={COLLECT_ALL:!0,COLLECT_NONE:!1},oe=Symbol("vuelidate#injectChildResults"),le=Symbol("vuelidate#removeChildResults");function Ke(e){let{$scope:n,instance:t}=e;const r={},a=E([]),c=v(()=>a.value.reduce((o,m)=>(o[m]=f(r[m]),o),{}));function g(o,m){let{$registerAs:h,$scope:p,$stopPropagation:s}=m;s||n===I.COLLECT_NONE||p===I.COLLECT_NONE||n!==I.COLLECT_ALL&&n!==p||(r[h]=o,a.value.push(h))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],g);function l(o){a.value=a.value.filter(m=>m!==o),delete r[o]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],l);const i=X(oe,[]);Y(oe,t.__vuelidateInjectInstances);const u=X(le,[]);return Y(le,t.__vuelidateRemoveInstances),{childResults:c,sendValidationResultsToParent:i,removeValidationResultsFromParent:u}}function $e(e){return new Proxy(e,{get(n,t){return typeof n[t]=="object"?$e(n[t]):v(()=>n[t])}})}let ie=0;function Qe(e,n){var t;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(r=e,e=void 0,n=void 0);let{$registerAs:a,$scope:c=I.COLLECT_ALL,$stopPropagation:g,$externalResults:l,currentVueInstance:i}=r;const u=i||((t=Re())===null||t===void 0?void 0:t.proxy),o=u?u.$options:{};a||(ie+=1,a=`_vuelidate_${ie}`);const m=E({}),h=new Je,{childResults:p,sendValidationResultsToParent:s,removeValidationResultsFromParent:$}=u?Ke({$scope:c,instance:u}):{childResults:E({})};if(!e&&o.validations){const d=o.validations;n=E({}),Ee(()=>{n.value=u,z(()=>N(d)?d.call(n.value,new $e(n.value)):d,y=>{m.value=H({validations:y,state:n,childResults:p,resultsCache:h,globalConfig:r,instance:u,externalResults:l||u.vuelidateExternalResults})},{immediate:!0})}),r=o.validationsConfig||r}else{const d=G(e)||De(e)?e:D(e||{});z(d,y=>{m.value=H({validations:y,state:n,childResults:p,resultsCache:h,globalConfig:r,instance:u??{},externalResults:l})},{immediate:!0})}return u&&(s.forEach(d=>d(m,{$registerAs:a,$scope:c,$stopPropagation:g})),Oe(()=>$.forEach(d=>d(a)))),v(()=>k(k({},f(m.value)),p.value))}const W=e=>{if(e=f(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let n in e)return!0;return!1}return!!String(e).length},Ze=e=>(e=f(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function V(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r=>(r=f(r),!W(r)||n.every(a=>(a.lastIndex=0,a.test(r))))}V(/^[a-zA-Z]*$/);V(/^[a-zA-Z0-9]*$/);V(/^\d*(\.\d+)?$/);const Xe=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ye=V(Xe),et={$validator:Ye,$message:"Value is not a valid email address",$params:{type:"email"}};function tt(e){return n=>!W(n)||Ze(n)>=f(e)}function ue(e){return{$validator:tt(e),$message:n=>{let{$params:t}=n;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function rt(e){return typeof e=="string"&&(e=e.trim()),W(e)}var T={$validator:rt,$message:"Value is required",$params:{type:"required"}};function nt(e){return n=>f(n)===f(e)}function st(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"other";return{$validator:nt(e),$message:t=>`The value must be equal to the ${n} value`,$params:{equalTo:e,otherName:n,type:"sameAs"}}}const at=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;V(at);V(/(^[0-9]*$)|(^-[0-9]+$)/);V(/^[-]?\d*(\.\d+)?$/);function ot(){const e=je(),n=Pe();return Ce({mutationFn:t=>Ve(t),onSuccess:()=>{n.addNotification("success","Your accout was successfully signed up"),e.invalidateQueries({queryKey:["user"]}),Ae.push("/")},onError:t=>{switch(t.code){case"auth/email-already-in-use":n.addNotification("error","Email already in use!");break;case"auth/invalid-email":alert("Invalid email"),n.addNotification("error","Invalid email!");break;case"auth/operation-not-allowed":n.addNotification("error","Operation not allowed!");break;case"auth/weak-password":n.addNotification("error","Weak password!");break;default:n.addNotification("error","Error signing up!")}}})}const lt={class:"pl-32 pt-7"},it=x("img",{src:Ie,alt:"logo"},null,-1),ut=x("span",{class:"text-2xl tracking-widest"},"TASKIE",-1),ct={class:"flex flex-col items-center justify-center h-screen -mt-7"},dt=["placeholder"],ft=["placeholder"],$t=["placeholder"],mt=["placeholder"],pt={class:"dark:text-zinc-400"},gt={disabled:""},vt={type:"submit",class:"border-2 rounded-lg mx-auto text-xl bg-main-blue py-1 px-2 text-black dark:text-zinc-200 dark:border-0"},ht={class:"mt-10 block text-center"},yt={class:"block pb-3 dark:text-zinc-400"},xt={__name:"SignUp",setup(e){const n=E(["BackEnd developer","FrontEnd developer","HR manager","Office manager","Project Manager","Security specialist","UI/UX"]),t=D({username:"",email:"",password:"",confirmPassword:"",jobTitle:""}),r=v(()=>({username:{required:T,minLength:ue(4)},email:{required:T,email:et},password:{required:T,minLength:ue(8)},confirmPassword:{required:T,sameAs:st(t.password)},jobTitle:{required:T}})),a=Qe(r,t),{mutateAsync:c}=ot(),g=async l=>{await a.value.$validate()&&c(l)};return(l,i)=>{const u=Se("router-link");return w(),R(C,null,[x("div",lt,[te(u,{to:{name:"home"},class:"flex gap-3 items-center"},{default:re(()=>[it,ut]),_:1})]),x("div",ct,[x("form",{onSubmit:i[5]||(i[5]=Te(o=>g(t),["prevent"])),class:"flex flex-col gap-5"},[S(x("input",{type:"text",name:"name",placeholder:l.$t("placeholders.username"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":i[0]||(i[0]=o=>t.username=o)},null,8,dt),[[L,t.username]]),(w(!0),R(C,null,A(f(a).username.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},O(o.$message),1))),128)),S(x("input",{name:"email",placeholder:l.$t("placeholders.email"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":i[1]||(i[1]=o=>t.email=o)},null,8,ft),[[L,t.email]]),(w(!0),R(C,null,A(f(a).email.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},O(o.$message),1))),128)),S(x("input",{name:"password",type:"password",placeholder:l.$t("placeholders.createPassword"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":i[2]||(i[2]=o=>t.password=o)},null,8,$t),[[L,t.password]]),(w(!0),R(C,null,A(f(a).password.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},O(o.$message),1))),128)),S(x("input",{name:"password",type:"password",placeholder:l.$t("placeholders.confirmPassword"),class:"h-10 w-80 rounded-lg p-3 dark:bg-dark-bg-black","onUpdate:modelValue":i[3]||(i[3]=o=>t.confirmPassword=o)},null,8,mt),[[L,t.confirmPassword]]),(w(!0),R(C,null,A(f(a).confirmPassword.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},O(o.$message),1))),128)),x("label",pt,O(l.$t("texts.selectJob")),1),S(x("select",{"onUpdate:modelValue":i[4]||(i[4]=o=>t.jobTitle=o),class:"dark:bg-dark-bg-black"},[x("option",gt,O(l.$t("texts.selectJob")),1),(w(!0),R(C,null,A(n.value,(o,m)=>(w(),R("option",{key:m},O(o),1))),128))],512),[[ze,t.jobTitle]]),(w(!0),R(C,null,A(f(a).jobTitle.$errors,o=>(w(),R("span",{key:o.$uid,class:"text-sm text-red-600 -mt-5"},O(o.$message),1))),128)),x("button",vt,O(l.$t("buttons.signUp")),1)],32),x("div",ht,[x("span",yt,O(l.$t("texts.textSignUp")),1),te(u,{to:{name:"login"},class:"underline text-lg dark:text-zinc-300"},{default:re(()=>[Le(O(l.$t("buttons.logIn")),1)]),_:1})])])],64)}}};export{xt as default};
